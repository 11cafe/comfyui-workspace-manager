import{b as he,f as R,j as r,g as z,e as ee,r as c,m as me,q as $,ab as De,I as vt,L as Tt,G as Mt,ac as Pt,ad as Be,k as xt,o as He,d as Y,x as Dt,y as gn,p as rt,E as yn,n as bn,V as pn,h as Sn,M as wn,N as Pn,O as In,Q as Cn,R as kn,S as Nn}from"./input.js";import{ai as jn,aj as Rt,ak as _n,al as An,$ as En,h as We,F as j,am as Tn,I as Q,n as Mn,an as Dn,B as Rn,l as Te,m as pe,z as Ft,a9 as Ot,ao as Fn,a6 as Bt,k as On,H as Ke,i as Bn,a8 as zt,A as ut,ap as zn,C as Vn}from"./App-VdbRDZI5.js";import{I as Kn,S as $n,M as Ln,a as Un}from"./MediaPreview-bX61BfGa.js";import{I as Gn,C as gt,G as Hn}from"./chunk-JARCRF6W-U0TdV8jJ.js";import{S as Wn}from"./chunk-3RSXBRAN-pYtvHfMG.js";import{L as dt}from"./chunk-K7XRJ7NL-DRLDc1uk.js";import"/scripts/app.js";import"/scripts/api.js";import"./index-pz0vT7Or.js";const Vt=1/60*1e3,Yn=typeof performance<"u"?()=>performance.now():()=>Date.now(),Kt=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Yn()),Vt);function qn(e){let t=[],n=[],a=0,s=!1,o=!1;const i=new WeakSet,d={schedule:(l,u=!1,h=!1)=>{const m=h&&s,x=m?t:n;return u&&i.add(l),x.indexOf(l)===-1&&(x.push(l),m&&s&&(a=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.length=0,a=t.length,a)for(let u=0;u<a;u++){const h=t[u];h(l),i.has(h)&&(d.schedule(h),e())}s=!1,o&&(o=!1,d.process(l))}};return d}const Xn=40;let mt=!0,Me=!1,ht=!1;const Se={delta:0,timestamp:0},Re=["read","update","preRender","render","postRender"],Ye=Re.reduce((e,t)=>(e[t]=qn(()=>Me=!0),e),{}),Jn=Re.reduce((e,t)=>{const n=Ye[t];return e[t]=(a,s=!1,o=!1)=>(Me||ea(),n.schedule(a,s,o)),e},{}),Zn=Re.reduce((e,t)=>(e[t]=Ye[t].cancel,e),{});Re.reduce((e,t)=>(e[t]=()=>Ye[t].process(Se),e),{});const Qn=e=>Ye[e].process(Se),$t=e=>{Me=!1,Se.delta=mt?Vt:Math.max(Math.min(e-Se.timestamp,Xn),1),Se.timestamp=e,ht=!0,Re.forEach(Qn),ht=!1,Me&&(mt=!1,Kt($t))},ea=()=>{Me=!0,mt=!0,ht||Kt($t)},It=()=>Se;var[ta,qe]=he({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[na,yt]=he({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[aa,Fr,ra,sa]=jn(),Lt=R(function(t,n){const{getButtonProps:a}=yt(),s=a(t,n),i={display:"flex",alignItems:"center",width:"100%",outline:0,...qe().button};return r.jsx(z.button,{...s,className:ee("chakra-accordion__button",t.className),__css:i})});Lt.displayName="AccordionButton";function oa(e){const{onChange:t,defaultIndex:n,index:a,allowMultiple:s,allowToggle:o,...i}=e;ca(e),ua(e);const d=ra(),[l,u]=c.useState(-1);c.useEffect(()=>()=>{u(-1)},[]);const[h,m]=Rt({value:a,defaultValue(){return s?n??[]:n??-1},onChange:t});return{index:h,setIndex:m,htmlProps:i,getAccordionItemProps:g=>{let C=!1;return g!==null&&(C=Array.isArray(h)?h.includes(g):h===g),{isOpen:C,onChange:P=>{if(g!==null)if(s&&Array.isArray(h)){const E=P?h.concat(g):h.filter(D=>D!==g);m(E)}else P?m(g):o&&m(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:d}}var[la,bt]=he({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function ia(e){const{isDisabled:t,isFocusable:n,id:a,...s}=e,{getAccordionItemProps:o,setFocusedIndex:i}=bt(),d=c.useRef(null),l=c.useId(),u=a??l,h=`accordion-button-${u}`,m=`accordion-panel-${u}`;da(e);const{register:x,index:g,descendants:C}=sa({disabled:t&&!n}),{isOpen:w,onChange:P}=o(g===-1?null:g);ma({isOpen:w,isDisabled:t});const E=()=>{P==null||P(!0)},D=()=>{P==null||P(!1)},U=c.useCallback(()=>{P==null||P(!w),i(g)},[g,i,w,P]),V=c.useCallback(F=>{const b={ArrowDown:()=>{const p=C.nextEnabled(g);p==null||p.node.focus()},ArrowUp:()=>{const p=C.prevEnabled(g);p==null||p.node.focus()},Home:()=>{const p=C.firstEnabled();p==null||p.node.focus()},End:()=>{const p=C.lastEnabled();p==null||p.node.focus()}}[F.key];b&&(F.preventDefault(),b(F))},[C,g]),N=c.useCallback(()=>{i(g)},[i,g]),k=c.useCallback(function(O={},b=null){return{...O,type:"button",ref:me(x,d,b),id:h,disabled:!!t,"aria-expanded":!!w,"aria-controls":m,onClick:$(O.onClick,U),onFocus:$(O.onFocus,N),onKeyDown:$(O.onKeyDown,V)}},[h,t,w,U,N,V,m,x]),re=c.useCallback(function(O={},b=null){return{...O,ref:b,role:"region",id:m,"aria-labelledby":h,hidden:!w}},[h,w,m]);return{isOpen:w,isDisabled:t,isFocusable:n,onOpen:E,onClose:D,getButtonProps:k,getPanelProps:re,htmlProps:s}}function ca(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;De({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function ua(e){De({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function da(e){De({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function ma(e){De({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function Ut(e){const{isOpen:t,isDisabled:n}=yt(),{reduceMotion:a}=bt(),s=ee("chakra-accordion__icon",e.className),o=qe(),i={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:a?void 0:"transform 0.2s",transformOrigin:"center",...o.icon};return r.jsx(vt,{viewBox:"0 0 24 24","aria-hidden":!0,className:s,__css:i,...e,children:r.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}Ut.displayName="AccordionIcon";var Gt=R(function(t,n){const{children:a,className:s}=t,{htmlProps:o,...i}=ia(t),l={...qe().container,overflowAnchor:"none"},u=c.useMemo(()=>i,[i]);return r.jsx(na,{value:u,children:r.jsx(z.div,{ref:n,...o,className:ee("chakra-accordion__item",s),__css:l,children:typeof a=="function"?a({isExpanded:!!i.isOpen,isDisabled:!!i.isDisabled}):a})})});Gt.displayName="AccordionItem";var ha=e=>e!=null&&parseInt(e.toString(),10)>0,Ct={exit:{height:{duration:.2,ease:Be.ease},opacity:{duration:.3,ease:Be.ease}},enter:{height:{duration:.3,ease:Be.ease},opacity:{duration:.4,ease:Be.ease}}},fa={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:a,delay:s})=>{var o;return{...e&&{opacity:ha(t)?1:0},height:t,transitionEnd:a==null?void 0:a.exit,transition:(o=n==null?void 0:n.exit)!=null?o:Pt.exit(Ct.exit,s)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:a,delay:s})=>{var o;return{...e&&{opacity:1},height:t,transitionEnd:a==null?void 0:a.enter,transition:(o=n==null?void 0:n.enter)!=null?o:Pt.enter(Ct.enter,s)}}},Ht=c.forwardRef((e,t)=>{const{in:n,unmountOnExit:a,animateOpacity:s=!0,startingHeight:o=0,endingHeight:i="auto",style:d,className:l,transition:u,transitionEnd:h,...m}=e,[x,g]=c.useState(!1);c.useEffect(()=>{const D=setTimeout(()=>{g(!0)});return()=>clearTimeout(D)},[]),De({condition:Number(o)>0&&!!a,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const C=parseFloat(o.toString())>0,w={startingHeight:o,endingHeight:i,animateOpacity:s,transition:x?u:{enter:{duration:0}},transitionEnd:{enter:h==null?void 0:h.enter,exit:a?h==null?void 0:h.exit:{...h==null?void 0:h.exit,display:C?"block":"none"}}},P=a?n:!0,E=n||a?"enter":"exit";return r.jsx(Tt,{initial:!1,custom:w,children:P&&r.jsx(Mt.div,{ref:t,...m,className:ee("chakra-collapse",l),style:{overflow:"hidden",display:"block",...d},custom:w,variants:fa,initial:a?"exit":!1,animate:E,exit:"exit"})})});Ht.displayName="Collapse";var Wt=R(function(t,n){const{className:a,motionProps:s,...o}=t,{reduceMotion:i}=bt(),{getPanelProps:d,isOpen:l}=yt(),u=d(o,n),h=ee("chakra-accordion__panel",a),m=qe();i||delete u.hidden;const x=r.jsx(z.div,{...u,__css:m.panel,className:h});return i?x:r.jsx(Ht,{in:l,...s,children:x})});Wt.displayName="AccordionPanel";var Yt=R(function({children:t,reduceMotion:n,...a},s){const o=xt("Accordion",a),i=He(a),{htmlProps:d,descendants:l,...u}=oa(i),h=c.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return r.jsx(aa,{value:l,children:r.jsx(la,{value:h,children:r.jsx(ta,{value:o,children:r.jsx(z.div,{ref:s,...d,className:ee("chakra-accordion",a.className),__css:o.root,children:t})})})})});Yt.displayName="Accordion";function va(e){const t=parseFloat(e);return typeof t!="number"||Number.isNaN(t)?0:t}function pt(e,t){let n=va(e);const a=10**(t??10);return n=Math.round(n*a)/a,t?n.toFixed(t):n.toString()}function ft(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}function kt(e,t,n){return(e-t)*100/(n-t)}function xa(e,t,n){return(n-t)*e+t}function Nt(e,t,n){const a=Math.round((e-t)/n)*n+t,s=ft(n);return pt(a,s)}function $e(e,t,n){return e==null?e:(n<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),n))}function ga(e={}){const{onChange:t,precision:n,defaultValue:a,value:s,step:o=1,min:i=Number.MIN_SAFE_INTEGER,max:d=Number.MAX_SAFE_INTEGER,keepWithinRange:l=!0}=e,u=Y(t),[h,m]=c.useState(()=>{var b;return a==null?"":(b=st(a,o,n))!=null?b:""}),x=typeof s<"u",g=x?s:h,C=qt(ae(g),o),w=n??C,P=c.useCallback(b=>{b!==g&&(x||m(b.toString()),u==null||u(b.toString(),ae(b)))},[u,x,g]),E=c.useCallback(b=>{let p=b;return l&&(p=$e(p,i,d)),pt(p,w)},[w,l,d,i]),D=c.useCallback((b=o)=>{let p;g===""?p=ae(b):p=ae(g)+b,p=E(p),P(p)},[E,o,P,g]),U=c.useCallback((b=o)=>{let p;g===""?p=ae(-b):p=ae(g)-b,p=E(p),P(p)},[E,o,P,g]),V=c.useCallback(()=>{var b;let p;a==null?p="":p=(b=st(a,o,n))!=null?b:i,P(p)},[a,n,o,P,i]),N=c.useCallback(b=>{var p;const se=(p=st(b,o,w))!=null?p:i;P(se)},[w,o,P,i]),k=ae(g);return{isOutOfRange:k>d||k<i,isAtMax:k===d,isAtMin:k===i,precision:w,value:g,valueAsNumber:k,update:P,reset:V,increment:D,decrement:U,clamp:E,cast:N,setValue:m}}function ae(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function qt(e,t){return Math.max(ft(t),ft(e))}function st(e,t,n){const a=ae(e);if(Number.isNaN(a))return;const s=qt(a,t);return pt(a,n??s)}var ya=e=>r.jsx(vt,{viewBox:"0 0 24 24",...e,children:r.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),ba=e=>r.jsx(vt,{viewBox:"0 0 24 24",...e,children:r.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function jt(e,t,n,a){c.useEffect(()=>{var s;if(!e.current||!a)return;const o=(s=e.current.ownerDocument.defaultView)!=null?s:window,i=Array.isArray(t)?t:[t],d=new o.MutationObserver(l=>{for(const u of l)u.type==="attributes"&&u.attributeName&&i.includes(u.attributeName)&&n(u)});return d.observe(e.current,{attributes:!0,attributeFilter:i}),()=>d.disconnect()})}function pa(e,t){const n=Y(e);c.useEffect(()=>{let a=null;const s=()=>n();return t!==null&&(a=window.setInterval(s,t)),()=>{a&&window.clearInterval(a)}},[t,n])}var Sa=50,_t=300;function wa(e,t){const[n,a]=c.useState(!1),[s,o]=c.useState(null),[i,d]=c.useState(!0),l=c.useRef(null),u=()=>clearTimeout(l.current);pa(()=>{s==="increment"&&e(),s==="decrement"&&t()},n?Sa:null);const h=c.useCallback(()=>{i&&e(),l.current=setTimeout(()=>{d(!1),a(!0),o("increment")},_t)},[e,i]),m=c.useCallback(()=>{i&&t(),l.current=setTimeout(()=>{d(!1),a(!0),o("decrement")},_t)},[t,i]),x=c.useCallback(()=>{d(!0),a(!1),u()},[]);return c.useEffect(()=>()=>u(),[]),{up:h,down:m,stop:x,isSpinning:n}}var Pa=/^[Ee0-9+\-.]$/;function Ia(e){return Pa.test(e)}function Ca(e,t){if(e.key==null)return!0;const n=e.ctrlKey||e.altKey||e.metaKey;return!(e.key.length===1)||n?!0:t(e.key)}function ka(e={}){const{focusInputOnChange:t=!0,clampValueOnBlur:n=!0,keepWithinRange:a=!0,min:s=Number.MIN_SAFE_INTEGER,max:o=Number.MAX_SAFE_INTEGER,step:i=1,isReadOnly:d,isDisabled:l,isRequired:u,isInvalid:h,pattern:m="[0-9]*(.[0-9]+)?",inputMode:x="decimal",allowMouseWheel:g,id:C,onChange:w,precision:P,name:E,"aria-describedby":D,"aria-label":U,"aria-labelledby":V,onFocus:N,onBlur:k,onInvalid:re,getAriaValueText:F,isValidCharacter:O,format:b,parse:p,...se}=e,oe=Y(N),we=Y(k),q=Y(re),le=Y(O??Ia),ie=Y(F),S=ga(e),{update:G,increment:M,decrement:Oe}=S,[wt,fe]=c.useState(!1),X=!(d||l),_=c.useRef(null),te=c.useRef(null),ve=c.useRef(null),Pe=c.useRef(null),xe=c.useCallback(f=>f.split("").filter(le).join(""),[le]),ce=c.useCallback(f=>{var I;return(I=p==null?void 0:p(f))!=null?I:f},[p]),J=c.useCallback(f=>{var I;return((I=b==null?void 0:b(f))!=null?I:f).toString()},[b]);Dt(()=>{(S.valueAsNumber>o||S.valueAsNumber<s)&&(q==null||q("rangeOverflow",J(S.value),S.valueAsNumber))},[S.valueAsNumber,S.value,J,q]),gn(()=>{if(!_.current)return;if(_.current.value!=S.value){const I=ce(_.current.value);S.setValue(xe(I))}},[ce,xe]);const ue=c.useCallback((f=i)=>{X&&M(f)},[M,X,i]),ge=c.useCallback((f=i)=>{X&&Oe(f)},[Oe,X,i]),A=wa(ue,ge);jt(ve,"disabled",A.stop,A.isSpinning),jt(Pe,"disabled",A.stop,A.isSpinning);const H=c.useCallback(f=>{if(f.nativeEvent.isComposing)return;const T=ce(f.currentTarget.value);G(xe(T)),te.current={start:f.currentTarget.selectionStart,end:f.currentTarget.selectionEnd}},[G,xe,ce]),Ie=c.useCallback(f=>{var I,T,B;oe==null||oe(f),te.current&&(f.target.selectionStart=(T=te.current.start)!=null?T:(I=f.currentTarget.value)==null?void 0:I.length,f.currentTarget.selectionEnd=(B=te.current.end)!=null?B:f.currentTarget.selectionStart)},[oe]),Ce=c.useCallback(f=>{if(f.nativeEvent.isComposing)return;Ca(f,le)||f.preventDefault();const I=ye(f)*i,T=f.key,v={ArrowUp:()=>ue(I),ArrowDown:()=>ge(I),Home:()=>G(s),End:()=>G(o)}[T];v&&(f.preventDefault(),v(f))},[le,i,ue,ge,G,s,o]),ye=f=>{let I=1;return(f.metaKey||f.ctrlKey)&&(I=.1),f.shiftKey&&(I=10),I},ke=c.useMemo(()=>{const f=ie==null?void 0:ie(S.value);if(f!=null)return f;const I=S.value.toString();return I||void 0},[S.value,ie]),Ne=c.useCallback(()=>{let f=S.value;if(S.value==="")return;/^[eE]/.test(S.value.toString())?S.setValue(""):(S.valueAsNumber<s&&(f=s),S.valueAsNumber>o&&(f=o),S.cast(f))},[S,o,s]),je=c.useCallback(()=>{fe(!1),n&&Ne()},[n,fe,Ne]),de=c.useCallback(()=>{t&&requestAnimationFrame(()=>{var f;(f=_.current)==null||f.focus()})},[t]),_e=c.useCallback(f=>{f.preventDefault(),A.up(),de()},[de,A]),Ae=c.useCallback(f=>{f.preventDefault(),A.down(),de()},[de,A]);_n(()=>_.current,"wheel",f=>{var I,T;const v=((T=(I=_.current)==null?void 0:I.ownerDocument)!=null?T:document).activeElement===_.current;if(!g||!v)return;f.preventDefault();const y=ye(f)*i,ne=Math.sign(f.deltaY);ne===-1?ue(y):ne===1&&ge(y)},{passive:!1});const Qe=c.useCallback((f={},I=null)=>{const T=l||a&&S.isAtMax;return{...f,ref:me(I,ve),role:"button",tabIndex:-1,onPointerDown:$(f.onPointerDown,B=>{B.button!==0||T||_e(B)}),onPointerLeave:$(f.onPointerLeave,A.stop),onPointerUp:$(f.onPointerUp,A.stop),disabled:T,"aria-disabled":rt(T)}},[S.isAtMax,a,_e,A.stop,l]),et=c.useCallback((f={},I=null)=>{const T=l||a&&S.isAtMin;return{...f,ref:me(I,Pe),role:"button",tabIndex:-1,onPointerDown:$(f.onPointerDown,B=>{B.button!==0||T||Ae(B)}),onPointerLeave:$(f.onPointerLeave,A.stop),onPointerUp:$(f.onPointerUp,A.stop),disabled:T,"aria-disabled":rt(T)}},[S.isAtMin,a,Ae,A.stop,l]),tt=c.useCallback((f={},I=null)=>{var T,B,v,y;return{name:E,inputMode:x,type:"text",pattern:m,"aria-labelledby":V,"aria-label":U,"aria-describedby":D,id:C,disabled:l,...f,readOnly:(T=f.readOnly)!=null?T:d,"aria-readonly":(B=f.readOnly)!=null?B:d,"aria-required":(v=f.required)!=null?v:u,required:(y=f.required)!=null?y:u,ref:me(_,I),value:J(S.value),role:"spinbutton","aria-valuemin":s,"aria-valuemax":o,"aria-valuenow":Number.isNaN(S.valueAsNumber)?void 0:S.valueAsNumber,"aria-invalid":rt(h??S.isOutOfRange),"aria-valuetext":ke,autoComplete:"off",autoCorrect:"off",onChange:$(f.onChange,H),onKeyDown:$(f.onKeyDown,Ce),onFocus:$(f.onFocus,Ie,()=>fe(!0)),onBlur:$(f.onBlur,we,je)}},[E,x,m,V,U,J,D,C,l,u,d,h,S.value,S.valueAsNumber,S.isOutOfRange,s,o,ke,H,Ce,Ie,we,je]);return{value:J(S.value),valueAsNumber:S.valueAsNumber,isFocused:wt,isDisabled:l,isReadOnly:d,getIncrementButtonProps:Qe,getDecrementButtonProps:et,getInputProps:tt,htmlProps:se}}var[Na,Xe]=he({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[ja,St]=he({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Xt=R(function(t,n){const a=xt("NumberInput",t),s=He(t),o=An(s),{htmlProps:i,...d}=ka(o),l=c.useMemo(()=>d,[d]);return r.jsx(ja,{value:l,children:r.jsx(Na,{value:a,children:r.jsx(z.div,{...i,ref:n,className:ee("chakra-numberinput",t.className),__css:{position:"relative",zIndex:0,...a.root}})})})});Xt.displayName="NumberInput";var Jt=R(function(t,n){const a=Xe();return r.jsx(z.div,{"aria-hidden":!0,ref:n,...t,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...a.stepperGroup}})});Jt.displayName="NumberInputStepper";var Zt=R(function(t,n){const{getInputProps:a}=St(),s=a(t,n),o=Xe();return r.jsx(z.input,{...s,className:ee("chakra-numberinput__field",t.className),__css:{width:"100%",...o.field}})});Zt.displayName="NumberInputField";var Qt=z("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),en=R(function(t,n){var a;const s=Xe(),{getDecrementButtonProps:o}=St(),i=o(t,n);return r.jsx(Qt,{...i,__css:s.stepper,children:(a=t.children)!=null?a:r.jsx(ya,{})})});en.displayName="NumberDecrementStepper";var tn=R(function(t,n){var a;const{getIncrementButtonProps:s}=St(),o=s(t,n),i=Xe();return r.jsx(Qt,{...o,__css:i.stepper,children:(a=t.children)!=null?a:r.jsx(ba,{})})});tn.displayName="NumberIncrementStepper";var be=e=>e?"":void 0,ot=e=>e?!0:void 0,Fe=(...e)=>e.filter(Boolean).join(" ");function lt(...e){return function(n){e.some(a=>(a==null||a(n),n==null?void 0:n.defaultPrevented))}}function ze(e){const{orientation:t,vertical:n,horizontal:a}=e;return t==="vertical"?n:a}var Le={width:0,height:0},Ve=e=>e||Le;function _a(e){const{orientation:t,thumbPercents:n,thumbRects:a,isReversed:s}=e,o=w=>{var P;const E=(P=a[w])!=null?P:Le;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...ze({orientation:t,vertical:{bottom:`calc(${n[w]}% - ${E.height/2}px)`},horizontal:{left:`calc(${n[w]}% - ${E.width/2}px)`}})}},i=t==="vertical"?a.reduce((w,P)=>Ve(w).height>Ve(P).height?w:P,Le):a.reduce((w,P)=>Ve(w).width>Ve(P).width?w:P,Le),d={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...ze({orientation:t,vertical:i?{paddingLeft:i.width/2,paddingRight:i.width/2}:{},horizontal:i?{paddingTop:i.height/2,paddingBottom:i.height/2}:{}})},l={position:"absolute",...ze({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},u=n.length===1,h=[0,s?100-n[0]:n[0]],m=u?h:n;let x=m[0];!u&&s&&(x=100-x);const g=Math.abs(m[m.length-1]-m[0]),C={...l,...ze({orientation:t,vertical:s?{height:`${g}%`,top:`${x}%`}:{height:`${g}%`,bottom:`${x}%`},horizontal:s?{width:`${g}%`,right:`${x}%`}:{width:`${g}%`,left:`${x}%`}})};return{trackStyle:l,innerTrackStyle:C,rootStyle:d,getThumbStyle:o}}function Aa(e){const{isReversed:t,direction:n,orientation:a}=e;return n==="ltr"||a==="vertical"?t:!t}function Ea(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function Ta(e){const t=Da(e);return typeof t.PointerEvent<"u"&&e instanceof t.PointerEvent?e.pointerType==="mouse":e instanceof t.MouseEvent}function nn(e){return!!e.touches}function Ma(e){return nn(e)&&e.touches.length>1}function Da(e){var t;return(t=e.view)!=null?t:window}function Ra(e,t="page"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function Fa(e,t="page"){return{x:e[`${t}X`],y:e[`${t}Y`]}}function an(e,t="page"){return nn(e)?Ra(e,t):Fa(e,t)}function Oa(e){return t=>{const n=Ta(t);(!n||n&&t.button===0)&&e(t)}}function Ba(e,t=!1){function n(s){e(s,{point:an(s)})}return t?Oa(n):n}function Ue(e,t,n,a){return Ea(e,t,Ba(n,t==="pointerdown"),a)}var za=Object.defineProperty,Va=(e,t,n)=>t in e?za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t,n)=>(Va(e,typeof t!="symbol"?t+"":t,n),n),Ka=class{constructor(e,t,n){W(this,"history",[]),W(this,"startEvent",null),W(this,"lastEvent",null),W(this,"lastEventInfo",null),W(this,"handlers",{}),W(this,"removeListeners",()=>{}),W(this,"threshold",3),W(this,"win"),W(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const d=it(this.lastEventInfo,this.history),l=this.startEvent!==null,u=Ga(d.offset,{x:0,y:0})>=this.threshold;if(!l&&!u)return;const{timestamp:h}=It();this.history.push({...d.point,timestamp:h});const{onStart:m,onMove:x}=this.handlers;l||(m==null||m(this.lastEvent,d),this.startEvent=this.lastEvent),x==null||x(this.lastEvent,d)}),W(this,"onPointerMove",(d,l)=>{this.lastEvent=d,this.lastEventInfo=l,Jn.update(this.updatePoint,!0)}),W(this,"onPointerUp",(d,l)=>{const u=it(l,this.history),{onEnd:h,onSessionEnd:m}=this.handlers;m==null||m(d,u),this.end(),!(!h||!this.startEvent)&&(h==null||h(d,u))});var a;if(this.win=(a=e.view)!=null?a:window,Ma(e))return;this.handlers=t,n&&(this.threshold=n),e.stopPropagation(),e.preventDefault();const s={point:an(e)},{timestamp:o}=It();this.history=[{...s.point,timestamp:o}];const{onSessionStart:i}=t;i==null||i(e,it(s,this.history)),this.removeListeners=Ua(Ue(this.win,"pointermove",this.onPointerMove),Ue(this.win,"pointerup",this.onPointerUp),Ue(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;(e=this.removeListeners)==null||e.call(this),Zn.update(this.updatePoint)}};function At(e,t){return{x:e.x-t.x,y:e.y-t.y}}function it(e,t){return{point:e.point,delta:At(e.point,t[t.length-1]),offset:At(e.point,t[0]),velocity:La(t,.1)}}var $a=e=>e*1e3;function La(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=e[e.length-1];for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>$a(t)));)n--;if(!a)return{x:0,y:0};const o=(s.timestamp-a.timestamp)/1e3;if(o===0)return{x:0,y:0};const i={x:(s.x-a.x)/o,y:(s.y-a.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ua(...e){return t=>e.reduce((n,a)=>a(n),t)}function ct(e,t){return Math.abs(e-t)}function Et(e){return"x"in e&&"y"in e}function Ga(e,t){if(typeof e=="number"&&typeof t=="number")return ct(e,t);if(Et(e)&&Et(t)){const n=ct(e.x,t.x),a=ct(e.y,t.y);return Math.sqrt(n**2+a**2)}return 0}function rn(e){const t=c.useRef(null);return t.current=e,t}function Ha(e,t){const{onPan:n,onPanStart:a,onPanEnd:s,onPanSessionStart:o,onPanSessionEnd:i,threshold:d}=t,l=!!(n||a||s||o||i),u=c.useRef(null),h=rn({onSessionStart:o,onSessionEnd:i,onStart:a,onMove:n,onEnd(m,x){u.current=null,s==null||s(m,x)}});c.useEffect(()=>{var m;(m=u.current)==null||m.updateHandlers(h.current)}),c.useEffect(()=>{const m=e.current;if(!m||!l)return;function x(g){u.current=new Ka(g,h.current,d)}return Ue(m,"pointerdown",x)},[e,l,h,d]),c.useEffect(()=>()=>{var m;(m=u.current)==null||m.end(),u.current=null},[])}function Wa(e,t){if(!e){t(void 0);return}t({width:e.offsetWidth,height:e.offsetHeight});const n=e.ownerDocument.defaultView??window,a=new n.ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const[o]=s;let i,d;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,d=u.blockSize}else i=e.offsetWidth,d=e.offsetHeight;t({width:i,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}var Ya=globalThis!=null&&globalThis.document?c.useLayoutEffect:c.useEffect;function qa(e,t){var n,a;if(!e||!e.parentElement)return;const s=(a=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?a:window,o=new s.MutationObserver(()=>{t()});return o.observe(e.parentElement,{childList:!0}),()=>{o.disconnect()}}function Xa({getNodes:e,observeMutation:t=!0}){const[n,a]=c.useState([]),[s,o]=c.useState(0);return Ya(()=>{const i=e(),d=i.map((l,u)=>Wa(l,h=>{a(m=>[...m.slice(0,u),h,...m.slice(u+1)])}));if(t){const l=i[0];d.push(qa(l,()=>{o(u=>u+1)}))}return()=>{d.forEach(l=>{l==null||l()})}},[s]),n}function Ja(e){return typeof e=="object"&&e!==null&&"current"in e}function Za(e){const[t]=Xa({observeMutation:!1,getNodes(){return[Ja(e)?e.current:e]}});return t}function Qa(e){var t;const{min:n=0,max:a=100,onChange:s,value:o,defaultValue:i,isReversed:d,direction:l="ltr",orientation:u="horizontal",id:h,isDisabled:m,isReadOnly:x,onChangeStart:g,onChangeEnd:C,step:w=1,getAriaValueText:P,"aria-valuetext":E,"aria-label":D,"aria-labelledby":U,name:V,focusThumbOnChange:N=!0,...k}=e,re=Y(g),F=Y(C),O=Y(P),b=Aa({isReversed:d,direction:l,orientation:u}),[p,se]=Rt({value:o,defaultValue:i??tr(n,a),onChange:s}),[oe,we]=c.useState(!1),[q,le]=c.useState(!1),ie=!(m||x),S=(a-n)/10,G=w||(a-n)/100,M=$e(p,n,a),Oe=a-M+n,fe=kt(b?Oe:M,n,a),X=u==="vertical",_=rn({min:n,max:a,step:w,isDisabled:m,value:M,isInteractive:ie,isReversed:b,isVertical:X,eventSource:null,focusThumbOnChange:N,orientation:u}),te=c.useRef(null),ve=c.useRef(null),Pe=c.useRef(null),xe=c.useId(),ce=h??xe,[J,ue]=[`slider-thumb-${ce}`,`slider-track-${ce}`],ge=c.useCallback(v=>{var y,ne;if(!te.current)return;const K=_.current;K.eventSource="pointer";const Z=te.current.getBoundingClientRect(),{clientX:nt,clientY:fn}=(ne=(y=v.touches)==null?void 0:y[0])!=null?ne:v,vn=X?Z.bottom-fn:nt-Z.left,xn=X?Z.height:Z.width;let at=vn/xn;b&&(at=1-at);let Ee=xa(at,K.min,K.max);return K.step&&(Ee=parseFloat(Nt(Ee,K.min,K.step))),Ee=$e(Ee,K.min,K.max),Ee},[X,b,_]),A=c.useCallback(v=>{const y=_.current;y.isInteractive&&(v=parseFloat(Nt(v,y.min,G)),v=$e(v,y.min,y.max),se(v))},[G,se,_]),H=c.useMemo(()=>({stepUp(v=G){const y=b?M-v:M+v;A(y)},stepDown(v=G){const y=b?M+v:M-v;A(y)},reset(){A(i||0)},stepTo(v){A(v)}}),[A,b,M,G,i]),Ie=c.useCallback(v=>{const y=_.current,K={ArrowRight:()=>H.stepUp(),ArrowUp:()=>H.stepUp(),ArrowLeft:()=>H.stepDown(),ArrowDown:()=>H.stepDown(),PageUp:()=>H.stepUp(S),PageDown:()=>H.stepDown(S),Home:()=>A(y.min),End:()=>A(y.max)}[v.key];K&&(v.preventDefault(),v.stopPropagation(),K(v),y.eventSource="keyboard")},[H,A,S,_]),Ce=(t=O==null?void 0:O(M))!=null?t:E,ye=Za(ve),{getThumbStyle:ke,rootStyle:Ne,trackStyle:je,innerTrackStyle:de}=c.useMemo(()=>{const v=_.current,y=ye??{width:0,height:0};return _a({isReversed:b,orientation:v.orientation,thumbRects:[y],thumbPercents:[fe]})},[b,ye,fe,_]),_e=c.useCallback(()=>{_.current.focusThumbOnChange&&setTimeout(()=>{var y;return(y=ve.current)==null?void 0:y.focus()})},[_]);Dt(()=>{const v=_.current;_e(),v.eventSource==="keyboard"&&(F==null||F(v.value))},[M,F]);function Ae(v){const y=ge(v);y!=null&&y!==_.current.value&&se(y)}Ha(Pe,{onPanSessionStart(v){const y=_.current;y.isInteractive&&(we(!0),_e(),Ae(v),re==null||re(y.value))},onPanSessionEnd(){const v=_.current;v.isInteractive&&(we(!1),F==null||F(v.value))},onPan(v){_.current.isInteractive&&Ae(v)}});const Qe=c.useCallback((v={},y=null)=>({...v,...k,ref:me(y,Pe),tabIndex:-1,"aria-disabled":ot(m),"data-focused":be(q),style:{...v.style,...Ne}}),[k,m,q,Ne]),et=c.useCallback((v={},y=null)=>({...v,ref:me(y,te),id:ue,"data-disabled":be(m),style:{...v.style,...je}}),[m,ue,je]),tt=c.useCallback((v={},y=null)=>({...v,ref:y,style:{...v.style,...de}}),[de]),f=c.useCallback((v={},y=null)=>({...v,ref:me(y,ve),role:"slider",tabIndex:ie?0:void 0,id:J,"data-active":be(oe),"aria-valuetext":Ce,"aria-valuemin":n,"aria-valuemax":a,"aria-valuenow":M,"aria-orientation":u,"aria-disabled":ot(m),"aria-readonly":ot(x),"aria-label":D,"aria-labelledby":D?void 0:U,style:{...v.style,...ke(0)},onKeyDown:lt(v.onKeyDown,Ie),onFocus:lt(v.onFocus,()=>le(!0)),onBlur:lt(v.onBlur,()=>le(!1))}),[ie,J,oe,Ce,n,a,M,u,m,x,D,U,ke,Ie]),I=c.useCallback((v,y=null)=>{const ne=!(v.value<n||v.value>a),K=M>=v.value,Z=kt(v.value,n,a),nt={position:"absolute",pointerEvents:"none",...er({orientation:u,vertical:{bottom:b?`${100-Z}%`:`${Z}%`},horizontal:{left:b?`${100-Z}%`:`${Z}%`}})};return{...v,ref:y,role:"presentation","aria-hidden":!0,"data-disabled":be(m),"data-invalid":be(!ne),"data-highlighted":be(K),style:{...v.style,...nt}}},[m,b,a,n,u,M]),T=c.useCallback((v={},y=null)=>({...v,ref:y,type:"hidden",value:M,name:V}),[V,M]);return{state:{value:M,isFocused:q,isDragging:oe},actions:H,getRootProps:Qe,getTrackProps:et,getInnerTrackProps:tt,getThumbProps:f,getMarkerProps:I,getInputProps:T}}function er(e){const{orientation:t,vertical:n,horizontal:a}=e;return t==="vertical"?n:a}function tr(e,t){return t<e?e:e+(t-e)/2}var[nr,Je]=he({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[ar,Ze]=he({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),sn=R((e,t)=>{var n;const a={...e,orientation:(n=e==null?void 0:e.orientation)!=null?n:"horizontal"},s=xt("Slider",a),o=He(a),{direction:i}=yn();o.direction=i;const{getInputProps:d,getRootProps:l,...u}=Qa(o),h=l(),m=d({},t);return r.jsx(nr,{value:u,children:r.jsx(ar,{value:s,children:r.jsxs(z.div,{...h,className:Fe("chakra-slider",a.className),__css:s.container,children:[a.children,r.jsx("input",{...m})]})})})});sn.displayName="Slider";var on=R((e,t)=>{const{getThumbProps:n}=Je(),a=Ze(),s=n(e,t);return r.jsx(z.div,{...s,className:Fe("chakra-slider__thumb",e.className),__css:a.thumb})});on.displayName="SliderThumb";var ln=R((e,t)=>{const{getTrackProps:n}=Je(),a=Ze(),s=n(e,t);return r.jsx(z.div,{...s,className:Fe("chakra-slider__track",e.className),__css:a.track})});ln.displayName="SliderTrack";var cn=R((e,t)=>{const{getInnerTrackProps:n}=Je(),a=Ze(),s=n(e,t);return r.jsx(z.div,{...s,className:Fe("chakra-slider__filled-track",e.className),__css:a.filledTrack})});cn.displayName="SliderFilledTrack";var rr=R((e,t)=>{const{getMarkerProps:n}=Je(),a=Ze(),s=n(e,t);return r.jsx(z.div,{...s,className:Fe("chakra-slider__marker",e.className),__css:a.mark})});rr.displayName="SliderMark";function sr(e,t=[]){const n=Object.assign({},e);for(const a of t)a in n&&delete n[a];return n}var or=["h","minH","height","minHeight"],un=R((e,t)=>{const n=bn("Textarea",e),{className:a,rows:s,...o}=He(e),i=En(o),d=s?sr(n,or):n;return r.jsx(z.textarea,{ref:t,rows:s,...i,className:ee("chakra-textarea",a),__css:d})});un.displayName="Textarea";var lr=We("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]),ir=We("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]),dn=We("pin-filled","IconPinFilled",[["path",{d:"M15.113 3.21l.094 .083l5.5 5.5a1 1 0 0 1 -1.175 1.59l-3.172 3.171l-1.424 3.797a1 1 0 0 1 -.158 .277l-.07 .08l-1.5 1.5a1 1 0 0 1 -1.32 .082l-.095 -.083l-2.793 -2.792l-3.793 3.792a1 1 0 0 1 -1.497 -1.32l.083 -.094l3.792 -3.793l-2.792 -2.793a1 1 0 0 1 -.083 -1.32l.083 -.094l1.5 -1.5a1 1 0 0 1 .258 -.187l.098 -.042l3.796 -1.425l3.171 -3.17a1 1 0 0 1 1.497 -1.26z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),mn=We("pin","IconPin",[["path",{d:"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4",key:"svg-0"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-1"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-2"}]]);const cr=({setMediaAct:e,media:t,currentNum:n})=>{const[a,s]=c.useState(0);c.useEffect(()=>{n!==void 0&&s(n)},[n]);const o=l=>{const u=(a+l+t.length)%t.length;s(u),e&&e(t[u])},i={width:"100%",height:"100%"},d={enter:l=>({x:l>0?500:-500,opacity:1}),center:{x:0,opacity:1},exit:l=>({x:l<0?500:-500,opacity:1})};return r.jsxs(j,{justifyContent:"center",alignItems:"center",position:"relative",width:i.width,height:i.height,overflow:"hidden",children:[r.jsx(Tt,{custom:a,children:t.map((l,u)=>r.jsx(Mt.div,{custom:u-a,variants:d,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},style:{position:"absolute",cursor:"pointer",width:"100%",height:"100%",display:u===a?"block":"none"},onClick:()=>{window.open(l.imageUrl)},children:Tn(l.imageUrl)?r.jsx(Gn,{src:l.imageUrl,alt:`image-${l.id}`,width:"100%",height:"100%",objectFit:"contain"}):r.jsx("video",{style:{objectFit:"contain"},width:"100%",height:"100%",src:l.imageUrl,loop:!0,autoPlay:!0,muted:!0,children:r.jsx("track",{kind:"captions"})})},l.id))}),r.jsx(Q,{size:"sm",color:"white",bgColor:"whiteAlpha.400","aria-label":"Previous image",icon:r.jsx(ir,{}),onClick:()=>o(-1),position:"absolute",left:"0",zIndex:"2"}),r.jsx(Q,{size:"sm",color:"white",bgColor:"whiteAlpha.400","aria-label":"Next image",icon:r.jsx(Kn,{}),onClick:()=>o(1),position:"absolute",right:"0",zIndex:"2"})]})},ur=e=>r.jsxs(j,{gap:2,children:[r.jsx(j,{gap:1,alignItems:"center",flexBasis:"200px",children:e.label??e.name}),r.jsx(Mn,{value:e.value,onChange:t=>{var n;return(n=e==null?void 0:e.updateMetaData)==null?void 0:n.call(e,{promptKey:e.promptKey,name:e.name,value:t.target.value})}})]}),dr=e=>r.jsxs(j,{gap:1,direction:"column",children:[r.jsxs(j,{gap:2,children:[r.jsx(j,{gap:1,alignItems:"center",flexBasis:"200px",children:e.label??e.name}),r.jsxs(Xt,{width:"100%",step:e==null?void 0:e.step,value:e.value,min:e==null?void 0:e.min,max:e==null?void 0:e.max,onChange:t=>{var n;return(n=e==null?void 0:e.updateMetaData)==null?void 0:n.call(e,{promptKey:e.promptKey,name:e.name,value:t})},children:[r.jsx(Zt,{}),r.jsxs(Jt,{children:[r.jsx(tn,{}),r.jsx(en,{})]})]})]}),r.jsx(j,{children:r.jsxs(sn,{step:e==null?void 0:e.step,value:Number(e.value),min:(e==null?void 0:e.min)??0,max:(e==null?void 0:e.max)??100,onChange:t=>{var n;return(n=e==null?void 0:e.updateMetaData)==null?void 0:n.call(e,{promptKey:e.promptKey,name:e.name,value:t})},children:[r.jsx(ln,{children:r.jsx(cn,{})}),r.jsx(on,{})]})})]}),mr=e=>{var t;return r.jsxs(j,{gap:2,children:[r.jsx(j,{gap:1,alignItems:"center",flexBasis:"200px",children:e.label??e.name}),r.jsx(Wn,{value:e.value,onChange:n=>{var a;return(a=e==null?void 0:e.updateMetaData)==null?void 0:a.call(e,{promptKey:e.promptKey,name:e.name,value:n.target.value})},children:(t=e==null?void 0:e.options)==null?void 0:t.map((n,a)=>r.jsx("option",{value:n,children:n},`select${e.promptKey}${e.classType}${e.name}${a}`))})]})},hr=e=>r.jsxs(j,{gap:1,direction:"column",children:[r.jsx(j,{children:e.label??e.name}),r.jsx(un,{value:e.value,onChange:t=>{var n;return(n=e==null?void 0:e.updateMetaData)==null?void 0:n.call(e,{promptKey:e.promptKey,name:e.name,value:t.target.value})},rows:5})]});var L=(e=>(e.Input="Input",e.InputSlider="InputSlider",e.Select="Select",e.Textarea="Textarea",e.Checkbox="Checkbox",e.NoSupport="NoSupport",e))(L||{});const fr=e=>r.jsxs(j,{gap:2,children:[r.jsx(j,{gap:1,alignItems:"center",flexBasis:"200px",children:e.label??e.name}),r.jsx(j,{children:"No Support"})]}),vr=e=>r.jsxs(j,{gap:2,children:[r.jsx(j,{gap:1,alignItems:"center",flexBasis:"200px",children:e.label??e.name}),r.jsx(gt,{isChecked:!!e.value,onChange:t=>{var n;(n=e==null?void 0:e.updateMetaData)==null||n.call(e,{promptKey:e.promptKey,name:e.name,value:t.target.checked})}})]}),xr={[L.Input]:ur,[L.InputSlider]:dr,[L.Select]:mr,[L.Textarea]:hr,[L.Checkbox]:vr,NoSupport:fr},gr=Dn();function yr(e){var a,s,o,i,d;const t=(a=gr[e.classType])==null?void 0:a.nodeData,n={...((s=t==null?void 0:t.input)==null?void 0:s.required)??{},...((o=t==null?void 0:t.input)==null?void 0:o.optional)??{}}[e.name];return(n==null?void 0:n[0])==="STRING"?(i=n==null?void 0:n[1])!=null&&i.multiline?{type:L.Textarea}:{type:L.Input}:(n==null?void 0:n[0])==="BOOLEAN"?{type:L.Checkbox}:(n==null?void 0:n[0])==="FLOAT"?{...(n==null?void 0:n[1])??{},type:L.InputSlider}:(n==null?void 0:n[0])==="INT"?{...(n==null?void 0:n[1])??{},type:L.InputSlider}:Array.isArray(n==null?void 0:n[0])&&((d=n==null?void 0:n[0])!=null&&d.every(l=>typeof l=="string"))?{options:n==null?void 0:n[0],type:L.Select}:{type:L.NoSupport}}const hn=e=>{const t=yr(e),n=xr[t.type??"Input"];return r.jsxs(Hn,{templateColumns:"max-content 1fr",gap:1,children:[r.jsx(j,{children:r.jsx(Q,{onClick:()=>{var a;return(a=e==null?void 0:e.updateTopField)==null?void 0:a.call(e,{name:e.name,promptKey:e.promptKey,class_type:e.classType})},variant:"text",icon:Ge(e.topFields,{name:e.name,promptKey:e.promptKey,classType:e.classType})?r.jsx(dn,{}):r.jsx(mn,{}),"aria-label":"pin"})}),r.jsx(n,{...e,...t})]})};function br({metaData:e,updateMetaData:t,topFields:n,updateTopField:a}){if(n.length===0)return null;const s=e.prompt;return r.jsx(r.Fragment,{children:r.jsx(j,{px:2,gap:2,direction:"column",children:n==null?void 0:n.map((o,i)=>{var h,m,x;const d=(h=s==null?void 0:s[o.promptKey])==null?void 0:h.inputs;if(!d||((m=s==null?void 0:s[o.promptKey])==null?void 0:m.class_type)!==o.class_type)return null;const u=d==null?void 0:d[o.name];return r.jsx(hn,{promptKey:o.promptKey,classType:(x=s==null?void 0:s[o.promptKey])==null?void 0:x.class_type,name:o.name,value:u,updateMetaData:t,updateTopField:a,topFields:n},`formTop${o.name}${i}`)})})})}function pr({metaData:e,updateMetaData:t,topFields:n,updateTopField:a}){const s=e.prompt,[o,i]=c.useState([]);return c.useEffect(()=>{i(Object.keys(s).map((d,l)=>l))},[s]),r.jsx(Yt,{index:o,onChange:d=>i(d),allowMultiple:!0,children:Object.keys(s).map(d=>{const l=s[d],u=l.inputs,h=Object.keys(u).filter(m=>!Array.isArray(u[m])&&!Ge(n,{name:m,promptKey:d,classType:l.class_type}));return h.length===0?null:r.jsxs(Gt,{borderWidth:1,borderRadius:8,my:2,children:[r.jsxs(Lt,{children:[r.jsx(Rn,{as:"span",flex:"1",textAlign:"left",children:l.class_type}),r.jsx(Ut,{})]}),r.jsx(Wt,{children:r.jsx(j,{px:2,gap:1,direction:"column",children:h==null?void 0:h.map(m=>{const x=u[m];return Ge(n,{name:m,promptKey:d,classType:l.class_type})?null:r.jsx(hn,{promptKey:d,classType:l==null?void 0:l.class_type,value:x,name:m,updateMetaData:t,updateTopField:a,topFields:n,metaData:e},`form${m}`)})})})]},`AccordionItem${d}`)})})}const Sr=[{promptKey:"4",name:"ckpt_name",class_type:"CheckpointLoaderSimple"},{promptKey:"6",name:"text",class_type:"CLIPTextEncode"},{promptKey:"7",name:"text",class_type:"CLIPTextEncode"},{promptKey:"5",name:"width",class_type:"EmptyLatentImage"},{promptKey:"5",name:"height",class_type:"EmptyLatentImage"},{promptKey:"3",name:"steps",class_type:"KSampler"},{promptKey:"3",name:"sampler_name",class_type:"KSampler"},{promptKey:"3",name:"cfg",class_type:"KSampler"}],Ge=(e,t)=>e==null?void 0:e.some(n=>n.promptKey===(t==null?void 0:t.promptKey)&&n.name===(t==null?void 0:t.name)&&n.class_type===t.classType);function wr({metaData:e}){const t=JSON.parse(JSON.stringify(e)),[n,a]=c.useState(Sr),[s,o]=c.useState(t),i=({promptKey:l,name:u,value:h})=>{o(m=>{var x,g,C;return{...m??{},prompt:{...(m==null?void 0:m.prompt)??{},[l]:{...((x=m==null?void 0:m.prompt)==null?void 0:x[l])??{},inputs:{...((C=(g=m.prompt)==null?void 0:g[l])==null?void 0:C.inputs)??{},[u]:h}}}}})},d=l=>{Ge(n,{name:l.name,promptKey:l==null?void 0:l.promptKey,classType:(l==null?void 0:l.class_type)??""})?a(u=>u.filter(h=>h.name!==l.name||h.promptKey!==l.promptKey)):a(u=>[...u,l])};return r.jsxs(j,{direction:"column",align:"stretch",children:[r.jsx(br,{topFields:n,metaData:s,updateMetaData:i,updateTopField:d}),r.jsx(pr,{topFields:n,metaData:s,updateMetaData:i,updateTopField:d})]})}const Pr=({media:e})=>{const[t,n]=c.useState(),a=async s=>{try{const o=await Fn(`/workspace/view_media?filename=${s.localPath}`);n(o)}catch(o){console.error(o)}};return c.useEffect(()=>{e&&a(e)},[e]),r.jsxs(j,{overflowY:"auto",mb:4,direction:"column",gap:2,flex:1,children:[r.jsxs($n,{alignItems:"center",columns:2,spacing:2,children:[r.jsxs(j,{alignItems:"center",gap:1,children:[r.jsx(Te,{children:e==null?void 0:e.localPath}),r.jsx(pe,{label:"Donwload image from gallery",children:r.jsx(dt,{href:`/workspace/view_media?filename=${e==null?void 0:e.localPath}`,download:e==null?void 0:e.localPath,children:r.jsx(Q,{size:"sm",icon:r.jsx(Ft,{size:19}),"aria-label":"donwload image from gallery"})})})]}),r.jsxs(j,{gap:1,alignItems:"center",children:[r.jsx(Te,{children:"Create Time:"}),r.jsx(Te,{children:Ot((e==null?void 0:e.createTime)??0,!0)})]})]}),e&&t&&r.jsx(wr,{metaData:t,media:e})]})},Ir=({mediaList:e,media:t})=>{const[n,a]=c.useState();return c.useEffect(()=>{t&&a(t)},[t]),r.jsxs(j,{gap:3,h:"100%",children:[r.jsx(j,{flex:1,children:r.jsx(cr,{media:e.map(s=>({id:s.id,imageUrl:`/workspace/view_media?filename=${s.localPath}`})),currentNum:e==null?void 0:e.findIndex(s=>s.id===(n==null?void 0:n.id)),setMediaAct:s=>a(e==null?void 0:e.find(o=>o.id===s.id))})}),r.jsx(Pr,{media:n})]})},Cr=({media:e,isSelecting:t,selectedID:n,onClickMedia:a,onRefreshImagesList:s,coverPath:o,setCoverPath:i})=>{const{curFlowID:l,loadFilePath:u}=c.useContext(Bt),{showDialog:h}=pn();if(e.localPath==null)return null;const m=o!=null&&o===e.localPath;if(l==null)return null;const x=r.jsxs(dt,{isExternal:!0,onClick:()=>a(e),position:"relative",children:[t&&r.jsx(gt,{isChecked:n.includes(e.id),position:"absolute",top:2,left:2}),r.jsx(Ln,{mediaLocalPath:e.localPath,size:180,onBrokenLink:()=>{},autoPlay:!0,isPreview:!0})]});return r.jsxs(On,{width:180,mb:2,children:[r.jsx(pe,{label:Ot(e.createTime,!0),children:x}),r.jsx(pe,{label:e.localPath,children:r.jsx(Te,{color:"GrayText",noOfLines:1,children:e.localPath})}),r.jsxs(Ke,{hidden:t,gap:0,children:[r.jsx(pe,{label:"Set as cover",children:r.jsx(Q,{size:"sm",variant:"ghost",icon:m?r.jsx(dn,{size:19}):r.jsx(mn,{size:19}),"aria-label":"set as cover",onClick:()=>{var g;(g=ut)==null||g.updateMetaInfo(l,{coverMediaPath:e.localPath}),i(e.localPath)}})}),r.jsx(Sn,{flexGrow:1,onClick:()=>h("How do you want to load this workflow?",[{label:"Load in new workflow",onClick:()=>{u(e.localPath)},colorScheme:"teal"},{label:"Overwrite current workflow",onClick:()=>u(e.localPath,!0),colorScheme:"red"}]),size:"sm",children:"Load"}),r.jsx(pe,{label:"Donwload image from gallery",children:r.jsx(dt,{href:`/workspace/view_media?filename=${e.localPath}`,download:e.localPath,children:r.jsx(Q,{size:"sm",variant:"ghost",icon:r.jsx(Ft,{size:19}),"aria-label":"donwload image from gallery"})})}),r.jsx(pe,{label:"Remove image from gallery",children:r.jsx(Q,{size:"sm",variant:"ghost",icon:r.jsx(Bn,{size:19}),"aria-label":"remove image from gallery",colorScheme:"red",onClick:async()=>{var C,w;confirm("Are you sure to remove this image from gallery? (won't delete image on your disk)")&&(await((C=zt)==null?void 0:C.delete(e.id)),m&&(await((w=ut)==null?void 0:w.updateMetaInfo(l,{coverMediaPath:void 0})),i("")),s())}})})]})]})},kr=Cr;function Or({onclose:e}){const{curFlowID:t}=c.useContext(Bt),[n,a]=c.useState(""),[s,o]=c.useState([]),[i,d]=c.useState(!1),[l,u]=c.useState(""),[h,m]=c.useState([]),[x,g]=c.useState(),[C,w]=c.useState(""),P=N=>{w(N)},E=async()=>{var k;if(t==null)return;const N=await((k=zt)==null?void 0:k.listByWorkflowID(t));m(N??[])};c.useEffect(()=>{var N;E(),t&&((N=ut)==null||N.get(t).then(k=>{k&&(a(k.name),k!=null&&k.coverMediaPath&&u(k==null?void 0:k.coverMediaPath))}))},[]);const D=C.length?h==null?void 0:h.filter(N=>{var k;return(k=N.workflowJSON)==null?void 0:k.includes(C??"")}):h;if(t==null)return null;const U=N=>{if(i){s.includes(N.id)?o(s.filter(k=>k!==N.id)):o([...s,N.id]);return}g(N)},V=h.length>0&&s.length===h.length;return r.jsxs(wn,{isOpen:!0,onClose:e,blockScrollOnMount:!0,children:[r.jsx(Pn,{}),r.jsxs(In,{width:"90%",maxWidth:"90vw",height:"90vh",children:[r.jsxs(Cn,{children:[r.jsx(Ke,{gap:2,mb:2,children:r.jsxs(zn,{size:"md",mr:2,children:[!!x&&r.jsx(Q,{onClick:()=>g(void 0),variant:"ghost",mr:1,"aria-label":"back",icon:r.jsx(lr,{})}),"Gallery - ",n,!x&&r.jsx(j,{gap:2,display:"inline-flex",ml:2,children:r.jsx(Un,{searchValue:C,onUpdateSearchValue:P})})]})}),i&&r.jsxs(Ke,{gap:3,children:[r.jsx(gt,{isChecked:V,onChange:()=>{o(V?[]:h.map(N=>N.id))},children:"All"}),r.jsxs(Te,{fontSize:16,children:[s.length," Selected"]}),r.jsx(Q,{size:"sm",icon:r.jsx(Vn,{size:19}),onClick:()=>d(!1),"aria-label":"cancel"})]})]}),r.jsx(kn,{}),r.jsx(Nn,{overflowY:"auto",children:x?r.jsx(Ir,{mediaList:h,media:x}):r.jsx(Ke,{wrap:"wrap",children:D.map(N=>r.jsx(kr,{selectedID:s,media:N,isSelecting:i,onClickMedia:U,onRefreshImagesList:E,coverPath:l,setCoverPath:u},N.id))})})]})]})}export{Or as default};
