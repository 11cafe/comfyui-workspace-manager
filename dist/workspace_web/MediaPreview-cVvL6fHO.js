import{G as Ge,I as Ke}from"./chunk-JARCRF6W-fNDfXRta.js";import{d as M,r as s,f as T,E as Ue,j as f,ae as $e,I as Ee,x as qe,y as ze,m as ae,q as y,p as se,b as Pe,g as Y,k as He,o as Le,e as Me}from"./input.js";import{ao as Fe,ap as We,aq as Xe,h as Re,B as Ye,I as Je,C as Qe,n as Ze,ak as et}from"./App-bqAziDgv.js";function tt(t){const e=parseFloat(t);return typeof e!="number"||Number.isNaN(e)?0:e}function le(t,e){let r=tt(t);const a=10**(e??10);return r=Math.round(r*a)/a,e?r.toFixed(e):r.toString()}function oe(t){if(!Number.isFinite(t))return 0;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r+=1;return r}function Et(t,e,r){return(t-e)*100/(r-e)}function Pt(t,e,r){return(r-e)*t+e}function Mt(t,e,r){const a=Math.round((t-e)/r)*r+e,o=oe(r);return le(a,o)}function nt(t,e,r){return t==null?t:(r<e&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,e),r))}function rt(t={}){const{onChange:e,precision:r,defaultValue:a,value:o,step:u=1,min:i=Number.MIN_SAFE_INTEGER,max:p=Number.MAX_SAFE_INTEGER,keepWithinRange:b=!0}=t,h=M(e),[C,A]=s.useState(()=>{var m;return a==null?"":(m=ue(a,u,r))!=null?m:""}),S=typeof o<"u",x=S?o:C,O=Te(k(x),u),F=r??O,I=s.useCallback(m=>{m!==x&&(S||A(m.toString()),h==null||h(m.toString(),k(m)))},[h,S,x]),w=s.useCallback(m=>{let d=m;return b&&(d=nt(d,i,p)),le(d,F)},[F,b,p,i]),B=s.useCallback((m=u)=>{let d;x===""?d=k(m):d=k(x)+m,d=w(d),I(d)},[w,u,I,x]),G=s.useCallback((m=u)=>{let d;x===""?d=k(-m):d=k(x)-m,d=w(d),I(d)},[w,u,I,x]),K=s.useCallback(()=>{var m;let d;a==null?d="":d=(m=ue(a,u,r))!=null?m:i,I(d)},[a,r,u,I,i]),Q=s.useCallback(m=>{var d;const ee=(d=ue(m,u,F))!=null?d:i;I(ee)},[F,u,I,i]),E=k(x);return{isOutOfRange:E>p||E<i,isAtMax:E===p,isAtMin:E===i,precision:F,value:x,valueAsNumber:E,update:I,reset:K,increment:B,decrement:G,clamp:w,cast:Q,setValue:A}}function k(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function Te(t,e){return Math.max(oe(e),oe(t))}function ue(t,e,r){const a=k(t);if(Number.isNaN(a))return;const o=Te(a,e);return le(a,r??o)}var at=T(function(e,r){const{columns:a,spacingX:o,spacingY:u,spacing:i,minChildWidth:p,...b}=e,h=Ue(),C=p?ut(p,h):ot(a);return f.jsx(Ge,{ref:r,gap:i,columnGap:o,rowGap:u,templateColumns:C,...b})});at.displayName="SimpleGrid";function st(t){return typeof t=="number"?`${t}px`:t}function ut(t,e){return Fe(t,r=>{const a=$e("sizes",r,st(r))(e);return r===null?null:`repeat(auto-fit, minmax(${a}, 1fr))`})}function ot(t){return Fe(t,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}var lt=t=>f.jsx(Ee,{viewBox:"0 0 24 24",...t,children:f.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),it=t=>f.jsx(Ee,{viewBox:"0 0 24 24",...t,children:f.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function ke(t,e,r,a){s.useEffect(()=>{var o;if(!t.current||!a)return;const u=(o=t.current.ownerDocument.defaultView)!=null?o:window,i=Array.isArray(e)?e:[e],p=new u.MutationObserver(b=>{for(const h of b)h.type==="attributes"&&h.attributeName&&i.includes(h.attributeName)&&r(h)});return p.observe(t.current,{attributes:!0,attributeFilter:i}),()=>p.disconnect()})}function ct(t,e){const r=M(t);s.useEffect(()=>{let a=null;const o=()=>r();return e!==null&&(a=window.setInterval(o,e)),()=>{a&&window.clearInterval(a)}},[e,r])}var pt=50,Ae=300;function dt(t,e){const[r,a]=s.useState(!1),[o,u]=s.useState(null),[i,p]=s.useState(!0),b=s.useRef(null),h=()=>clearTimeout(b.current);ct(()=>{o==="increment"&&t(),o==="decrement"&&e()},r?pt:null);const C=s.useCallback(()=>{i&&t(),b.current=setTimeout(()=>{p(!1),a(!0),u("increment")},Ae)},[t,i]),A=s.useCallback(()=>{i&&e(),b.current=setTimeout(()=>{p(!1),a(!0),u("decrement")},Ae)},[e,i]),S=s.useCallback(()=>{p(!0),a(!1),h()},[]);return s.useEffect(()=>()=>h(),[]),{up:C,down:A,stop:S,isSpinning:r}}var mt=/^[Ee0-9+\-.]$/;function ft(t){return mt.test(t)}function bt(t,e){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:e(t.key)}function vt(t={}){const{focusInputOnChange:e=!0,clampValueOnBlur:r=!0,keepWithinRange:a=!0,min:o=Number.MIN_SAFE_INTEGER,max:u=Number.MAX_SAFE_INTEGER,step:i=1,isReadOnly:p,isDisabled:b,isRequired:h,isInvalid:C,pattern:A="[0-9]*(.[0-9]+)?",inputMode:S="decimal",allowMouseWheel:x,id:O,onChange:F,precision:I,name:w,"aria-describedby":B,"aria-label":G,"aria-labelledby":K,onFocus:Q,onBlur:E,onInvalid:ce,getAriaValueText:pe,isValidCharacter:Z,format:m,parse:d,...ee}=t,te=M(Q),de=M(E),V=M(ce),U=M(Z??ft),ne=M(pe),l=rt(t),{update:j,increment:me,decrement:fe}=l,[je,re]=s.useState(!1),$=!(p||b),_=s.useRef(null),q=s.useRef(null),be=s.useRef(null),ve=s.useRef(null),z=s.useCallback(n=>n.split("").filter(U).join(""),[U]),H=s.useCallback(n=>{var c;return(c=d==null?void 0:d(n))!=null?c:n},[d]),R=s.useCallback(n=>{var c;return((c=m==null?void 0:m(n))!=null?c:n).toString()},[m]);qe(()=>{(l.valueAsNumber>u||l.valueAsNumber<o)&&(V==null||V("rangeOverflow",R(l.value),l.valueAsNumber))},[l.valueAsNumber,l.value,R,V]),ze(()=>{if(!_.current)return;if(_.current.value!=l.value){const c=H(_.current.value);l.setValue(z(c))}},[H,z]);const L=s.useCallback((n=i)=>{$&&me(n)},[me,$,i]),W=s.useCallback((n=i)=>{$&&fe(n)},[fe,$,i]),g=dt(L,W);ke(be,"disabled",g.stop,g.isSpinning),ke(ve,"disabled",g.stop,g.isSpinning);const he=s.useCallback(n=>{if(n.nativeEvent.isComposing)return;const v=H(n.currentTarget.value);j(z(v)),q.current={start:n.currentTarget.selectionStart,end:n.currentTarget.selectionEnd}},[j,z,H]),ge=s.useCallback(n=>{var c,v,N;te==null||te(n),q.current&&(n.target.selectionStart=(v=q.current.start)!=null?v:(c=n.currentTarget.value)==null?void 0:c.length,n.currentTarget.selectionEnd=(N=q.current.end)!=null?N:n.currentTarget.selectionStart)},[te]),xe=s.useCallback(n=>{if(n.nativeEvent.isComposing)return;bt(n,U)||n.preventDefault();const c=Ne(n)*i,v=n.key,P={ArrowUp:()=>L(c),ArrowDown:()=>W(c),Home:()=>j(o),End:()=>j(u)}[v];P&&(n.preventDefault(),P(n))},[U,i,L,W,j,o,u]),Ne=n=>{let c=1;return(n.metaKey||n.ctrlKey)&&(c=.1),n.shiftKey&&(c=10),c},Ie=s.useMemo(()=>{const n=ne==null?void 0:ne(l.value);if(n!=null)return n;const c=l.value.toString();return c||void 0},[l.value,ne]),ye=s.useCallback(()=>{let n=l.value;if(l.value==="")return;/^[eE]/.test(l.value.toString())?l.setValue(""):(l.valueAsNumber<o&&(n=o),l.valueAsNumber>u&&(n=u),l.cast(n))},[l,u,o]),Ce=s.useCallback(()=>{re(!1),r&&ye()},[r,re,ye]),X=s.useCallback(()=>{e&&requestAnimationFrame(()=>{var n;(n=_.current)==null||n.focus()})},[e]),Se=s.useCallback(n=>{n.preventDefault(),g.up(),X()},[X,g]),we=s.useCallback(n=>{n.preventDefault(),g.down(),X()},[X,g]);We(()=>_.current,"wheel",n=>{var c,v;const P=((v=(c=_.current)==null?void 0:c.ownerDocument)!=null?v:document).activeElement===_.current;if(!x||!P)return;n.preventDefault();const D=Ne(n)*i,_e=Math.sign(n.deltaY);_e===-1?L(D):_e===1&&W(D)},{passive:!1});const De=s.useCallback((n={},c=null)=>{const v=b||a&&l.isAtMax;return{...n,ref:ae(c,be),role:"button",tabIndex:-1,onPointerDown:y(n.onPointerDown,N=>{N.button!==0||v||Se(N)}),onPointerLeave:y(n.onPointerLeave,g.stop),onPointerUp:y(n.onPointerUp,g.stop),disabled:v,"aria-disabled":se(v)}},[l.isAtMax,a,Se,g.stop,b]),Oe=s.useCallback((n={},c=null)=>{const v=b||a&&l.isAtMin;return{...n,ref:ae(c,ve),role:"button",tabIndex:-1,onPointerDown:y(n.onPointerDown,N=>{N.button!==0||v||we(N)}),onPointerLeave:y(n.onPointerLeave,g.stop),onPointerUp:y(n.onPointerUp,g.stop),disabled:v,"aria-disabled":se(v)}},[l.isAtMin,a,we,g.stop,b]),Be=s.useCallback((n={},c=null)=>{var v,N,P,D;return{name:w,inputMode:S,type:"text",pattern:A,"aria-labelledby":K,"aria-label":G,"aria-describedby":B,id:O,disabled:b,...n,readOnly:(v=n.readOnly)!=null?v:p,"aria-readonly":(N=n.readOnly)!=null?N:p,"aria-required":(P=n.required)!=null?P:h,required:(D=n.required)!=null?D:h,ref:ae(_,c),value:R(l.value),role:"spinbutton","aria-valuemin":o,"aria-valuemax":u,"aria-valuenow":Number.isNaN(l.valueAsNumber)?void 0:l.valueAsNumber,"aria-invalid":se(C??l.isOutOfRange),"aria-valuetext":Ie,autoComplete:"off",autoCorrect:"off",onChange:y(n.onChange,he),onKeyDown:y(n.onKeyDown,xe),onFocus:y(n.onFocus,ge,()=>re(!0)),onBlur:y(n.onBlur,de,Ce)}},[w,S,A,K,G,R,B,O,b,h,p,C,l.value,l.valueAsNumber,l.isOutOfRange,o,u,Ie,he,xe,ge,de,Ce]);return{value:R(l.value),valueAsNumber:l.valueAsNumber,isFocused:je,isDisabled:b,isReadOnly:p,getIncrementButtonProps:De,getDecrementButtonProps:Oe,getInputProps:Be,htmlProps:ee}}var[ht,J]=Pe({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[gt,ie]=Pe({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),xt=T(function(e,r){const a=He("NumberInput",e),o=Le(e),u=Xe(o),{htmlProps:i,...p}=vt(u),b=s.useMemo(()=>p,[p]);return f.jsx(gt,{value:b,children:f.jsx(ht,{value:a,children:f.jsx(Y.div,{...i,ref:r,className:Me("chakra-numberinput",e.className),__css:{position:"relative",zIndex:0,...a.root}})})})});xt.displayName="NumberInput";var Nt=T(function(e,r){const a=J();return f.jsx(Y.div,{"aria-hidden":!0,ref:r,...e,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...a.stepperGroup}})});Nt.displayName="NumberInputStepper";var It=T(function(e,r){const{getInputProps:a}=ie(),o=a(e,r),u=J();return f.jsx(Y.input,{...o,className:Me("chakra-numberinput__field",e.className),__css:{width:"100%",...u.field}})});It.displayName="NumberInputField";var Ve=Y("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),yt=T(function(e,r){var a;const o=J(),{getDecrementButtonProps:u}=ie(),i=u(e,r);return f.jsx(Ve,{...i,__css:o.stepper,children:(a=e.children)!=null?a:f.jsx(lt,{})})});yt.displayName="NumberDecrementStepper";var Ct=T(function(e,r){var a;const{getIncrementButtonProps:o}=ie(),u=o(e,r),i=J();return f.jsx(Ve,{...u,__css:i.stepper,children:(a=e.children)!=null?a:f.jsx(it,{})})});Ct.displayName="NumberIncrementStepper";var Ft=Re("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),St=Re("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);const wt={position:"absolute",marginLeft:"10px",width:"20px",height:"20px",top:"50%",color:"#A0AEC0",transform:"translateY(-50%)"};function Rt(t){const{searchValue:e,onUpdateSearchValue:r}=t,a=e!=="";return f.jsxs(Ye,{style:{position:"relative"},mb:2,children:[f.jsx(St,{style:wt}),a&&f.jsx(Je,{size:"xs",position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",background:"none",zIndex:"100",icon:f.jsx(Qe,{width:15,height:15}),onClick:()=>r(""),"aria-label":"clear input button"}),f.jsx(Ze,{placeholder:"Search",size:"sm",paddingLeft:"35px",paddingBlock:"5px",value:e,onChange:({target:o})=>r(o.value)})]})}function Tt({mediaLocalPath:t,size:e,isPreview:r,autoPlay:a,hideBrokenImage:o,onBrokenLink:u}){const[i,p]=s.useState(!0);return s.useEffect(()=>{o&&(async()=>{try{if(!(await fetch(r?`/workspace/preview_media?filename=${t}`:`/workspace/view_media?filename=${t}`)).ok)throw new Error("Media not found");p(!0)}catch{p(!1),u==null||u()}})()},[]),i?et(t)?f.jsx(Ke,{borderRadius:3,boxSize:`${e}px`,objectFit:"cover",src:`/workspace/view_media?filename=${t}`,alt:"workflow image renamed or moved from output folder"}):f.jsx("div",{style:{width:e+"px",height:e+"px",overflow:"hidden",position:"relative"},children:f.jsx("video",{width:e,height:e,src:`/workspace/view_media?filename=${t}`,loop:!0,autoPlay:a??!1,muted:!0,style:{objectFit:"cover",width:"100%",height:"100%"},children:f.jsx("track",{kind:"captions"})})}):null}export{Ft as I,Tt as M,xt as N,at as S,It as a,Rt as b,nt as c,Nt as d,Ct as e,yt as f,Pt as p,Mt as r,Et as v};
