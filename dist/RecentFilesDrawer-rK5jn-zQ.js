import{r as T,j as _,M as qe,a as Xe,b as Je,c as Qe,d as et,e as tt,B as be,am as Zt,bh as Ze,bi as Dr,bj as zr,bk as Rr,bl as Tn,Z as Fr,bm as ie,bn as ae,bo as Ar,bp as Ln,V as Vn,R as se,E as Te,U as Tr,ad as Lr,I as Gt,D as Yt,an as dn,bq as ut,g as Vr,f as Br}from"./workspace-manager-IwcWZCSX.js";import{c as Ie,f as Kt,l as Nr,I as Bn,t as De,u as Ge,a as Nn,g as hn,v as $r,b as Ur,R as Ve,d as qt,e as $n,W as Un,i as nt,h as Hr,j as Wr,k as Zr,m as Gr,n as Yr,o as Xt,p as Hn,q as rt,r as Ft,s as At,w as Tt,E as fn,x as Kr,y as Et,z as qr,A as pn}from"./App-zmQFiCOB.js";import{A as Xr,j as Jr,h as Qr,i as ei,k as ti,L as Wn,Z as ni,V as mn,S as ri,g as ii,D as ai,P as Jt,I as Qt,F as en,z as tn,C as nn,H as si,B as rn,y as oi,x as li}from"./chunk-RPO2WXNL-JnvqhGPi.js";import{B as de,H as ye,I as xe,S as it,T as Se,m as at,g as ui,F as Ye,u as ci,M as st,h as Zn,i as kt,j as Le,ak as di,$ as hi,c as Ae,b as fi,C as Gn,k as pi,l as mi,n as vi,d as gi}from"./chunk-TK6VMDNP-eb4SOsAW.js";import{app as ct}from"/scripts/app.js";import"/scripts/api.js";var bi=Ie("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),yi=Ie("chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]),xi=Ie("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),Si=Ie("file-import","IconFileImport",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3",key:"svg-1"}]]),wi=Ie("folder-plus","IconFolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]),_i=Ie("list-check","IconListCheck",[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]]),Ci=Ie("menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]),ki=Ie("moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]),Oi=Ie("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]),Ii=Ie("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),Ei=Ie("sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]),Yn=Ie("tag","IconTag",[["path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z",key:"svg-1"}]]);function Pi({onclose:l}){const[e,n]=T.useState([]),s=async()=>{const t=await Nr("workflows");if(t==null)return;const i=JSON.parse(t);n(i)};return T.useEffect(()=>{s()},[]),_.jsxs(qe,{onClose:l,size:"xl",isOpen:!0,children:[_.jsx(Xe,{}),_.jsxs(Je,{children:[_.jsx(Qe,{children:"Backups"}),_.jsx(et,{}),_.jsx(tt,{children:_.jsx(Xr,{allowToggle:!0,children:e.map(t=>{const i=parseInt(t.fileName.split(".")[0]);return _.jsxs(Jr,{children:[_.jsx("h2",{children:_.jsxs(Qr,{children:[_.jsxs(de,{as:"span",flex:"1",textAlign:"left",children:["Saved on ",Kt(i)]}),_.jsx(ei,{})]})}),_.jsx(ti,{pb:4,children:Object.values(t.jsonStr).map(a=>_.jsx(de,{children:a.name}))})]})})})})]})]})}function Mi({onclose:l}){var s;const[e,n]=T.useState(((s=De)==null?void 0:s.listAll())??[]);return _.jsxs(qe,{isOpen:!0,onClose:l,children:[_.jsx(Xe,{}),_.jsxs(Je,{children:[_.jsx(Qe,{children:"My Tags"}),_.jsx(et,{}),_.jsx(tt,{children:e.map(t=>_.jsxs(ye,{children:[_.jsx(Wn,{children:t.name}),_.jsx(xe,{onClick:()=>{var i,a;(i=De)==null||i.delete(t.name),n(((a=De)==null?void 0:a.listAll())??[])},"aria-label":"delete-tag",colorScheme:"red",variant:"ghost",icon:_.jsx(Bn,{})})]}))})]})]})}function ji(){var o,c;const l=(c=(o=Ge)==null?void 0:o.getSetting("shortcuts"))==null?void 0:c.save,[e,n]=T.useState(l??"Control+S"),[s,t]=T.useState(!1),i=()=>t(!0),a=()=>t(!1),r=m=>{var b;m.preventDefault();let f="";m.ctrlKey&&(f+="Control+"),m.shiftKey&&(f+="Shift+"),m.altKey&&(f+="Alt+"),f.length>0&&!["Control","Shift","Alt"].includes(m.key)&&(f+=m.key.toUpperCase(),n(f),(b=Ge)==null||b.upsert({shortcuts:{save:f}}))};return _.jsxs(it,{children:[_.jsx(Se,{children:"Keyboard Shortcut - Save current workflow"}),s&&_.jsx(Se,{color:"gray.500",children:"Press shortcut key combinations to setup"}),_.jsx(at,{value:e,onKeyDown:r,onFocus:i,onBlur:a,placeholder:"Press a key combination",readOnly:!0})]})}function Di({onClose:l}){var P;const[e,n]=T.useState(!1),[s,t]=T.useState(!1),[i,a]=T.useState((P=Ge)==null?void 0:P.records.myWorkflowsDir),[r,o]=T.useState([]),[c,m]=T.useState([]),[f,b]=T.useState(!1),d=T.useRef(null),y=ni(),h=async D=>{const{dir_path:M="",dir_contents:N=[],error:K=""}=await hn(D??"");return K.includes("Operation not permitted")?(b(!0),v(),{isError:!0}):{dirList:N,dirPath:M}},g=async()=>{const{isError:D=!1,dirList:M=[]}=await h(i);D||(m(M),t(!0),o(i&&i.split("/").filter(N=>!!N)||[]))},v=()=>{t(!1),n(!1),o([])},x=async D=>{var N,K;if(D){const{error:k=""}=await hn(D);if(k.includes("Not a directory")){y({title:"The directory address you entered is invalid, please re-enter it.",status:"warning",duration:5e3,position:"top",isClosable:!0});return}}const M=D??`/${r.join("/")}`;(N=Ge)==null||N.upsert({myWorkflowsDir:M}),a((K=Ge)==null?void 0:K.getSetting("myWorkflowsDir")),D&&b(!1),v(),$r(!1)},w=async()=>{const{dirPath:D,dirList:M}=await h("");o(D.split("/").filter(N=>!!N)),m(M)},O=async(D,M)=>{var L;let N="";D===-1&&M?N=`/${r.concat([M]).join("/")}`:N=`/${r.slice(0,D+1).join("/")}`;const{isError:K=!1,dirList:k=[]}=await h(N);K||(m(k),o((L=N.slice(1))==null?void 0:L.split("/")))},I=()=>{t(!0),n(!0)},E=_.jsxs(de,{textAlign:"end",mb:4,children:[_.jsx(at,{placeholder:"Please enter the absolute path directory address",ref:d,mt:2,mb:2}),_.jsx(be,{colorScheme:"teal",mr:3,size:"sm",onClick:()=>{var D,M;(D=d==null?void 0:d.current)!=null&&D.value&&x((M=d==null?void 0:d.current)==null?void 0:M.value)},children:"Save"})]});return _.jsxs(_.Fragment,{children:[_.jsxs(qe,{isOpen:!0,onClose:l,size:"xl",children:[_.jsx(Xe,{}),_.jsxs(Je,{children:[_.jsx(Qe,{children:"Settings"}),_.jsx(et,{}),_.jsx(tt,{children:_.jsx(ye,{children:_.jsxs(mn,{divider:_.jsx(ui,{borderColor:"gray.200"}),spacing:4,align:"stretch",w:"100%",children:[_.jsxs(de,{mb:4,children:[_.jsx(Se,{mb:2,fontWeight:500,children:"Workspace Save Directory"}),s?e?E:_.jsxs(mn,{spacing:2,alignItems:"start",children:[_.jsx(it,{spacing:"2px",direction:"row",wrap:"wrap",children:r.map((D,M)=>_.jsxs(_.Fragment,{children:["/",_.jsx(be,{colorScheme:"teal",variant:"link",minW:1,onClick:()=>{O(M)},children:D},`${D}-${M}`)]}))}),_.jsx(ri,{columns:2,spacing:3,maxHeight:500,width:"100%",overflowY:"auto",children:c.map((D,M)=>_.jsx(be,{size:"sm",leftIcon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#EFC54D",style:{width:"1.2rem",height:"1.2rem"},children:_.jsx("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"})}),justifyContent:"start",onClick:()=>{O(-1,D)},children:D},`${D}-${M}`))}),_.jsxs(de,{w:"100%",textAlign:"end",children:[_.jsx(be,{colorScheme:"teal",size:"sm",onClick:()=>{x()},children:"Save"}),_.jsx(be,{size:"sm",onClick:w,mr:2,ml:2,children:"Reset"}),_.jsx(be,{size:"sm",onClick:v,children:"Cancel"})]})]}):_.jsxs(Ye,{children:[_.jsx(Wn,{overflowWrap:"anywhere",children:i}),_.jsx(xe,{"aria-label":"Enter folder address",size:"sm",ml:2,icon:_.jsx(xi,{}),onClick:I}),_.jsx(xe,{"aria-label":"Select folder",size:"sm",ml:2,icon:_.jsx(Nn,{}),onClick:g})]})]}),_.jsx(ji,{})]})})})]})]}),_.jsxs(qe,{isOpen:f,onClose:()=>b(!1),size:"xl",children:[_.jsx(Xe,{}),_.jsxs(Je,{children:[_.jsx(Qe,{children:"Kind tips"}),_.jsx(et,{}),_.jsx(tt,{children:_.jsxs(de,{children:[navigator.userAgent.indexOf("Mac OS X")!==-1?_.jsxs(Se,{fontWeight:500,children:["There is no permission to access the folder. You need to grant full disk access permission to the terminal that starts the ComfyUI program. For details, refer to the",_.jsx(be,{colorScheme:"teal",variant:"link",as:"a",ml:2,target:"_block",href:`https://stackoverflow.com/questions/58479686/permissionerror-errno-1-operation-not-permitted-after-macos
                -catalina-update`,children:"Document"}),", or you can manually enter the absolute path of the folder in the input box below to save."]}):_.jsx(Se,{fontWeight:500,children:"You do not have permission to access the folder. It is recommended that you manually enter the absolute path address of the required folder."}),E]})})]})]})]})}const dt=16;function zi({}){const{isOpen:l,onOpen:e,onClose:n}=ci(),[s,t]=T.useState(!1),[i,a]=T.useState(!1),{colorMode:r,toggleColorMode:o}=Zt();return _.jsxs(_.Fragment,{children:[_.jsxs(st,{isLazy:!0,children:[_.jsx(Zn,{as:xe,"aria-label":"Options",icon:_.jsx(Ci,{}),size:"sm",variant:"outline"}),_.jsxs(kt,{children:[_.jsx(Le,{onClick:()=>a(!0),icon:_.jsx(Ii,{size:16}),fontSize:16,children:"Settings"}),_.jsx(Le,{onClick:()=>t(!0),icon:_.jsx(Yn,{size:dt}),fontSize:16,children:"Manage Tags"}),_.jsxs(Le,{onClick:o,icon:r==="light"?_.jsx(ki,{size:dt}):_.jsx(Ei,{size:dt}),fontSize:16,children:[r==="light"?"Dark":"Light"," Mode"]}),_.jsx(Le,{onClick:e,icon:_.jsx(Ur,{size:dt}),fontSize:16,children:"Backups (Experimental)"})]})]}),s&&_.jsx(Mi,{onclose:()=>t(!1)}),i&&_.jsx(Di,{onClose:()=>a(!1)}),l&&_.jsx(Pi,{onclose:n})]})}function vn(l,e){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);e&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(l,t).enumerable})),n.push.apply(n,s)}return n}function re(l){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(n),!0).forEach(function(s){Ze(l,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(n,s))})}return l}function Ri(l){if(Array.isArray(l))return l}function Fi(l,e){var n=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n!=null){var s,t,i,a,r=[],o=!0,c=!1;try{if(i=(n=n.call(l)).next,e===0){if(Object(n)!==n)return;o=!1}else for(;!(o=(s=i.call(n)).done)&&(r.push(s.value),r.length!==e);o=!0);}catch(m){c=!0,t=m}finally{try{if(!o&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw t}}return r}}function Lt(l,e){(e==null||e>l.length)&&(e=l.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=l[n];return s}function Kn(l,e){if(l){if(typeof l=="string")return Lt(l,e);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(l,e)}}function Ai(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(l,e){return Ri(l)||Fi(l,e)||Kn(l,e)||Ai()}function Fe(l,e){if(l==null)return{};var n=Dr(l,e),s,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);for(t=0;t<i.length;t++)s=i[t],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(l,s)&&(n[s]=l[s])}return n}var Ti=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Li(l){var e=l.defaultInputValue,n=e===void 0?"":e,s=l.defaultMenuIsOpen,t=s===void 0?!1:s,i=l.defaultValue,a=i===void 0?null:i,r=l.inputValue,o=l.menuIsOpen,c=l.onChange,m=l.onInputChange,f=l.onMenuClose,b=l.onMenuOpen,d=l.value,y=Fe(l,Ti),h=T.useState(r!==void 0?r:n),g=Re(h,2),v=g[0],x=g[1],w=T.useState(o!==void 0?o:t),O=Re(w,2),I=O[0],E=O[1],P=T.useState(d!==void 0?d:a),D=Re(P,2),M=D[0],N=D[1],K=T.useCallback(function(te,A){typeof c=="function"&&c(te,A),N(te)},[c]),k=T.useCallback(function(te,A){var J;typeof m=="function"&&(J=m(te,A)),x(J!==void 0?J:te)},[m]),L=T.useCallback(function(){typeof b=="function"&&b(),E(!0)},[b]),p=T.useCallback(function(){typeof f=="function"&&f(),E(!1)},[f]),B=r!==void 0?r:v,ee=o!==void 0?o:I,U=d!==void 0?d:M;return re(re({},y),{},{inputValue:B,menuIsOpen:ee,onChange:K,onInputChange:k,onMenuClose:p,onMenuOpen:L,value:U})}function Vi(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(l,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,zr(s.key),s)}}function Bi(l,e,n){return e&&gn(l.prototype,e),n&&gn(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}function Ni(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&Rr(l,e)}function gt(l){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gt(l)}function $i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ui(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Hi(l,e){if(e&&(Tn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ui(l)}function Wi(l){var e=$i();return function(){var s=gt(l),t;if(e){var i=gt(this).constructor;t=Reflect.construct(s,arguments,i)}else t=s.apply(this,arguments);return Hi(this,t)}}function Zi(l){if(Array.isArray(l))return Lt(l)}function Gi(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function Yi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qn(l){return Zi(l)||Gi(l)||Kn(l)||Yi()}function Ki(l,e){return e||(e=l.slice(0)),Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(e)}}))}const qi=Math.min,Xi=Math.max,bt=Math.round,ht=Math.floor,yt=l=>({x:l,y:l});function Ji(l){return{...l,top:l.y,left:l.x,right:l.x+l.width,bottom:l.y+l.height}}function Xn(l){return Qn(l)?(l.nodeName||"").toLowerCase():"#document"}function Pe(l){var e;return(l==null||(e=l.ownerDocument)==null?void 0:e.defaultView)||window}function Jn(l){var e;return(e=(Qn(l)?l.ownerDocument:l.document)||window.document)==null?void 0:e.documentElement}function Qn(l){return l instanceof Node||l instanceof Pe(l).Node}function Vt(l){return l instanceof Element||l instanceof Pe(l).Element}function an(l){return l instanceof HTMLElement||l instanceof Pe(l).HTMLElement}function bn(l){return typeof ShadowRoot>"u"?!1:l instanceof ShadowRoot||l instanceof Pe(l).ShadowRoot}function er(l){const{overflow:e,overflowX:n,overflowY:s,display:t}=sn(l);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(t)}function Qi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ea(l){return["html","body","#document"].includes(Xn(l))}function sn(l){return Pe(l).getComputedStyle(l)}function ta(l){if(Xn(l)==="html")return l;const e=l.assignedSlot||l.parentNode||bn(l)&&l.host||Jn(l);return bn(e)?e.host:e}function tr(l){const e=ta(l);return ea(e)?l.ownerDocument?l.ownerDocument.body:l.body:an(e)&&er(e)?e:tr(e)}function xt(l,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const t=tr(l),i=t===((s=l.ownerDocument)==null?void 0:s.body),a=Pe(t);return i?e.concat(a,a.visualViewport||[],er(t)?t:[],a.frameElement&&n?xt(a.frameElement):[]):e.concat(t,xt(t,[],n))}function na(l){const e=sn(l);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const t=an(l),i=t?l.offsetWidth:n,a=t?l.offsetHeight:s,r=bt(n)!==i||bt(s)!==a;return r&&(n=i,s=a),{width:n,height:s,$:r}}function on(l){return Vt(l)?l:l.contextElement}function Pt(l){const e=on(l);if(!an(e))return yt(1);const n=e.getBoundingClientRect(),{width:s,height:t,$:i}=na(e);let a=(i?bt(n.width):n.width)/s,r=(i?bt(n.height):n.height)/t;return(!a||!Number.isFinite(a))&&(a=1),(!r||!Number.isFinite(r))&&(r=1),{x:a,y:r}}const ra=yt(0);function ia(l){const e=Pe(l);return!Qi()||!e.visualViewport?ra:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aa(l,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pe(l)?!1:e}function yn(l,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const t=l.getBoundingClientRect(),i=on(l);let a=yt(1);e&&(s?Vt(s)&&(a=Pt(s)):a=Pt(l));const r=aa(i,n,s)?ia(i):yt(0);let o=(t.left+r.x)/a.x,c=(t.top+r.y)/a.y,m=t.width/a.x,f=t.height/a.y;if(i){const b=Pe(i),d=s&&Vt(s)?Pe(s):s;let y=b.frameElement;for(;y&&s&&d!==b;){const h=Pt(y),g=y.getBoundingClientRect(),v=sn(y),x=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*h.x,w=g.top+(y.clientTop+parseFloat(v.paddingTop))*h.y;o*=h.x,c*=h.y,m*=h.x,f*=h.y,o+=x,c+=w,y=Pe(y).frameElement}}return Ji({width:m,height:f,x:o,y:c})}function sa(l,e){let n=null,s;const t=Jn(l);function i(){clearTimeout(s),n&&n.disconnect(),n=null}function a(r,o){r===void 0&&(r=!1),o===void 0&&(o=1),i();const{left:c,top:m,width:f,height:b}=l.getBoundingClientRect();if(r||e(),!f||!b)return;const d=ht(m),y=ht(t.clientWidth-(c+f)),h=ht(t.clientHeight-(m+b)),g=ht(c),x={rootMargin:-d+"px "+-y+"px "+-h+"px "+-g+"px",threshold:Xi(0,qi(1,o))||1};let w=!0;function O(I){const E=I[0].intersectionRatio;if(E!==o){if(!w)return a();E?a(!1,E):s=setTimeout(()=>{a(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(O,{...x,root:t.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(l)}return a(!0),i}function oa(l,e,n,s){s===void 0&&(s={});const{ancestorScroll:t=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:o=!1}=s,c=on(l),m=t||i?[...c?xt(c):[],...xt(e)]:[];m.forEach(v=>{t&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&r?sa(c,n):null;let b=-1,d=null;a&&(d=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{d&&d.observe(e)})),n()}),c&&!o&&d.observe(c),d.observe(e));let y,h=o?yn(l):null;o&&g();function g(){const v=yn(l);h&&(v.x!==h.x||v.y!==h.y||v.width!==h.width||v.height!==h.height)&&n(),h=v,y=requestAnimationFrame(g)}return n(),()=>{m.forEach(v=>{t&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f&&f(),d&&d.disconnect(),d=null,o&&cancelAnimationFrame(y)}}var Bt=T.useLayoutEffect,la=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],St=function(){};function ua(l,e){return e?e[0]==="-"?l+e:l+"__"+e:l}function ca(l,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),t=2;t<n;t++)s[t-2]=arguments[t];var i=[].concat(s);if(e&&l)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(ua(l,a)));return i.filter(function(r){return r}).map(function(r){return String(r).trim()}).join(" ")}var xn=function(e){return ya(e)?e.filter(Boolean):Tn(e)==="object"&&e!==null?[e]:[]},nr=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Fe(e,la);return re({},n)},me=function(e,n,s){var t=e.cx,i=e.getStyles,a=e.getClassNames,r=e.className;return{css:i(n,e),className:t(s??{},a(n,e),r)}};function Ot(l){return[document.documentElement,document.body,window].indexOf(l)>-1}function da(l){return Ot(l)?window.innerHeight:l.clientHeight}function rr(l){return Ot(l)?window.pageYOffset:l.scrollTop}function wt(l,e){if(Ot(l)){window.scrollTo(0,e);return}l.scrollTop=e}function ha(l){var e=getComputedStyle(l),n=e.position==="absolute",s=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var t=l;t=t.parentElement;)if(e=getComputedStyle(t),!(n&&e.position==="static")&&s.test(e.overflow+e.overflowY+e.overflowX))return t;return document.documentElement}function fa(l,e,n,s){return n*((l=l/s-1)*l*l+1)+e}function ft(l,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:St,t=rr(l),i=e-t,a=10,r=0;function o(){r+=a;var c=fa(r,t,i,n);wt(l,c),r<n?window.requestAnimationFrame(o):s(l)}o()}function Sn(l,e){var n=l.getBoundingClientRect(),s=e.getBoundingClientRect(),t=e.offsetHeight/3;s.bottom+t>n.bottom?wt(l,Math.min(e.offsetTop+e.clientHeight-l.offsetHeight+t,l.scrollHeight)):s.top-t<n.top&&wt(l,Math.max(e.offsetTop-t,0))}function pa(l){var e=l.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function wn(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function ma(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ir=!1,va={get passive(){return ir=!0}},pt=typeof window<"u"?window:{};pt.addEventListener&&pt.removeEventListener&&(pt.addEventListener("p",St,va),pt.removeEventListener("p",St,!1));var ga=ir;function ba(l){return l!=null}function ya(l){return Array.isArray(l)}function mt(l,e,n){return l?e:n}var xa=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),t=1;t<n;t++)s[t-1]=arguments[t];var i=Object.entries(e).filter(function(a){var r=Re(a,1),o=r[0];return!s.includes(o)});return i.reduce(function(a,r){var o=Re(r,2),c=o[0],m=o[1];return a[c]=m,a},{})},Sa=["children","innerProps"],wa=["children","innerProps"];function _a(l){var e=l.maxHeight,n=l.menuEl,s=l.minHeight,t=l.placement,i=l.shouldScroll,a=l.isFixedPosition,r=l.controlHeight,o=ha(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var m=o.getBoundingClientRect(),f=m.height,b=n.getBoundingClientRect(),d=b.bottom,y=b.height,h=b.top,g=n.offsetParent.getBoundingClientRect(),v=g.top,x=a?window.innerHeight:da(o),w=rr(o),O=parseInt(getComputedStyle(n).marginBottom,10),I=parseInt(getComputedStyle(n).marginTop,10),E=v-I,P=x-h,D=E+w,M=f-w-h,N=d-x+w+O,K=w+h-I,k=160;switch(t){case"auto":case"bottom":if(P>=y)return{placement:"bottom",maxHeight:e};if(M>=y&&!a)return i&&ft(o,N,k),{placement:"bottom",maxHeight:e};if(!a&&M>=s||a&&P>=s){i&&ft(o,N,k);var L=a?P-O:M-O;return{placement:"bottom",maxHeight:L}}if(t==="auto"||a){var p=e,B=a?E:D;return B>=s&&(p=Math.min(B-O-r,e)),{placement:"top",maxHeight:p}}if(t==="bottom")return i&&wt(o,N),{placement:"bottom",maxHeight:e};break;case"top":if(E>=y)return{placement:"top",maxHeight:e};if(D>=y&&!a)return i&&ft(o,K,k),{placement:"top",maxHeight:e};if(!a&&D>=s||a&&E>=s){var ee=e;return(!a&&D>=s||a&&E>=s)&&(ee=a?E-I:D-I),i&&ft(o,K,k),{placement:"top",maxHeight:ee}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(t,'".'))}return c}function Ca(l){var e={bottom:"top",top:"bottom"};return l?e[l]:"bottom"}var ar=function(e){return e==="auto"?"bottom":e},ka=function(e,n){var s,t=e.placement,i=e.theme,a=i.borderRadius,r=i.spacing,o=i.colors;return re((s={label:"menu"},Ze(s,Ca(t),"100%"),Ze(s,"position","absolute"),Ze(s,"width","100%"),Ze(s,"zIndex",1),s),n?{}:{backgroundColor:o.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},sr=T.createContext(null),Oa=function(e){var n=e.children,s=e.minMenuHeight,t=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,r=e.menuShouldScrollIntoView,o=e.theme,c=T.useContext(sr)||{},m=c.setPortalPlacement,f=T.useRef(null),b=T.useState(t),d=Re(b,2),y=d[0],h=d[1],g=T.useState(null),v=Re(g,2),x=v[0],w=v[1],O=o.spacing.controlHeight;return Bt(function(){var I=f.current;if(I){var E=a==="fixed",P=r&&!E,D=_a({maxHeight:t,menuEl:I,minHeight:s,placement:i,shouldScroll:P,isFixedPosition:E,controlHeight:O});h(D.maxHeight),w(D.placement),m==null||m(D.placement)}},[t,i,a,r,s,m,O]),n({ref:f,placerProps:re(re({},e),{},{placement:x||ar(i),maxHeight:y})})},Ia=function(e){var n=e.children,s=e.innerRef,t=e.innerProps;return ie("div",ae({},me(e,"menu",{menu:!0}),{ref:s},t),n)},Ea=Ia,Pa=function(e,n){var s=e.maxHeight,t=e.theme.spacing.baseUnit;return re({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:t,paddingTop:t})},Ma=function(e){var n=e.children,s=e.innerProps,t=e.innerRef,i=e.isMulti;return ie("div",ae({},me(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:t},s),n)},or=function(e,n){var s=e.theme,t=s.spacing.baseUnit,i=s.colors;return re({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(t*2,"px ").concat(t*3,"px")})},ja=or,Da=or,za=function(e){var n=e.children,s=n===void 0?"No options":n,t=e.innerProps,i=Fe(e,Sa);return ie("div",ae({},me(re(re({},i),{},{children:s,innerProps:t}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),t),s)},Ra=function(e){var n=e.children,s=n===void 0?"Loading...":n,t=e.innerProps,i=Fe(e,wa);return ie("div",ae({},me(re(re({},i),{},{children:s,innerProps:t}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),t),s)},Fa=function(e){var n=e.rect,s=e.offset,t=e.position;return{left:n.left,position:t,top:s,width:n.width,zIndex:1}},Aa=function(e){var n=e.appendTo,s=e.children,t=e.controlElement,i=e.innerProps,a=e.menuPlacement,r=e.menuPosition,o=T.useRef(null),c=T.useRef(null),m=T.useState(ar(a)),f=Re(m,2),b=f[0],d=f[1],y=T.useMemo(function(){return{setPortalPlacement:d}},[]),h=T.useState(null),g=Re(h,2),v=g[0],x=g[1],w=T.useCallback(function(){if(t){var P=pa(t),D=r==="fixed"?0:window.pageYOffset,M=P[b]+D;(M!==(v==null?void 0:v.offset)||P.left!==(v==null?void 0:v.rect.left)||P.width!==(v==null?void 0:v.rect.width))&&x({offset:M,rect:P})}},[t,r,b,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Bt(function(){w()},[w]);var O=T.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),t&&o.current&&(c.current=oa(t,o.current,w,{elementResize:"ResizeObserver"in window}))},[t,w]);Bt(function(){O()},[O]);var I=T.useCallback(function(P){o.current=P,O()},[O]);if(!n&&r!=="fixed"||!v)return null;var E=ie("div",ae({ref:I},me(re(re({},e),{},{offset:v.offset,position:r,rect:v.rect}),"menuPortal",{"menu-portal":!0}),i),s);return ie(sr.Provider,{value:y},n?Ar.createPortal(E,n):E)},Ta=function(e){var n=e.isDisabled,s=e.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},La=function(e){var n=e.children,s=e.innerProps,t=e.isDisabled,i=e.isRtl;return ie("div",ae({},me(e,"container",{"--is-disabled":t,"--is-rtl":i}),s),n)},Va=function(e,n){var s=e.theme.spacing,t=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return re({alignItems:"center",display:t&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},Ba=function(e){var n=e.children,s=e.innerProps,t=e.isMulti,i=e.hasValue;return ie("div",ae({},me(e,"valueContainer",{"value-container":!0,"value-container--is-multi":t,"value-container--has-value":i}),s),n)},Na=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},$a=function(e){var n=e.children,s=e.innerProps;return ie("div",ae({},me(e,"indicatorsContainer",{indicators:!0}),s),n)},_n,Ua=["size"],Ha=["innerProps","isRtl","size"],Wa={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},lr=function(e){var n=e.size,s=Fe(e,Ua);return ie("svg",ae({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Wa},s))},ln=function(e){return ie(lr,ae({size:20},e),ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ur=function(e){return ie(lr,ae({size:20},e),ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cr=function(e,n){var s=e.isFocused,t=e.theme,i=t.spacing.baseUnit,a=t.colors;return re({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:s?a.neutral60:a.neutral20,padding:i*2,":hover":{color:s?a.neutral80:a.neutral40}})},Za=cr,Ga=function(e){var n=e.children,s=e.innerProps;return ie("div",ae({},me(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),n||ie(ur,null))},Ya=cr,Ka=function(e){var n=e.children,s=e.innerProps;return ie("div",ae({},me(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),n||ie(ln,null))},qa=function(e,n){var s=e.isDisabled,t=e.theme,i=t.spacing.baseUnit,a=t.colors;return re({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:s?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},Xa=function(e){var n=e.innerProps;return ie("span",ae({},n,me(e,"indicatorSeparator",{"indicator-separator":!0})))},Ja=Fr(_n||(_n=Ki([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Qa=function(e,n){var s=e.isFocused,t=e.size,i=e.theme,a=i.colors,r=i.spacing.baseUnit;return re({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:t,lineHeight:1,marginRight:t,textAlign:"center",verticalAlign:"middle"},n?{}:{color:s?a.neutral60:a.neutral20,padding:r*2})},Mt=function(e){var n=e.delay,s=e.offset;return ie("span",{css:Ln({animation:"".concat(Ja," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},es=function(e){var n=e.innerProps,s=e.isRtl,t=e.size,i=t===void 0?4:t,a=Fe(e,Ha);return ie("div",ae({},me(re(re({},a),{},{innerProps:n,isRtl:s,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ie(Mt,{delay:0,offset:s}),ie(Mt,{delay:160,offset:!0}),ie(Mt,{delay:320,offset:!s}))},ts=function(e,n){var s=e.isDisabled,t=e.isFocused,i=e.theme,a=i.colors,r=i.borderRadius,o=i.spacing;return re({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:s?a.neutral5:a.neutral0,borderColor:s?a.neutral10:t?a.primary:a.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:t?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:t?a.primary:a.neutral30}})},ns=function(e){var n=e.children,s=e.isDisabled,t=e.isFocused,i=e.innerRef,a=e.innerProps,r=e.menuIsOpen;return ie("div",ae({ref:i},me(e,"control",{control:!0,"control--is-disabled":s,"control--is-focused":t,"control--menu-is-open":r}),a,{"aria-disabled":s||void 0}),n)},rs=ns,is=["data"],as=function(e,n){var s=e.theme.spacing;return n?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},ss=function(e){var n=e.children,s=e.cx,t=e.getStyles,i=e.getClassNames,a=e.Heading,r=e.headingProps,o=e.innerProps,c=e.label,m=e.theme,f=e.selectProps;return ie("div",ae({},me(e,"group",{group:!0}),o),ie(a,ae({},r,{selectProps:f,theme:m,getStyles:t,getClassNames:i,cx:s}),c),ie("div",null,n))},os=function(e,n){var s=e.theme,t=s.colors,i=s.spacing;return re({label:"group",cursor:"default",display:"block"},n?{}:{color:t.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},ls=function(e){var n=nr(e);n.data;var s=Fe(n,is);return ie("div",ae({},me(e,"groupHeading",{"group-heading":!0}),s))},us=ss,cs=["innerRef","isDisabled","isHidden","inputClassName"],ds=function(e,n){var s=e.isDisabled,t=e.value,i=e.theme,a=i.spacing,r=i.colors;return re(re({visibility:s?"hidden":"visible",transform:t?"translateZ(0)":""},hs),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:r.neutral80})},dr={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},hs={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":re({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dr)},fs=function(e){return re({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dr)},ps=function(e){var n=e.cx,s=e.value,t=nr(e),i=t.innerRef,a=t.isDisabled,r=t.isHidden,o=t.inputClassName,c=Fe(t,cs);return ie("div",ae({},me(e,"input",{"input-container":!0}),{"data-value":s||""}),ie("input",ae({className:n({input:!0},o),ref:i,style:fs(r),disabled:a},c)))},ms=ps,vs=function(e,n){var s=e.theme,t=s.spacing,i=s.borderRadius,a=s.colors;return re({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:t.baseUnit/2})},gs=function(e,n){var s=e.theme,t=s.borderRadius,i=s.colors,a=e.cropWithEllipsis;return re({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:t/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},bs=function(e,n){var s=e.theme,t=s.spacing,i=s.borderRadius,a=s.colors,r=e.isFocused;return re({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:r?a.dangerLight:void 0,paddingLeft:t.baseUnit,paddingRight:t.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},hr=function(e){var n=e.children,s=e.innerProps;return ie("div",s,n)},ys=hr,xs=hr;function Ss(l){var e=l.children,n=l.innerProps;return ie("div",ae({role:"button"},n),e||ie(ln,{size:14}))}var ws=function(e){var n=e.children,s=e.components,t=e.data,i=e.innerProps,a=e.isDisabled,r=e.removeProps,o=e.selectProps,c=s.Container,m=s.Label,f=s.Remove;return ie(c,{data:t,innerProps:re(re({},me(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:o},ie(m,{data:t,innerProps:re({},me(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},n),ie(f,{data:t,innerProps:re(re({},me(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},r),selectProps:o}))},_s=ws,Cs=function(e,n){var s=e.isDisabled,t=e.isFocused,i=e.isSelected,a=e.theme,r=a.spacing,o=a.colors;return re({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?o.primary:t?o.primary25:"transparent",color:s?o.neutral20:i?o.neutral0:"inherit",padding:"".concat(r.baseUnit*2,"px ").concat(r.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:i?o.primary:o.primary50}})},ks=function(e){var n=e.children,s=e.isDisabled,t=e.isFocused,i=e.isSelected,a=e.innerRef,r=e.innerProps;return ie("div",ae({},me(e,"option",{option:!0,"option--is-disabled":s,"option--is-focused":t,"option--is-selected":i}),{ref:a,"aria-disabled":s},r),n)},Os=ks,Is=function(e,n){var s=e.theme,t=s.spacing,i=s.colors;return re({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:t.baseUnit/2,marginRight:t.baseUnit/2})},Es=function(e){var n=e.children,s=e.innerProps;return ie("div",ae({},me(e,"placeholder",{placeholder:!0}),s),n)},Ps=Es,Ms=function(e,n){var s=e.isDisabled,t=e.theme,i=t.spacing,a=t.colors;return re({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:s?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},js=function(e){var n=e.children,s=e.isDisabled,t=e.innerProps;return ie("div",ae({},me(e,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),t),n)},Ds=js,zs={ClearIndicator:Ka,Control:rs,DropdownIndicator:Ga,DownChevron:ur,CrossIcon:ln,Group:us,GroupHeading:ls,IndicatorsContainer:$a,IndicatorSeparator:Xa,Input:ms,LoadingIndicator:es,Menu:Ea,MenuList:Ma,MenuPortal:Aa,LoadingMessage:Ra,NoOptionsMessage:za,MultiValue:_s,MultiValueContainer:ys,MultiValueLabel:xs,MultiValueRemove:Ss,Option:Os,Placeholder:Ps,SelectContainer:La,SingleValue:Ds,ValueContainer:Ba},Rs=function(e){return re(re({},zs),e.components)},Cn=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Fs(l,e){return!!(l===e||Cn(l)&&Cn(e))}function As(l,e){if(l.length!==e.length)return!1;for(var n=0;n<l.length;n++)if(!Fs(l[n],e[n]))return!1;return!0}function Ts(l,e){e===void 0&&(e=As);var n=null;function s(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(n&&n.lastThis===this&&e(t,n.lastArgs))return n.lastResult;var a=l.apply(this,t);return n={lastResult:a,lastArgs:t,lastThis:this},a}return s.clear=function(){n=null},s}var Ls={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Vs=function(e){return ie("span",ae({css:Ls},e))},kn=Vs,Bs={guidance:function(e){var n=e.isSearchable,s=e.isMulti,t=e.isDisabled,i=e.tabSelectsValue,a=e.context;switch(a){case"menu":return"Use Up and Down to choose options".concat(t?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,s=e.label,t=s===void 0?"":s,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(t,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(t," is disabled. Select another option."):"option ".concat(t,", selected.");default:return""}},onFocus:function(e){var n=e.context,s=e.focused,t=e.options,i=e.label,a=i===void 0?"":i,r=e.selectValue,o=e.isDisabled,c=e.isSelected,m=function(y,h){return y&&y.length?"".concat(y.indexOf(h)+1," of ").concat(y.length):""};if(n==="value"&&r)return"value ".concat(a," focused, ").concat(m(r,s),".");if(n==="menu"){var f=o?" disabled":"",b="".concat(c?"selected":"focused").concat(f);return"option ".concat(a," ").concat(b,", ").concat(m(t,s),".")}return""},onFilter:function(e){var n=e.inputValue,s=e.resultsMessage;return"".concat(s).concat(n?" for search term "+n:"",".")}},Ns=function(e){var n=e.ariaSelection,s=e.focusedOption,t=e.focusedValue,i=e.focusableOptions,a=e.isFocused,r=e.selectValue,o=e.selectProps,c=e.id,m=o.ariaLiveMessages,f=o.getOptionLabel,b=o.inputValue,d=o.isMulti,y=o.isOptionDisabled,h=o.isSearchable,g=o.menuIsOpen,v=o.options,x=o.screenReaderStatus,w=o.tabSelectsValue,O=o["aria-label"],I=o["aria-live"],E=T.useMemo(function(){return re(re({},Bs),m||{})},[m]),P=T.useMemo(function(){var p="";if(n&&E.onChange){var B=n.option,ee=n.options,U=n.removedValue,te=n.removedValues,A=n.value,J=function(he){return Array.isArray(he)?null:he},F=U||B||J(A),z=F?f(F):"",X=ee||te||void 0,q=X?X.map(f):[],Z=re({isDisabled:F&&y(F,r),label:z,labels:q},n);p=E.onChange(Z)}return p},[n,E,y,r,f]),D=T.useMemo(function(){var p="",B=s||t,ee=!!(s&&r&&r.includes(s));if(B&&E.onFocus){var U={focused:B,label:f(B),isDisabled:y(B,r),isSelected:ee,options:i,context:B===s?"menu":"value",selectValue:r};p=E.onFocus(U)}return p},[s,t,f,y,E,i,r]),M=T.useMemo(function(){var p="";if(g&&v.length&&E.onFilter){var B=x({count:i.length});p=E.onFilter({inputValue:b,resultsMessage:B})}return p},[i,b,g,E,v,x]),N=T.useMemo(function(){var p="";if(E.guidance){var B=t?"value":g?"menu":"input";p=E.guidance({"aria-label":O,context:B,isDisabled:s&&y(s,r),isMulti:d,isSearchable:h,tabSelectsValue:w})}return p},[O,s,t,d,y,h,g,E,r,w]),K="".concat(D," ").concat(M," ").concat(N),k=ie(T.Fragment,null,ie("span",{id:"aria-selection"},P),ie("span",{id:"aria-context"},K)),L=(n==null?void 0:n.action)==="initial-input-focus";return ie(T.Fragment,null,ie(kn,{id:c},L&&k),ie(kn,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text"},a&&!L&&k))},$s=Ns,Nt=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Us=new RegExp("["+Nt.map(function(l){return l.letters}).join("")+"]","g"),fr={};for(var jt=0;jt<Nt.length;jt++)for(var Dt=Nt[jt],zt=0;zt<Dt.letters.length;zt++)fr[Dt.letters[zt]]=Dt.base;var pr=function(e){return e.replace(Us,function(n){return fr[n]})},Hs=Ts(pr),On=function(e){return e.replace(/^\s+|\s+$/g,"")},Ws=function(e){return"".concat(e.label," ").concat(e.value)},Zs=function(e){return function(n,s){if(n.data.__isNew__)return!0;var t=re({ignoreCase:!0,ignoreAccents:!0,stringify:Ws,trim:!0,matchFrom:"any"},e),i=t.ignoreCase,a=t.ignoreAccents,r=t.stringify,o=t.trim,c=t.matchFrom,m=o?On(s):s,f=o?On(r(n)):r(n);return i&&(m=m.toLowerCase(),f=f.toLowerCase()),a&&(m=Hs(m),f=pr(f)),c==="start"?f.substr(0,m.length)===m:f.indexOf(m)>-1}},Gs=["innerRef"];function Ys(l){var e=l.innerRef,n=Fe(l,Gs),s=xa(n,"onExited","in","enter","exit","appear");return ie("input",ae({ref:e},s,{css:Ln({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ks=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function qs(l){var e=l.isEnabled,n=l.onBottomArrive,s=l.onBottomLeave,t=l.onTopArrive,i=l.onTopLeave,a=T.useRef(!1),r=T.useRef(!1),o=T.useRef(0),c=T.useRef(null),m=T.useCallback(function(g,v){if(c.current!==null){var x=c.current,w=x.scrollTop,O=x.scrollHeight,I=x.clientHeight,E=c.current,P=v>0,D=O-I-w,M=!1;D>v&&a.current&&(s&&s(g),a.current=!1),P&&r.current&&(i&&i(g),r.current=!1),P&&v>D?(n&&!a.current&&n(g),E.scrollTop=O,M=!0,a.current=!0):!P&&-v>w&&(t&&!r.current&&t(g),E.scrollTop=0,M=!0,r.current=!0),M&&Ks(g)}},[n,s,t,i]),f=T.useCallback(function(g){m(g,g.deltaY)},[m]),b=T.useCallback(function(g){o.current=g.changedTouches[0].clientY},[]),d=T.useCallback(function(g){var v=o.current-g.changedTouches[0].clientY;m(g,v)},[m]),y=T.useCallback(function(g){if(g){var v=ga?{passive:!1}:!1;g.addEventListener("wheel",f,v),g.addEventListener("touchstart",b,v),g.addEventListener("touchmove",d,v)}},[d,b,f]),h=T.useCallback(function(g){g&&(g.removeEventListener("wheel",f,!1),g.removeEventListener("touchstart",b,!1),g.removeEventListener("touchmove",d,!1))},[d,b,f]);return T.useEffect(function(){if(e){var g=c.current;return y(g),function(){h(g)}}},[e,y,h]),function(g){c.current=g}}var In=["boxSizing","height","overflow","paddingRight","position"],En={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Pn(l){l.preventDefault()}function Mn(l){l.stopPropagation()}function jn(){var l=this.scrollTop,e=this.scrollHeight,n=l+this.offsetHeight;l===0?this.scrollTop=1:n===e&&(this.scrollTop=l-1)}function Dn(){return"ontouchstart"in window||navigator.maxTouchPoints}var zn=!!(typeof window<"u"&&window.document&&window.document.createElement),We=0,Be={capture:!1,passive:!1};function Xs(l){var e=l.isEnabled,n=l.accountForScrollbars,s=n===void 0?!0:n,t=T.useRef({}),i=T.useRef(null),a=T.useCallback(function(o){if(zn){var c=document.body,m=c&&c.style;if(s&&In.forEach(function(y){var h=m&&m[y];t.current[y]=h}),s&&We<1){var f=parseInt(t.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,d=window.innerWidth-b+f||0;Object.keys(En).forEach(function(y){var h=En[y];m&&(m[y]=h)}),m&&(m.paddingRight="".concat(d,"px"))}c&&Dn()&&(c.addEventListener("touchmove",Pn,Be),o&&(o.addEventListener("touchstart",jn,Be),o.addEventListener("touchmove",Mn,Be))),We+=1}},[s]),r=T.useCallback(function(o){if(zn){var c=document.body,m=c&&c.style;We=Math.max(We-1,0),s&&We<1&&In.forEach(function(f){var b=t.current[f];m&&(m[f]=b)}),c&&Dn()&&(c.removeEventListener("touchmove",Pn,Be),o&&(o.removeEventListener("touchstart",jn,Be),o.removeEventListener("touchmove",Mn,Be)))}},[s]);return T.useEffect(function(){if(e){var o=i.current;return a(o),function(){r(o)}}},[e,a,r]),function(o){i.current=o}}var Js=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Qs={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function eo(l){var e=l.children,n=l.lockEnabled,s=l.captureEnabled,t=s===void 0?!0:s,i=l.onBottomArrive,a=l.onBottomLeave,r=l.onTopArrive,o=l.onTopLeave,c=qs({isEnabled:t,onBottomArrive:i,onBottomLeave:a,onTopArrive:r,onTopLeave:o}),m=Xs({isEnabled:n}),f=function(d){c(d),m(d)};return ie(T.Fragment,null,n&&ie("div",{onClick:Js,css:Qs}),e(f))}var to={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},no=function(e){var n=e.name,s=e.onFocus;return ie("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:to,value:"",onChange:function(){}})},ro=no,io=function(e){return e.label},ao=function(e){return e.label},so=function(e){return e.value},oo=function(e){return!!e.isDisabled},lo={clearIndicator:Ya,container:Ta,control:ts,dropdownIndicator:Za,group:as,groupHeading:os,indicatorsContainer:Na,indicatorSeparator:qa,input:ds,loadingIndicator:Qa,loadingMessage:Da,menu:ka,menuList:Pa,menuPortal:Fa,multiValue:vs,multiValueLabel:gs,multiValueRemove:bs,noOptionsMessage:ja,option:Cs,placeholder:Is,singleValue:Ms,valueContainer:Va},uo={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},co=4,mr=4,ho=38,fo=mr*2,po={baseUnit:mr,controlHeight:ho,menuGutter:fo},Rt={borderRadius:co,colors:uo,spacing:po},mo={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:wn(),captureMenuScroll:!wn(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Zs(),formatGroupLabel:io,getOptionLabel:ao,getOptionValue:so,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:oo,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!ma(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Rn(l,e,n,s){var t=yr(l,e,n),i=xr(l,e,n),a=br(l,e),r=_t(l,e);return{type:"option",data:e,isDisabled:t,isSelected:i,label:a,value:r,index:s}}function vr(l,e){return l.options.map(function(n,s){if("options"in n){var t=n.options.map(function(a,r){return Rn(l,a,e,r)}).filter(function(a){return Fn(l,a)});return t.length>0?{type:"group",data:n,options:t,index:s}:void 0}var i=Rn(l,n,e,s);return Fn(l,i)?i:void 0}).filter(ba)}function gr(l){return l.reduce(function(e,n){return n.type==="group"?e.push.apply(e,qn(n.options.map(function(s){return s.data}))):e.push(n.data),e},[])}function vo(l,e){return gr(vr(l,e))}function Fn(l,e){var n=l.inputValue,s=n===void 0?"":n,t=e.data,i=e.isSelected,a=e.label,r=e.value;return(!wr(l)||!i)&&Sr(l,{label:a,value:r,data:t},s)}function go(l,e){var n=l.focusedValue,s=l.selectValue,t=s.indexOf(n);if(t>-1){var i=e.indexOf(n);if(i>-1)return n;if(t<e.length)return e[t]}return null}function bo(l,e){var n=l.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var br=function(e,n){return e.getOptionLabel(n)},_t=function(e,n){return e.getOptionValue(n)};function yr(l,e,n){return typeof l.isOptionDisabled=="function"?l.isOptionDisabled(e,n):!1}function xr(l,e,n){if(n.indexOf(e)>-1)return!0;if(typeof l.isOptionSelected=="function")return l.isOptionSelected(e,n);var s=_t(l,e);return n.some(function(t){return _t(l,t)===s})}function Sr(l,e,n){return l.filterOption?l.filterOption(e,n):!0}var wr=function(e){var n=e.hideSelectedOptions,s=e.isMulti;return n===void 0?s:n},yo=1,_r=function(l){Ni(n,l);var e=Wi(n);function n(s){var t;if(Vi(this,n),t=e.call(this,s),t.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(r){t.controlRef=r},t.focusedOptionRef=null,t.getFocusedOptionRef=function(r){t.focusedOptionRef=r},t.menuListRef=null,t.getMenuListRef=function(r){t.menuListRef=r},t.inputRef=null,t.getInputRef=function(r){t.inputRef=r},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(r,o){var c=t.props,m=c.onChange,f=c.name;o.name=f,t.ariaOnChange(r,o),m(r,o)},t.setValue=function(r,o,c){var m=t.props,f=m.closeMenuOnSelect,b=m.isMulti,d=m.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:d}),f&&(t.setState({inputIsHiddenAfterUpdate:!b}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(r,{action:o,option:c})},t.selectOption=function(r){var o=t.props,c=o.blurInputOnSelect,m=o.isMulti,f=o.name,b=t.state.selectValue,d=m&&t.isOptionSelected(r,b),y=t.isOptionDisabled(r,b);if(d){var h=t.getOptionValue(r);t.setValue(b.filter(function(g){return t.getOptionValue(g)!==h}),"deselect-option",r)}else if(!y)m?t.setValue([].concat(qn(b),[r]),"select-option",r):t.setValue(r,"select-option");else{t.ariaOnChange(r,{action:"select-option",option:r,name:f});return}c&&t.blurInput()},t.removeValue=function(r){var o=t.props.isMulti,c=t.state.selectValue,m=t.getOptionValue(r),f=c.filter(function(d){return t.getOptionValue(d)!==m}),b=mt(o,f,f[0]||null);t.onChange(b,{action:"remove-value",removedValue:r}),t.focusInput()},t.clearValue=function(){var r=t.state.selectValue;t.onChange(mt(t.props.isMulti,[],null),{action:"clear",removedValues:r})},t.popValue=function(){var r=t.props.isMulti,o=t.state.selectValue,c=o[o.length-1],m=o.slice(0,o.length-1),f=mt(r,m,m[0]||null);t.onChange(f,{action:"pop-value",removedValue:c})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return ca.apply(void 0,[t.props.classNamePrefix].concat(o))},t.getOptionLabel=function(r){return br(t.props,r)},t.getOptionValue=function(r){return _t(t.props,r)},t.getStyles=function(r,o){var c=t.props.unstyled,m=lo[r](o,c);m.boxSizing="border-box";var f=t.props.styles[r];return f?f(m,o):m},t.getClassNames=function(r,o){var c,m;return(c=(m=t.props.classNames)[r])===null||c===void 0?void 0:c.call(m,o)},t.getElementId=function(r){return"".concat(t.instancePrefix,"-").concat(r)},t.getComponents=function(){return Rs(t.props)},t.buildCategorizedOptions=function(){return vr(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return gr(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(r,o){t.setState({ariaSelection:re({value:r},o)})},t.onMenuMouseDown=function(r){r.button===0&&(r.stopPropagation(),r.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(r){t.blockOptionHover=!1},t.onControlMouseDown=function(r){if(!r.defaultPrevented){var o=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?r.target.tagName!=="INPUT"&&r.target.tagName!=="TEXTAREA"&&t.onMenuClose():o&&t.openMenu("first"):(o&&(t.openAfterFocus=!0),t.focusInput()),r.target.tagName!=="INPUT"&&r.target.tagName!=="TEXTAREA"&&r.preventDefault()}},t.onDropdownIndicatorMouseDown=function(r){if(!(r&&r.type==="mousedown"&&r.button!==0)&&!t.props.isDisabled){var o=t.props,c=o.isMulti,m=o.menuIsOpen;t.focusInput(),m?(t.setState({inputIsHiddenAfterUpdate:!c}),t.onMenuClose()):t.openMenu("first"),r.preventDefault()}},t.onClearIndicatorMouseDown=function(r){r&&r.type==="mousedown"&&r.button!==0||(t.clearValue(),r.preventDefault(),t.openAfterFocus=!1,r.type==="touchend"?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(r){typeof t.props.closeMenuOnScroll=="boolean"?r.target instanceof HTMLElement&&Ot(r.target)&&t.props.onMenuClose():typeof t.props.closeMenuOnScroll=="function"&&t.props.closeMenuOnScroll(r)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(r){var o=r.touches,c=o&&o.item(0);c&&(t.initialTouchX=c.clientX,t.initialTouchY=c.clientY,t.userIsDragging=!1)},t.onTouchMove=function(r){var o=r.touches,c=o&&o.item(0);if(c){var m=Math.abs(c.clientX-t.initialTouchX),f=Math.abs(c.clientY-t.initialTouchY),b=5;t.userIsDragging=m>b||f>b}},t.onTouchEnd=function(r){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(r.target)&&t.menuListRef&&!t.menuListRef.contains(r.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(r){t.userIsDragging||t.onControlMouseDown(r)},t.onClearIndicatorTouchEnd=function(r){t.userIsDragging||t.onClearIndicatorMouseDown(r)},t.onDropdownIndicatorTouchEnd=function(r){t.userIsDragging||t.onDropdownIndicatorMouseDown(r)},t.handleInputChange=function(r){var o=t.props.inputValue,c=r.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(c,{action:"input-change",prevInputValue:o}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(r){t.props.onFocus&&t.props.onFocus(r),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(r){var o=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement)){t.inputRef.focus();return}t.props.onBlur&&t.props.onBlur(r),t.onInputChange("",{action:"input-blur",prevInputValue:o}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(r){t.blockOptionHover||t.state.focusedOption===r||t.setState({focusedOption:r})},t.shouldHideSelectedOptions=function(){return wr(t.props)},t.onValueInputFocus=function(r){r.preventDefault(),r.stopPropagation(),t.focus()},t.onKeyDown=function(r){var o=t.props,c=o.isMulti,m=o.backspaceRemovesValue,f=o.escapeClearsValue,b=o.inputValue,d=o.isClearable,y=o.isDisabled,h=o.menuIsOpen,g=o.onKeyDown,v=o.tabSelectsValue,x=o.openMenuOnFocus,w=t.state,O=w.focusedOption,I=w.focusedValue,E=w.selectValue;if(!y&&!(typeof g=="function"&&(g(r),r.defaultPrevented))){switch(t.blockOptionHover=!0,r.key){case"ArrowLeft":if(!c||b)return;t.focusValue("previous");break;case"ArrowRight":if(!c||b)return;t.focusValue("next");break;case"Delete":case"Backspace":if(b)return;if(I)t.removeValue(I);else{if(!m)return;c?t.popValue():d&&t.clearValue()}break;case"Tab":if(t.isComposing||r.shiftKey||!h||!v||!O||x&&t.isOptionSelected(O,E))return;t.selectOption(O);break;case"Enter":if(r.keyCode===229)break;if(h){if(!O||t.isComposing)return;t.selectOption(O);break}return;case"Escape":h?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:b}),t.onMenuClose()):d&&f&&t.clearValue();break;case" ":if(b)return;if(!h){t.openMenu("first");break}if(!O)return;t.selectOption(O);break;case"ArrowUp":h?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":h?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!h)return;t.focusOption("pageup");break;case"PageDown":if(!h)return;t.focusOption("pagedown");break;case"Home":if(!h)return;t.focusOption("first");break;case"End":if(!h)return;t.focusOption("last");break;default:return}r.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++yo),t.state.selectValue=xn(s.value),s.menuIsOpen&&t.state.selectValue.length){var i=t.buildFocusableOptions(),a=i.indexOf(t.state.selectValue[0]);t.state.focusedOption=i[a]}return t}return Bi(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Sn(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(t){var i=this.props,a=i.isDisabled,r=i.menuIsOpen,o=this.state.isFocused;(o&&!a&&t.isDisabled||o&&r&&!t.menuIsOpen)&&this.focusInput(),o&&a&&!t.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!o&&!a&&t.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Sn(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,i){this.props.onInputChange(t,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(t){var i=this,a=this.state,r=a.selectValue,o=a.isFocused,c=this.buildFocusableOptions(),m=t==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(r[0]);f>-1&&(m=f)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[m]},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(t){var i=this.state,a=i.selectValue,r=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=a.indexOf(r);r||(o=-1);var c=a.length-1,m=-1;if(a.length){switch(t){case"previous":o===0?m=0:o===-1?m=c:m=o-1;break;case"next":o>-1&&o<c&&(m=o+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:a[m]})}}}},{key:"focusOption",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var o=0,c=r.indexOf(a);a||(c=-1),t==="up"?o=c>0?c-1:r.length-1:t==="down"?o=(c+1)%r.length:t==="pageup"?(o=c-i,o<0&&(o=0)):t==="pagedown"?(o=c+i,o>r.length-1&&(o=r.length-1)):t==="last"&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Rt):re(re({},Rt),this.props.theme):Rt}},{key:"getCommonProps",value:function(){var t=this.clearValue,i=this.cx,a=this.getStyles,r=this.getClassNames,o=this.getValue,c=this.selectOption,m=this.setValue,f=this.props,b=f.isMulti,d=f.isRtl,y=f.options,h=this.hasValue();return{clearValue:t,cx:i,getStyles:a,getClassNames:r,getValue:o,hasValue:h,isMulti:b,isRtl:d,options:y,selectOption:c,selectProps:f,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var t=this.state.selectValue;return t.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var t=this.props,i=t.isClearable,a=t.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(t,i){return yr(this.props,t,i)}},{key:"isOptionSelected",value:function(t,i){return xr(this.props,t,i)}},{key:"filterOption",value:function(t,i){return Sr(this.props,t,i)}},{key:"formatOptionLabel",value:function(t,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(t,{context:i,inputValue:a,selectValue:r})}else return this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,i=t.isDisabled,a=t.isSearchable,r=t.inputId,o=t.inputValue,c=t.tabIndex,m=t.form,f=t.menuIsOpen,b=t.required,d=this.getComponents(),y=d.Input,h=this.state,g=h.inputIsHidden,v=h.ariaSelection,x=this.commonProps,w=r||this.getElementId("input"),O=re(re(re({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?T.createElement(y,ae({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:i,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:m,type:"text",value:o},O)):T.createElement(Ys,ae({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:St,onFocus:this.onInputFocus,disabled:i,tabIndex:c,inputMode:"none",form:m,value:""},O))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,i=this.getComponents(),a=i.MultiValue,r=i.MultiValueContainer,o=i.MultiValueLabel,c=i.MultiValueRemove,m=i.SingleValue,f=i.Placeholder,b=this.commonProps,d=this.props,y=d.controlShouldRenderValue,h=d.isDisabled,g=d.isMulti,v=d.inputValue,x=d.placeholder,w=this.state,O=w.selectValue,I=w.focusedValue,E=w.isFocused;if(!this.hasValue()||!y)return v?null:T.createElement(f,ae({},b,{key:"placeholder",isDisabled:h,isFocused:E,innerProps:{id:this.getElementId("placeholder")}}),x);if(g)return O.map(function(D,M){var N=D===I,K="".concat(t.getOptionLabel(D),"-").concat(t.getOptionValue(D));return T.createElement(a,ae({},b,{components:{Container:r,Label:o,Remove:c},isFocused:N,isDisabled:h,key:K,index:M,removeProps:{onClick:function(){return t.removeValue(D)},onTouchEnd:function(){return t.removeValue(D)},onMouseDown:function(L){L.preventDefault()}},data:D}),t.formatOptionLabel(D,"value"))});if(v)return null;var P=O[0];return T.createElement(m,ae({},b,{data:P,isDisabled:h}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents(),i=t.ClearIndicator,a=this.commonProps,r=this.props,o=r.isDisabled,c=r.isLoading,m=this.state.isFocused;if(!this.isClearable()||!i||o||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,ae({},a,{innerProps:f,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents(),i=t.LoadingIndicator,a=this.commonProps,r=this.props,o=r.isDisabled,c=r.isLoading,m=this.state.isFocused;if(!i||!c)return null;var f={"aria-hidden":"true"};return T.createElement(i,ae({},a,{innerProps:f,isDisabled:o,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),i=t.DropdownIndicator,a=t.IndicatorSeparator;if(!i||!a)return null;var r=this.commonProps,o=this.props.isDisabled,c=this.state.isFocused;return T.createElement(a,ae({},r,{isDisabled:o,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents(),i=t.DropdownIndicator;if(!i)return null;var a=this.commonProps,r=this.props.isDisabled,o=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,ae({},a,{innerProps:c,isDisabled:r,isFocused:o}))}},{key:"renderMenu",value:function(){var t=this,i=this.getComponents(),a=i.Group,r=i.GroupHeading,o=i.Menu,c=i.MenuList,m=i.MenuPortal,f=i.LoadingMessage,b=i.NoOptionsMessage,d=i.Option,y=this.commonProps,h=this.state.focusedOption,g=this.props,v=g.captureMenuScroll,x=g.inputValue,w=g.isLoading,O=g.loadingMessage,I=g.minMenuHeight,E=g.maxMenuHeight,P=g.menuIsOpen,D=g.menuPlacement,M=g.menuPosition,N=g.menuPortalTarget,K=g.menuShouldBlockScroll,k=g.menuShouldScrollIntoView,L=g.noOptionsMessage,p=g.onMenuScrollToTop,B=g.onMenuScrollToBottom;if(!P)return null;var ee=function(X,q){var Z=X.type,ce=X.data,he=X.isDisabled,oe=X.isSelected,le=X.label,ge=X.value,pe=h===ce,_e=he?void 0:function(){return t.onOptionHover(ce)},Ce=he?void 0:function(){return t.selectOption(ce)},u="".concat(t.getElementId("option"),"-").concat(q),$={id:u,onClick:Ce,onMouseMove:_e,onMouseOver:_e,tabIndex:-1};return T.createElement(d,ae({},y,{innerProps:$,data:ce,isDisabled:he,isSelected:oe,key:u,label:le,type:Z,value:ge,isFocused:pe,innerRef:pe?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(X.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(z){if(z.type==="group"){var X=z.data,q=z.options,Z=z.index,ce="".concat(t.getElementId("group"),"-").concat(Z),he="".concat(ce,"-heading");return T.createElement(a,ae({},y,{key:ce,data:X,options:q,Heading:r,headingProps:{id:he,data:z.data},label:t.formatGroupLabel(z.data)}),z.options.map(function(oe){return ee(oe,"".concat(Z,"-").concat(oe.index))}))}else if(z.type==="option")return ee(z,"".concat(z.index))});else if(w){var te=O({inputValue:x});if(te===null)return null;U=T.createElement(f,y,te)}else{var A=L({inputValue:x});if(A===null)return null;U=T.createElement(b,y,A)}var J={minMenuHeight:I,maxMenuHeight:E,menuPlacement:D,menuPosition:M,menuShouldScrollIntoView:k},F=T.createElement(Oa,ae({},y,J),function(z){var X=z.ref,q=z.placerProps,Z=q.placement,ce=q.maxHeight;return T.createElement(o,ae({},y,J,{innerRef:X,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove,id:t.getElementId("listbox")},isLoading:w,placement:Z}),T.createElement(eo,{captureEnabled:v,onTopArrive:p,onBottomArrive:B,lockEnabled:K},function(he){return T.createElement(c,ae({},y,{innerRef:function(le){t.getMenuListRef(le),he(le)},isLoading:w,maxHeight:ce,focusedOption:h}),U)}))});return N||M==="fixed"?T.createElement(m,ae({},y,{appendTo:N,controlElement:this.controlRef,menuPlacement:D,menuPosition:M}),F):F}},{key:"renderFormField",value:function(){var t=this,i=this.props,a=i.delimiter,r=i.isDisabled,o=i.isMulti,c=i.name,m=i.required,f=this.state.selectValue;if(m&&!this.hasValue()&&!r)return T.createElement(ro,{name:c,onFocus:this.onValueInputFocus});if(!(!c||r))if(o)if(a){var b=f.map(function(h){return t.getOptionValue(h)}).join(a);return T.createElement("input",{name:c,type:"hidden",value:b})}else{var d=f.length>0?f.map(function(h,g){return T.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:t.getOptionValue(h)})}):T.createElement("input",{name:c,type:"hidden",value:""});return T.createElement("div",null,d)}else{var y=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:c,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,i=this.state,a=i.ariaSelection,r=i.focusedOption,o=i.focusedValue,c=i.isFocused,m=i.selectValue,f=this.getFocusableOptions();return T.createElement($s,ae({},t,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:r,focusedValue:o,isFocused:c,selectValue:m,focusableOptions:f}))}},{key:"render",value:function(){var t=this.getComponents(),i=t.Control,a=t.IndicatorsContainer,r=t.SelectContainer,o=t.ValueContainer,c=this.props,m=c.className,f=c.id,b=c.isDisabled,d=c.menuIsOpen,y=this.state.isFocused,h=this.commonProps=this.getCommonProps();return T.createElement(r,ae({},h,{className:m,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:y}),this.renderLiveRegion(),T.createElement(i,ae({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:y,menuIsOpen:d}),T.createElement(o,ae({},h,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(a,ae({},h,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(t,i){var a=i.prevProps,r=i.clearFocusValueOnUpdate,o=i.inputIsHiddenAfterUpdate,c=i.ariaSelection,m=i.isFocused,f=i.prevWasFocused,b=t.options,d=t.value,y=t.menuIsOpen,h=t.inputValue,g=t.isMulti,v=xn(d),x={};if(a&&(d!==a.value||b!==a.options||y!==a.menuIsOpen||h!==a.inputValue)){var w=y?vo(t,v):[],O=r?go(i,v):null,I=bo(i,w);x={selectValue:v,focusedOption:I,focusedValue:O,clearFocusValueOnUpdate:!1}}var E=o!=null&&t!==a?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},P=c,D=m&&f;return m&&!D&&(P={value:mt(g,v,v[0]||null),options:v,action:"initial-input-focus"},D=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(P=null),re(re(re({},x),E),{},{prevProps:t,ariaSelection:P,prevWasFocused:D})}}]),n}(T.Component);_r.defaultProps=mo;var xo=T.forwardRef(function(l,e){var n=Li(l);return T.createElement(_r,ae({ref:e},n))}),So=xo,wo=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"];function $t(){return $t=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},$t.apply(this,arguments)}function _o(l,e){if(l==null)return{};var n={},s=Object.keys(l),t,i;for(i=0;i<s.length;i++)t=s[i],!(e.indexOf(t)>=0)&&(n[t]=l[t]);return n}var Cr=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=_o(e,wo);return $t({},n)},Co=function(e){var n=typeof e=="string";return n&&["sm","md","lg"].includes(e)},ko=function(e){return Co(e)?e:e==="xs"?"sm":e==="xl"?"lg":"md"},Me=function(e){var n=Vn(),s=ko(n.components.Input.defaultProps.size),t=e??s,i=ii(typeof t=="string"?[t]:t,{fallback:"md"})||s;return i};function Ne(){return Ne=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Ne.apply(this,arguments)}var Oo=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.isDisabled,r=e.isRtl,o=e.hasValue,c=e.selectProps.chakraStyles,m=Ne({position:"relative",direction:r?"rtl":void 0},a?{cursor:"not-allowed"}:{}),f=c!=null&&c.container?c.container(m,e):m;return se.createElement(de,Ne({},i,{className:t({"--is-disabled":a,"--is-rtl":r,"--has-value":o},s),sx:f}),n)},Io=function(e){var n=e.children,s=e.className,t=e.cx,i=e.isMulti,a=e.hasValue,r=e.innerProps,o=e.selectProps,c=o.chakraStyles,m=o.size,f=o.variant,b=o.focusBorderColor,d=o.errorBorderColor,y=o.controlShouldRenderValue,h=Me(m),g=Te("Input",{size:h,variant:f,focusBorderColor:b,errorBorderColor:d}),v={display:i&&a&&y?"flex":"grid",alignItems:"center",flex:1,paddingY:"2px",paddingX:g.field.px,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},x=c!=null&&c.valueContainer?c.valueContainer(v,e):v;return se.createElement(de,Ne({},r,{className:t({"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a},s),sx:x}),n)},Eo=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.selectProps.chakraStyles,r={display:"flex",alignItems:"center",alignSelf:"stretch",flexShrink:0},o=a!=null&&a.indicatorsContainer?a.indicatorsContainer(r,e):r;return se.createElement(de,Ne({},i,{className:t({indicators:!0},s),sx:o}),n)},Po=["height","h"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Oe.apply(this,arguments)}function Mo(l,e){if(l==null)return{};var n={},s=Object.keys(l),t,i;for(i=0;i<s.length;i++)t=s[i],!(e.indexOf(t)>=0)&&(n[t]=l[t]);return n}var jo=function(e){var n=e.className,s=e.cx,t=e.children,i=e.innerRef,a=e.innerProps,r=e.isDisabled,o=e.isFocused,c=e.menuIsOpen,m=e.selectProps,f=m.chakraStyles,b=m.size,d=m.variant,y=m.focusBorderColor,h=m.errorBorderColor,g=m.isInvalid,v=m.isReadOnly,x=Me(b),w=Te("Input",{size:x,variant:d,focusBorderColor:y,errorBorderColor:h}),O=w.field,I=O.height,E=O.h,P=Mo(O,Po),D=I||E,M=Oe({},P,{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",padding:0,overflow:"hidden",height:"auto",minH:D},r?{pointerEvents:"none"}:{}),N=f!=null&&f.control?f.control(M,e):M;return se.createElement(de,Oe({ref:i,className:s({control:!0,"control--is-disabled":r,"control--is-focused":o,"control--menu-is-open":c},n),sx:N},a,{"data-focus":o?!0:void 0,"data-focus-visible":o?!0:void 0,"data-invalid":g?!0:void 0,"data-disabled":r?!0:void 0,"data-readonly":v?!0:void 0}),t)},Do=function(e){var n=e.className,s=e.cx,t=e.selectProps,i=t.chakraStyles,a=t.useBasicStyles,r=t.variant,o=Oe({opacity:1},a||r!=="outline"?{display:"none"}:{}),c=i!=null&&i.indicatorSeparator?i.indicatorSeparator(o,e):o;return se.createElement(ai,{className:s({"indicator-separator":!0},n),sx:c,orientation:"vertical"})},zo=function(e){return se.createElement(Gt,Oe({role:"presentation",focusable:"false","aria-hidden":"true"},e),se.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},Ro=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.selectProps,r=a.chakraStyles,o=a.useBasicStyles,c=a.size,m=a.focusBorderColor,f=a.errorBorderColor,b=a.variant,d=Me(c),y=Te("Input",{size:d,variant:b,focusBorderColor:m,errorBorderColor:f}),h={sm:"16px",md:"20px",lg:"24px"},g=h[d],v=Oe({},y.addon,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",borderRadius:0,borderWidth:0,fontSize:g},o&&{background:"transparent",padding:0,width:6,marginRight:2,marginLeft:1,cursor:"inherit"}),x=r!=null&&r.dropdownIndicator?r.dropdownIndicator(v,e):v,w={height:"1em",width:"1em"},O=r!=null&&r.downChevron?r.downChevron(w,e):w;return se.createElement(de,Oe({},i,{className:t({indicator:!0,"dropdown-indicator":!0},s),sx:x}),n||se.createElement(zo,{sx:O}))},Fo=function(e){return se.createElement(Gt,Oe({focusable:"false","aria-hidden":!0},e),se.createElement("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}))},Ao=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.selectProps,r=a.chakraStyles,o=a.size,c=Me(o),m=Tr("CloseButton",{size:c}),f=Oe({},m,{marginX:1,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,cursor:"pointer"}),b=r!=null&&r.clearIndicator?r.clearIndicator(f,e):f,d={width:"1em",height:"1em"},y=r!=null&&r.crossIcon?r.crossIcon(d,e):d;return se.createElement(de,Oe({role:"button",className:t({indicator:!0,"clear-indicator":!0},s),sx:b,"aria-label":"Clear selected options"},i),n||se.createElement(Fo,{sx:y}))},To=function(e){var n=e.className,s=e.cx,t=e.innerProps,i=e.selectProps,a=i.chakraStyles,r=i.size,o=e.color,c=e.emptyColor,m=e.speed,f=e.thickness,b=e.spinnerSize,d=Me(r),y={sm:"xs",md:"sm",lg:"md"},h=y[d],g={marginRight:3},v=a!=null&&a.loadingIndicator?a.loadingIndicator(g,e):g;return se.createElement(Lr,Oe({className:s({indicator:!0,"loading-indicator":!0},n),sx:v},t,{size:b||h,color:o,emptyColor:c,speed:m,thickness:f}))};const Lo=jo;var Vo=["innerRef","isDisabled","isHidden","inputClassName"];function Ke(){return Ke=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Ke.apply(this,arguments)}function Bo(l,e){if(l==null)return{};var n={},s=Object.keys(l),t,i;for(i=0;i<s.length;i++)t=s[i],!(e.indexOf(t)>=0)&&(n[t]=l[t]);return n}var No=function(e){var n=e.className,s=e.cx,t=e.value,i=e.selectProps,a=i.chakraStyles,r=i.isReadOnly,o=Cr(e),c=o.innerRef,m=o.isDisabled,f=o.isHidden,b=o.inputClassName,d=Bo(o,Vo),y={gridArea:"1 / 2",minW:"2px",border:0,margin:0,outline:0,padding:0},h={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content",color:"inherit",marginX:"0.125rem",paddingY:"0.125rem",visibility:m?"hidden":"visible",transform:t?"translateZ(0)":"",_after:Ke({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre",padding:0},y)},g=a!=null&&a.inputContainer?a.inputContainer(h,e):h,v=Ke({background:0,opacity:f?0:1,width:"100%"},y),x=a!=null&&a.input?a.input(v,e):v;return se.createElement(de,{className:s({"input-container":!0},n),"data-value":t||"",sx:g},se.createElement(Yt.input,Ke({className:s({input:!0},b),ref:c,sx:x,disabled:m,readOnly:r?!0:void 0},d)))};const $o=No;var Uo=["data"];function Ho(l,e){if(l==null)return{};var n={},s=Object.keys(l),t,i;for(i=0;i<s.length;i++)t=s[i],!(e.indexOf(t)>=0)&&(n[t]=l[t]);return n}function we(){return we=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},we.apply(this,arguments)}var Wo=function(e){var n={bottom:"top",top:"bottom"};return e?n[e]:"top"},Zo=function(e){var n,s=e.className,t=e.cx,i=e.children,a=e.innerProps,r=e.innerRef,o=e.placement,c=e.selectProps.chakraStyles,m=(n={position:"absolute"},n[Wo(o)]="100%",n.marginY="8px",n.width="100%",n.zIndex=1,n),f=c!=null&&c.menu?c.menu(m,e):m;return se.createElement(st,null,se.createElement(de,we({},a,{ref:r,className:t({menu:!0},s),sx:f}),i))};const Go=Zo;var Yo=function(e){var n,s=e.className,t=e.cx,i=e.innerRef,a=e.children,r=e.maxHeight,o=e.isMulti,c=e.innerProps,m=e.selectProps,f=m.chakraStyles,b=m.size,d=m.variant,y=m.focusBorderColor,h=m.errorBorderColor,g=Te("Menu"),v=Me(b),x=Te("Input",{size:v,variant:d,focusBorderColor:y,errorBorderColor:h}),w=x.field,O=we({},g.list,{minW:"100%",maxHeight:r+"px",overflowY:"auto","--input-border-radius":w==null?void 0:w["--input-border-radius"],borderRadius:(w==null?void 0:w.borderRadius)||((n=g.list)==null?void 0:n.borderRadius),position:"relative",WebkitOverflowScrolling:"touch"}),I=f!=null&&f.menuList?f.menuList(O,e):O;return se.createElement(de,we({role:"listbox"},c,{className:t({"menu-list":!0,"menu-list--is-multi":o},s),sx:I,ref:i}),a)},Ko=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.selectProps,r=a.chakraStyles,o=a.size,c=Me(o),m={sm:"6px",md:"8px",lg:"10px"},f={color:"chakra-subtle-text",textAlign:"center",paddingY:m[c],fontSize:c},b=r!=null&&r.loadingMessage?r.loadingMessage(f,e):f;return se.createElement(de,we({},i,{className:t({"menu-notice":!0,"menu-notice--loading":!0},s),sx:b}),n)},qo=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.selectProps,r=a.chakraStyles,o=a.size,c=Me(o),m={sm:"6px",md:"8px",lg:"10px"},f={color:"chakra-subtle-text",textAlign:"center",paddingY:m[c],fontSize:c},b=r!=null&&r.noOptionsMessage?r.noOptionsMessage(f,e):f;return se.createElement(de,we({},i,{className:t({"menu-notice":!0,"menu-notice--no-options":!0},s),sx:b}),n)},Xo=function(e){var n=e.children,s=e.className,t=e.cx,i=e.theme,a=e.getStyles,r=e.Heading,o=e.headingProps,c=e.label,m=e.selectProps,f=e.innerProps,b=e.getClassNames,d=m.chakraStyles,y={},h=d!=null&&d.group?d.group(y,e):y;return se.createElement(de,we({},f,{className:t({group:!0},s),sx:h}),se.createElement(r,we({},o,{selectProps:m,cx:t,theme:i,getStyles:a,getClassNames:b}),c),se.createElement(de,null,n))},Jo=function(e){var n=e.cx,s=e.className,t=e.selectProps,i=t.chakraStyles,a=t.size,r=t.hasStickyGroupHeaders,o=Cr(e);o.data;var c=Ho(o,Uo),m=Te("Menu"),f=Me(a),b={sm:"xs",md:"sm",lg:"md"},d={sm:"0.4rem 0.8rem",md:"0.5rem 1rem",lg:"0.6rem 1.2rem"},y=we({},m.groupTitle,{fontSize:b[f],padding:d[f],margin:0,borderBottomWidth:r?"1px":0,position:r?"sticky":"static",top:-2,bg:m.list.bg,zIndex:1}),h=i!=null&&i.groupHeading?i.groupHeading(y,e):y;return se.createElement(de,we({},c,{className:n({"group-heading":!0},s),sx:h}))},Qo=function(e){return se.createElement("svg",we({viewBox:"0 0 14 14",width:"1em",height:"1em"},e),se.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},el=function(e){var n=e.className,s=e.cx,t=e.innerRef,i=e.innerProps,a=e.children,r=e.isFocused,o=e.isDisabled,c=e.isSelected,m=e.selectProps,f=m.chakraStyles,b=m.size,d=m.isMulti,y=m.hideSelectedOptions,h=m.selectedOptionStyle,g=m.selectedOptionColorScheme,v=Te("Menu").item,x=Me(b),w={sm:"0.6rem",md:"0.8rem",lg:"1rem"},O={sm:"0.3rem",md:"0.4rem",lg:"0.5rem"},I=dn(g+".500",g+".300"),E=dn("white","black"),P=h==="check"&&(!d||y===!1),D=h==="color",M=we({},v,{cursor:"pointer",display:"flex",alignItems:"center",width:"100%",textAlign:"start",fontSize:x,paddingX:w[x],paddingY:O[x]},D&&{_selected:{bg:I,color:E,_active:{bg:I}}}),N=f!=null&&f.option?f.option(M,e):M;return se.createElement(de,we({role:"option"},i,{className:s({option:!0,"option--is-disabled":o,"option--is-focused":r,"option--is-selected":c},n),sx:N,ref:t,"data-focus":r?!0:void 0,"aria-disabled":o?!0:void 0,"aria-selected":c}),P&&se.createElement(di,{fontSize:"0.8em",marginEnd:"0.75rem",opacity:c?1:0},se.createElement(Qo,null)),a)};function Ee(){return Ee=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Ee.apply(this,arguments)}var tl=function(e){return typeof e=="object"&&e!==null&&"colorScheme"in e&&typeof e.colorScheme=="string"},nl=function(e){return typeof e=="object"&&e!==null&&"variant"in e&&typeof e.variant=="string"},kr=function(e){return typeof e=="object"&&e!==null&&"isFixed"in e&&typeof e.isFixed=="boolean"},rl=function(e){var n=e.children,s=e.className,t=e.components,i=e.cx,a=e.data,r=e.innerProps,o=e.isDisabled,c=e.isFocused,m=e.removeProps,f=e.selectProps,b=e.cropWithEllipsis,d=t.Container,y=t.Label,h=t.Remove,g=f.chakraStyles,v=f.colorScheme,x=f.tagVariant,w=f.size,O=Me(w),I="",E="",P=!1;tl(a)&&(I=a.colorScheme),nl(a)&&(E=a.variant),kr(a)&&(P=a.isFixed);var D=Te("Tag",{size:O,colorScheme:I||v,variant:E||x||(P?"solid":"subtle")}),M=Ee({},D.container,{display:"flex",alignItems:"center",minWidth:0,margin:"0.125rem"}),N=g!=null&&g.multiValue?g.multiValue(M,e):M,K=Ee({},D.label,{overflow:"hidden",textOverflow:b||b===void 0?"ellipsis":void 0,whiteSpace:"nowrap"}),k=g!=null&&g.multiValueLabel?g.multiValueLabel(K,e):K,L=Ee({},D.closeButton,{display:"flex",alignItems:"center",justifyContent:"center"}),p=g!=null&&g.multiValueRemove?g.multiValueRemove(L,e):L;return se.createElement(d,{data:a,innerProps:Ee({className:i({"multi-value":!0,"multi-value--is-disabled":o},s)},r),sx:N,selectProps:f},se.createElement(y,{data:a,innerProps:{className:i({"multi-value__label":!0},s)},sx:k,selectProps:f},n),se.createElement(h,{data:a,innerProps:Ee({className:i({"multi-value__remove":!0},s),"aria-label":"Remove "+(n||"option")},m),sx:p,selectProps:f,isFocused:c}))},il=function(e){var n=e.children,s=e.innerProps,t=e.sx;return se.createElement(Yt.span,Ee({},s,{sx:t}),n)},al=function(e){var n=e.children,s=e.innerProps,t=e.sx;return se.createElement(Yt.span,Ee({},s,{sx:t}),n)},sl=function(e){return se.createElement(Gt,Ee({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),se.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))},ol=function(e){var n=e.children,s=e.innerProps,t=e.isFocused,i=e.data,a=e.sx;return kr(i)&&i.isFixed?null:se.createElement(de,Ee({},s,{role:"button",sx:a,"data-focus":t?!0:void 0,"data-focus-visible":t?!0:void 0}),n||se.createElement(sl,null))};const ll=rl;function Ut(){return Ut=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Ut.apply(this,arguments)}var ul=function(e){var n=e.children,s=e.className,t=e.cx,i=e.innerProps,a=e.selectProps.chakraStyles,r={gridArea:"1 / 1 / 2 / 3",color:"chakra-placeholder-color",mx:"0.125rem",userSelect:"none"},o=a!=null&&a.placeholder?a.placeholder(r,e):r;return se.createElement(de,Ut({},i,{className:t({placeholder:!0},s),sx:o}),n)};const cl=ul;function Ht(){return Ht=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Ht.apply(this,arguments)}var dl=function(e){var n=e.children,s=e.className,t=e.cx,i=e.isDisabled,a=e.innerProps,r=e.selectProps.chakraStyles,o={gridArea:"1 / 1 / 2 / 3",mx:"0.125rem",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},c=r!=null&&r.singleValue?r.singleValue(o,e):o;return se.createElement(de,Ht({className:t({"single-value":!0,"single-value--is-disabled":i},s),sx:c},a),n)};const hl=dl;var fl={ClearIndicator:Ao,Control:Lo,DropdownIndicator:Ro,Group:Xo,GroupHeading:Jo,IndicatorSeparator:Do,IndicatorsContainer:Eo,Input:$o,LoadingIndicator:To,LoadingMessage:Ko,Menu:Go,MenuList:Yo,MultiValue:ll,MultiValueContainer:il,MultiValueLabel:al,MultiValueRemove:ol,NoOptionsMessage:qo,Option:el,Placeholder:cl,SelectContainer:Oo,SingleValue:hl,ValueContainer:Io};const pl=fl;var ml=["components","theme","size","colorScheme","isDisabled","isInvalid","isReadOnly","required","isRequired","inputId","tagVariant","selectedOptionStyle","selectedOptionColorScheme","selectedOptionColor","variant","focusBorderColor","errorBorderColor","chakraStyles","onFocus","onBlur","menuIsOpen"];function Ct(){return Ct=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Ct.apply(this,arguments)}function vl(l,e){if(l==null)return{};var n={},s=Object.keys(l),t,i;for(i=0;i<s.length;i++)t=s[i],!(e.indexOf(t)>=0)&&(n[t]=l[t]);return n}var gl=function(e){var n,s=e.components,t=s===void 0?{}:s;e.theme;var i=e.size,a=e.colorScheme,r=a===void 0?"gray":a,o=e.isDisabled,c=e.isInvalid,m=e.isReadOnly,f=e.required,b=e.isRequired,d=e.inputId,y=e.tagVariant,h=e.selectedOptionStyle,g=h===void 0?"color":h,v=e.selectedOptionColorScheme,x=e.selectedOptionColor,w=e.variant,O=e.focusBorderColor,I=e.errorBorderColor,E=e.chakraStyles,P=E===void 0?{}:E,D=e.onFocus,M=e.onBlur,N=e.menuIsOpen,K=vl(e,ml),k=Vn(),L=k.components.Input.defaultProps.variant,p=hi({id:d,isDisabled:o,isInvalid:c,isRequired:b,isReadOnly:m,onFocus:D,onBlur:M}),B=N??(p.readOnly?!1:void 0),ee=g,U=["color","check"];U.includes(g)||(ee="color");var te=v||x||"blue";typeof te!="string"&&(te="blue");var A=Ct({components:Ct({},pl,t),colorScheme:r,size:i,tagVariant:y,selectedOptionStyle:ee,selectedOptionColorScheme:te,variant:w??L,chakraStyles:P,focusBorderColor:O,errorBorderColor:I,onFocus:p.onFocus,onBlur:p.onBlur,isDisabled:p.disabled,isInvalid:!!p["aria-invalid"],inputId:p.id,isReadOnly:p.readOnly,required:f??p.required,menuIsOpen:B},K,{"aria-invalid":(n=K["aria-invalid"])!=null?n:p["aria-invalid"]});return A};const bl=gl;function Wt(){return Wt=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(l[s]=n[s])}return l},Wt.apply(this,arguments)}var yl=T.forwardRef(function(l,e){var n=bl(l);return se.createElement(So,Wt({ref:e},n))});const xl=yl;function Sl({workflow:l}){var f;const{onRefreshFilesList:e}=T.useContext(Ve),[n,s]=T.useState([]),[t,i]=T.useState(""),a=((f=l.tags)==null?void 0:f.map(b=>({value:b,label:b})))??[],[r,o]=T.useState(a);if(T.useEffect(()=>{De&&s(De.listAll()??[])},[]),T.useEffect(()=>{var b;o(((b=l.tags)==null?void 0:b.map(d=>({value:d,label:d})))??[])},[l.tags]),De==null)return alert("Error: TagsTable is not loaded"),null;const c=n.map(b=>({value:b.name,label:b.name})),m=37*5;return _.jsxs(Jt,{isLazy:!0,children:[_.jsx(Qt,{children:_.jsx(xe,{"aria-label":"Delete confirm",size:"sm",variant:"ghost",icon:_.jsx(Yn,{color:"#718096"})})}),_.jsxs(en,{children:[_.jsx(tn,{}),_.jsx(nn,{}),_.jsx(si,{children:_.jsx("b",{children:l.name})}),_.jsxs(rn,{children:[_.jsx(xl,{isMulti:!0,name:"tags",options:c,menuIsOpen:!0,value:r,onChange:b=>{o(b),qt(l.id,{tags:b.map(d=>d.value)}),e&&e()},chakraStyles:{dropdownIndicator:(b,d)=>({...b,p:0,w:"30px"}),menuList:(b,d)=>({...b,shadow:"none",pt:0})},placeholder:"Select tags",closeMenuOnSelect:!1,maxMenuHeight:m}),_.jsxs(ye,{gap:4,mt:Math.min(m,Math.max(n.length,3)*37),children:[_.jsx(at,{placeholder:"New tag name",size:"sm",mt:6,mb:6,variant:"flushed",value:t,onChange:b=>{i(b.target.value)}}),_.jsx(be,{iconSpacing:1,leftIcon:_.jsx($n,{size:16}),colorScheme:"teal",variant:"solid",size:"xs",px:5,isDisabled:t.length===0,onClick:()=>{var b,d;(b=De)==null||b.upsert(t),s(((d=De)==null?void 0:d.listAll())??[]),i("")},children:"New Tag"})]})]})]})]})}function wl({menuPosition:l,workflowID:e,onClose:n}){const{onDuplicateWorkflow:s}=T.useContext(Un);return _.jsx(_.Fragment,{children:_.jsx(de,{position:"absolute",top:l.y,left:l.x,children:_.jsx(st,{isOpen:!0,onClose:n,children:_.jsx(kt,{children:_.jsx(Le,{onClick:()=>s&&s(e),children:"Duplicate"})})})})})}function Or(l){const{promptMessage:e="Are you sure you want to delete this?",variant:n="ghost",onDelete:s,isDisabled:t=!1,tooltipText:i}=l;return _.jsx(Jt,{isLazy:!0,placement:"auto",children:({onClose:a})=>_.jsxs(_.Fragment,{children:[_.jsx(Qt,{children:_.jsx(de,{children:_.jsx(Ae,{hasArrow:!0,label:i,placement:"bottom",children:_.jsx(xe,{"aria-label":"Delete confirm",size:"sm",icon:_.jsx(Bn,{color:"#F56565"}),isDisabled:t,variant:n})})})}),_.jsxs(en,{children:[_.jsx(tn,{}),_.jsx(nn,{onClick:a}),_.jsxs(rn,{children:[_.jsx(Se,{mb:4,pr:4,fontWeight:600,children:e}),_.jsx(be,{colorScheme:"red",size:"sm",onClick:()=>{s(),a()},children:"Yes, delete"})]})]})]})})}function Ir({workflow:l}){const{colorMode:e}=Zt(),[n,s]=T.useState(!1),[t,i]=T.useState({x:0,y:0}),[a,r]=T.useState(!1),{setDraggingFile:o,isMultiSelecting:c,onMultiSelectFlow:m,onDeleteFlow:f,multiSelectedFlowsID:b,onRefreshFilesList:d,draggingFile:y}=T.useContext(Ve),h=b&&b.length>0&&b.includes(l.id),{curFlowID:g,loadWorkflowID:v}=T.useContext(Un),x=g===l.id,w=P=>{P.preventDefault(),i({x:P.clientX,y:P.clientY}),r(!0)},O=()=>{r(!1)},I=e==="light"?"gray.200":"#4A5568",E=_.jsxs(de,{flexShrink:1,flexGrow:1,onDragOver:P=>{P.preventDefault(),s(!0)},onDragLeave:()=>{s(!1)},onDrop:()=>{y&&!nt(y)&&(qt(y.id,{parentFolderID:l.parentFolderID}),d&&d()),s(!1)},backgroundColor:x?"teal.200":a?I:void 0,color:x&&!c?"#333":void 0,draggable:!c,onDragStart:P=>{o&&o(l)},borderRadius:6,px:1,py:1,onClick:()=>{!c&&v(l.id)},_hover:{bg:I},children:[_.jsxs(ye,{children:[l.coverMediaPath!=null&&(Hr(l.coverMediaPath)?_.jsx(fi,{borderRadius:3,boxSize:"60px",objectFit:"cover",src:`/workspace/view_media?filename=${l.coverMediaPath}`,alt:l.name??"workflow cover image"}):_.jsx("video",{width:60,height:60,src:`/workspace/view_media?filename=${l.coverMediaPath}`,muted:!0,children:_.jsx("track",{kind:"captions"})})),_.jsxs(it,{textAlign:"left",gap:0,children:[_.jsx(Se,{fontWeight:"500",children:l.name??"untitled"}),_.jsxs(Se,{color:"GrayText",ml:2,fontSize:"sm",children:["Updated: ",Kt(l.updateTime)]})]})]}),n&&_.jsx(de,{width:"100%",mt:2,height:"2px",backgroundColor:"#4299E1"})]});return _.jsxs(ye,{w:"100%",mb:1,justify:"space-between",onContextMenu:w,children:[c?_.jsx(Gn,{isChecked:h,spacing:4,onChange:P=>{m&&m(l.id,P.target.checked)},children:E}):_.jsxs(_.Fragment,{children:[E,_.jsxs(Ye,{width:"60px",children:[_.jsx(Sl,{workflow:l}),_.jsx(Or,{promptMessage:"Are you sure you want to delete this workflow?",onDelete:()=>{f&&f(l.id)}})]})]}),a&&_.jsx(wl,{menuPosition:t,onClose:O,workflowID:l.id})]})}function _l(){const l=T.useRef(null),{onRefreshFilesList:e}=T.useContext(Ve),n=async s=>{var a;const t=s.target.files;if(!t)return;const i=[];for(const r of t)if(r.type==="image/png"){const o=await Wr(r),c=o==null?void 0:o.workflow;c&&i.push({json:c,name:r.name.replace(".png","")})}else(r.type==="application/json"||(a=r.name)!=null&&a.endsWith(".json"))&&await new Promise((o,c)=>{const m=new FileReader;m.onload=f=>{var b;try{const d=(b=f.target)==null?void 0:b.result;typeof d=="string"?(i.push({json:d,name:r.name.replace(".json","")}),o("")):c(new Error("File content is not a string"))}catch(d){c(d)}},m.onerror=c,m.readAsText(r)});i.length&&(await Zr(i),e&&e())};return _.jsxs(be,{leftIcon:_.jsx(Si,{size:18}),variant:"outline",iconSpacing:1,size:"sm",colorScheme:"teal",onClick:()=>{var s;(s=l.current)==null||s.click()},children:["Import",_.jsx("input",{style:{display:"none"},ref:l,type:"file",accept:".json,image/png",multiple:!0,onChange:n})]})}function vt(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Er={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(l,e){(function(n){l.exports=n()})(function(){return function n(s,t,i){function a(c,m){if(!t[c]){if(!s[c]){var f=typeof vt=="function"&&vt;if(!m&&f)return f(c,!0);if(r)return r(c,!0);var b=new Error("Cannot find module '"+c+"'");throw b.code="MODULE_NOT_FOUND",b}var d=t[c]={exports:{}};s[c][0].call(d.exports,function(y){var h=s[c][1][y];return a(h||y)},d,d.exports,n,s,t,i)}return t[c].exports}for(var r=typeof vt=="function"&&vt,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(n,s,t){var i=n("./utils"),a=n("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(o){for(var c,m,f,b,d,y,h,g=[],v=0,x=o.length,w=x,O=i.getTypeOf(o)!=="string";v<o.length;)w=x-v,f=O?(c=o[v++],m=v<x?o[v++]:0,v<x?o[v++]:0):(c=o.charCodeAt(v++),m=v<x?o.charCodeAt(v++):0,v<x?o.charCodeAt(v++):0),b=c>>2,d=(3&c)<<4|m>>4,y=1<w?(15&m)<<2|f>>6:64,h=2<w?63&f:64,g.push(r.charAt(b)+r.charAt(d)+r.charAt(y)+r.charAt(h));return g.join("")},t.decode=function(o){var c,m,f,b,d,y,h=0,g=0,v="data:";if(o.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===r.charAt(64)&&w--,o.charAt(o.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|w):new Array(0|w);h<o.length;)c=r.indexOf(o.charAt(h++))<<2|(b=r.indexOf(o.charAt(h++)))>>4,m=(15&b)<<4|(d=r.indexOf(o.charAt(h++)))>>2,f=(3&d)<<6|(y=r.indexOf(o.charAt(h++))),x[g++]=c,d!==64&&(x[g++]=m),y!==64&&(x[g++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,s,t){var i=n("./external"),a=n("./stream/DataWorker"),r=n("./stream/Crc32Probe"),o=n("./stream/DataLengthProbe");function c(m,f,b,d,y){this.compressedSize=m,this.uncompressedSize=f,this.crc32=b,this.compression=d,this.compressedContent=y}c.prototype={getContentWorker:function(){var m=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),f=this;return m.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(m,f,b){return m.pipe(new r).pipe(new o("uncompressedSize")).pipe(f.compressWorker(b)).pipe(new o("compressedSize")).withStreamInfo("compression",f)},s.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,s,t){var i=n("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,s,t){var i=n("./utils"),a=function(){for(var r,o=[],c=0;c<256;c++){r=c;for(var m=0;m<8;m++)r=1&r?3988292384^r>>>1:r>>>1;o[c]=r}return o}();s.exports=function(r,o){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(c,m,f,b){var d=a,y=b+f;c^=-1;for(var h=b;h<y;h++)c=c>>>8^d[255&(c^m[h])];return-1^c}(0|o,r,r.length,0):function(c,m,f,b){var d=a,y=b+f;c^=-1;for(var h=b;h<y;h++)c=c>>>8^d[255&(c^m.charCodeAt(h))];return-1^c}(0|o,r,r.length,0):0}},{"./utils":32}],5:[function(n,s,t){t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(n,s,t){var i=null;i=typeof Promise<"u"?Promise:n("lie"),s.exports={Promise:i}},{lie:37}],7:[function(n,s,t){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),r=n("./utils"),o=n("./stream/GenericWorker"),c=i?"uint8array":"array";function m(f,b){o.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=b,this.meta={}}t.magic="\b\0",r.inherits(m,o),m.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(c,f.data),!1)},m.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(b){f.push({data:b,meta:f.meta})}},t.compressWorker=function(f){return new m("Deflate",f)},t.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,s,t){function i(d,y){var h,g="";for(h=0;h<y;h++)g+=String.fromCharCode(255&d),d>>>=8;return g}function a(d,y,h,g,v,x){var w,O,I=d.file,E=d.compression,P=x!==c.utf8encode,D=r.transformTo("string",x(I.name)),M=r.transformTo("string",c.utf8encode(I.name)),N=I.comment,K=r.transformTo("string",x(N)),k=r.transformTo("string",c.utf8encode(N)),L=M.length!==I.name.length,p=k.length!==N.length,B="",ee="",U="",te=I.dir,A=I.date,J={crc32:0,compressedSize:0,uncompressedSize:0};y&&!h||(J.crc32=d.crc32,J.compressedSize=d.compressedSize,J.uncompressedSize=d.uncompressedSize);var F=0;y&&(F|=8),P||!L&&!p||(F|=2048);var z=0,X=0;te&&(z|=16),v==="UNIX"?(X=798,z|=function(Z,ce){var he=Z;return Z||(he=ce?16893:33204),(65535&he)<<16}(I.unixPermissions,te)):(X=20,z|=function(Z){return 63&(Z||0)}(I.dosPermissions)),w=A.getUTCHours(),w<<=6,w|=A.getUTCMinutes(),w<<=5,w|=A.getUTCSeconds()/2,O=A.getUTCFullYear()-1980,O<<=4,O|=A.getUTCMonth()+1,O<<=5,O|=A.getUTCDate(),L&&(ee=i(1,1)+i(m(D),4)+M,B+="up"+i(ee.length,2)+ee),p&&(U=i(1,1)+i(m(K),4)+k,B+="uc"+i(U.length,2)+U);var q="";return q+=`
\0`,q+=i(F,2),q+=E.magic,q+=i(w,2),q+=i(O,2),q+=i(J.crc32,4),q+=i(J.compressedSize,4),q+=i(J.uncompressedSize,4),q+=i(D.length,2),q+=i(B.length,2),{fileRecord:f.LOCAL_FILE_HEADER+q+D+B,dirRecord:f.CENTRAL_FILE_HEADER+i(X,2)+q+i(K.length,2)+"\0\0\0\0"+i(z,4)+i(g,4)+D+B+K}}var r=n("../utils"),o=n("../stream/GenericWorker"),c=n("../utf8"),m=n("../crc32"),f=n("../signature");function b(d,y,h,g){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=h,this.encodeFileName=g,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(b,o),b.prototype.push=function(d){var y=d.meta.percent||0,h=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,o.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(y+100*(h-g-1))/h:100}}))},b.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var y=this.streamFiles&&!d.file.dir;if(y){var h=a(d,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(d){this.accumulate=!1;var y=this.streamFiles&&!d.file.dir,h=a(d,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),y)this.push({data:function(g){return f.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var d=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var h=this.bytesWritten-d,g=function(v,x,w,O,I){var E=r.transformTo("string",I(O));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(v,2)+i(v,2)+i(x,4)+i(w,4)+i(E.length,2)+E}(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(d){this._sources.push(d);var y=this;return d.on("data",function(h){y.processChunk(h)}),d.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),d.on("error",function(h){y.error(h)}),this},b.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(d){var y=this._sources;if(!o.prototype.error.call(this,d))return!1;for(var h=0;h<y.length;h++)try{y[h].error(d)}catch{}return!0},b.prototype.lock=function(){o.prototype.lock.call(this);for(var d=this._sources,y=0;y<d.length;y++)d[y].lock()},s.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,s,t){var i=n("../compressions"),a=n("./ZipFileWorker");t.generateWorker=function(r,o,c){var m=new a(o.streamFiles,c,o.platform,o.encodeFileName),f=0;try{r.forEach(function(b,d){f++;var y=function(x,w){var O=x||w,I=i[O];if(!I)throw new Error(O+" is not a valid compression method !");return I}(d.options.compression,o.compression),h=d.options.compressionOptions||o.compressionOptions||{},g=d.dir,v=d.date;d._compressWorker(y,h).withStreamInfo("file",{name:b,dir:g,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(m)}),m.entriesCount=f}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,s,t){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var r in this)typeof this[r]!="function"&&(a[r]=this[r]);return a}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(a,r){return new i().loadAsync(a,r)},i.external=n("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,s,t){var i=n("./utils"),a=n("./external"),r=n("./utf8"),o=n("./zipEntries"),c=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function f(b){return new a.Promise(function(d,y){var h=b.decompressed.getContentWorker().pipe(new c);h.on("error",function(g){y(g)}).on("end",function(){h.streamInfo.crc32!==b.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}s.exports=function(b,d){var y=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),m.isNode&&m.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",b,!0,d.optimizedBinaryString,d.base64).then(function(h){var g=new o(d);return g.load(h),g}).then(function(h){var g=[a.Promise.resolve(h)],v=h.files;if(d.checkCRC32)for(var x=0;x<v.length;x++)g.push(f(v[x]));return a.Promise.all(g)}).then(function(h){for(var g=h.shift(),v=g.files,x=0;x<v.length;x++){var w=v[x],O=w.fileNameStr,I=i.resolve(w.fileNameStr);y.file(I,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:d.createFolders}),w.dir||(y.file(I).unsafeOriginalName=O)}return g.zipComment.length&&(y.comment=g.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,s,t){var i=n("../utils"),a=n("../stream/GenericWorker");function r(o,c){a.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(r,a),r.prototype._bindStream=function(o){var c=this;(this._stream=o).pause(),o.on("data",function(m){c.push({data:m,meta:{percent:0}})}).on("error",function(m){c.isPaused?this.generatedError=m:c.error(m)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},r.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,s,t){var i=n("readable-stream").Readable;function a(r,o,c){i.call(this,o),this._helper=r;var m=this;r.on("data",function(f,b){m.push(f)||m._helper.pause(),c&&c(b)}).on("error",function(f){m.emit("error",f)}).on("end",function(){m.push(null)})}n("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},s.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,s,t){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,s,t){function i(I,E,P){var D,M=r.getTypeOf(E),N=r.extend(P||{},m);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(I=v(I)),N.createFolders&&(D=g(I))&&x.call(this,D,!0);var K=M==="string"&&N.binary===!1&&N.base64===!1;P&&P.binary!==void 0||(N.binary=!K),(E instanceof f&&E.uncompressedSize===0||N.dir||!E||E.length===0)&&(N.base64=!1,N.binary=!0,E="",N.compression="STORE",M="string");var k=null;k=E instanceof f||E instanceof o?E:y.isNode&&y.isStream(E)?new h(I,E):r.prepareContent(I,E,N.binary,N.optimizedBinaryString,N.base64);var L=new b(I,k,N);this.files[I]=L}var a=n("./utf8"),r=n("./utils"),o=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),m=n("./defaults"),f=n("./compressedObject"),b=n("./zipObject"),d=n("./generate"),y=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),g=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var E=I.lastIndexOf("/");return 0<E?I.substring(0,E):""},v=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},x=function(I,E){return E=E!==void 0?E:m.createFolders,I=v(I),this.files[I]||i.call(this,I,null,{dir:!0,createFolders:E}),this.files[I]};function w(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var E,P,D;for(E in this.files)D=this.files[E],(P=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&I(P,D)},filter:function(I){var E=[];return this.forEach(function(P,D){I(P,D)&&E.push(D)}),E},file:function(I,E,P){if(arguments.length!==1)return I=this.root+I,i.call(this,I,E,P),this;if(w(I)){var D=I;return this.filter(function(N,K){return!K.dir&&D.test(N)})}var M=this.files[this.root+I];return M&&!M.dir?M:null},folder:function(I){if(!I)return this;if(w(I))return this.filter(function(M,N){return N.dir&&I.test(M)});var E=this.root+I,P=x.call(this,E),D=this.clone();return D.root=P.name,D},remove:function(I){I=this.root+I;var E=this.files[I];if(E||(I.slice(-1)!=="/"&&(I+="/"),E=this.files[I]),E&&!E.dir)delete this.files[I];else for(var P=this.filter(function(M,N){return N.name.slice(0,I.length)===I}),D=0;D<P.length;D++)delete this.files[P[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var E,P={};try{if((P=r.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");r.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var D=P.comment||this.comment||"";E=d.generateWorker(this,P,D)}catch(M){(E=new o("error")).error(M)}return new c(E,P.type||"string",P.mimeType)},generateAsync:function(I,E){return this.generateInternalStream(I).accumulate(E)},generateNodeStream:function(I,E){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(E)}};s.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,s,t){s.exports=n("stream")},{stream:void 0}],17:[function(n,s,t){var i=n("./DataReader");function a(r){i.call(this,r);for(var o=0;o<this.data.length;o++)r[o]=255&r[o]}n("../utils").inherits(a,i),a.prototype.byteAt=function(r){return this.data[this.zero+r]},a.prototype.lastIndexOfSignature=function(r){for(var o=r.charCodeAt(0),c=r.charCodeAt(1),m=r.charCodeAt(2),f=r.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===o&&this.data[b+1]===c&&this.data[b+2]===m&&this.data[b+3]===f)return b-this.zero;return-1},a.prototype.readAndCheckSignature=function(r){var o=r.charCodeAt(0),c=r.charCodeAt(1),m=r.charCodeAt(2),f=r.charCodeAt(3),b=this.readData(4);return o===b[0]&&c===b[1]&&m===b[2]&&f===b[3]},a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},s.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,s,t){var i=n("../utils");function a(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var o,c=0;for(this.checkOffset(r),o=this.index+r-1;o>=this.index;o--)c=(c<<8)+this.byteAt(o);return this.index+=r,c},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},s.exports=a},{"../utils":32}],19:[function(n,s,t){var i=n("./Uint8ArrayReader");function a(r){i.call(this,r)}n("../utils").inherits(a,i),a.prototype.readData=function(r){this.checkOffset(r);var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},s.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,s,t){var i=n("./DataReader");function a(r){i.call(this,r)}n("../utils").inherits(a,i),a.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},a.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},a.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},a.prototype.readData=function(r){this.checkOffset(r);var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},s.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,s,t){var i=n("./ArrayReader");function a(r){i.call(this,r)}n("../utils").inherits(a,i),a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},s.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,s,t){var i=n("../utils"),a=n("../support"),r=n("./ArrayReader"),o=n("./StringReader"),c=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");s.exports=function(f){var b=i.getTypeOf(f);return i.checkSupport(b),b!=="string"||a.uint8array?b==="nodebuffer"?new c(f):a.uint8array?new m(i.transformTo("uint8array",f)):new r(i.transformTo("array",f)):new o(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,s,t){t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,s,t){var i=n("./GenericWorker"),a=n("../utils");function r(o){i.call(this,"ConvertWorker to "+o),this.destType=o}a.inherits(r,i),r.prototype.processChunk=function(o){this.push({data:a.transformTo(this.destType,o.data),meta:o.meta})},s.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(n,s,t){var i=n("./GenericWorker"),a=n("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(r,i),r.prototype.processChunk=function(o){this.streamInfo.crc32=a(o.data,this.streamInfo.crc32||0),this.push(o)},s.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,s,t){var i=n("../utils"),a=n("./GenericWorker");function r(o){a.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}i.inherits(r,a),r.prototype.processChunk=function(o){if(o){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+o.data.length}a.prototype.processChunk.call(this,o)},s.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(n,s,t){var i=n("../utils"),a=n("./GenericWorker");function r(o){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(m){c.dataIsReady=!0,c.data=m,c.max=m&&m.length||0,c.type=i.getTypeOf(m),c.isPaused||c._tickAndRepeat()},function(m){c.error(m)})}i.inherits(r,a),r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,c);break;case"uint8array":o=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":o=this.data.slice(this.index,c)}return this.index=c,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(n,s,t){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,r){return this._listeners[a].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,r){if(this._listeners[a])for(var o=0;o<this._listeners[a].length;o++)this._listeners[a][o].call(this,r)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var r=this;return a.on("data",function(o){r.processChunk(o)}),a.on("end",function(){r.end()}),a.on("error",function(o){r.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,r){return this.extraStreamInfo[a]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=i},{}],29:[function(n,s,t){var i=n("../utils"),a=n("./ConvertWorker"),r=n("./GenericWorker"),o=n("../base64"),c=n("../support"),m=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(y,h){return new m.Promise(function(g,v){var x=[],w=y._internalType,O=y._outputType,I=y._mimeType;y.on("data",function(E,P){x.push(E),h&&h(P)}).on("error",function(E){x=[],v(E)}).on("end",function(){try{var E=function(P,D,M){switch(P){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),M);case"base64":return o.encode(D);default:return i.transformTo(P,D)}}(O,function(P,D){var M,N=0,K=null,k=0;for(M=0;M<D.length;M++)k+=D[M].length;switch(P){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(K=new Uint8Array(k),M=0;M<D.length;M++)K.set(D[M],N),N+=D[M].length;return K;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+P+"'")}}(w,x),I);g(E)}catch(P){v(P)}x=[]}).resume()})}function d(y,h,g){var v=h;switch(h){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=h,this._mimeType=g,i.checkSupport(v),this._worker=y.pipe(new a(v)),y.lock()}catch(x){this._worker=new r("error"),this._worker.error(x)}}d.prototype={accumulate:function(y){return b(this,y)},on:function(y,h){var g=this;return y==="data"?this._worker.on(y,function(v){h.call(g,v.data,v.meta)}):this._worker.on(y,function(){i.delay(h,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},s.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,s,t){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",t.nodebuffer=typeof Buffer<"u",t.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),t.blob=a.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!n("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(n,s,t){for(var i=n("./utils"),a=n("./support"),r=n("./nodejsUtils"),o=n("./stream/GenericWorker"),c=new Array(256),m=0;m<256;m++)c[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;c[254]=c[254]=1;function f(){o.call(this,"utf-8 decode"),this.leftOver=null}function b(){o.call(this,"utf-8 encode")}t.utf8encode=function(d){return a.nodebuffer?r.newBufferFrom(d,"utf-8"):function(y){var h,g,v,x,w,O=y.length,I=0;for(x=0;x<O;x++)(64512&(g=y.charCodeAt(x)))==55296&&x+1<O&&(64512&(v=y.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),x++),I+=g<128?1:g<2048?2:g<65536?3:4;for(h=a.uint8array?new Uint8Array(I):new Array(I),x=w=0;w<I;x++)(64512&(g=y.charCodeAt(x)))==55296&&x+1<O&&(64512&(v=y.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),x++),g<128?h[w++]=g:(g<2048?h[w++]=192|g>>>6:(g<65536?h[w++]=224|g>>>12:(h[w++]=240|g>>>18,h[w++]=128|g>>>12&63),h[w++]=128|g>>>6&63),h[w++]=128|63&g);return h}(d)},t.utf8decode=function(d){return a.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(y){var h,g,v,x,w=y.length,O=new Array(2*w);for(h=g=0;h<w;)if((v=y[h++])<128)O[g++]=v;else if(4<(x=c[v]))O[g++]=65533,h+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&h<w;)v=v<<6|63&y[h++],x--;1<x?O[g++]=65533:v<65536?O[g++]=v:(v-=65536,O[g++]=55296|v>>10&1023,O[g++]=56320|1023&v)}return O.length!==g&&(O.subarray?O=O.subarray(0,g):O.length=g),i.applyFromCharCode(O)}(d=i.transformTo(a.uint8array?"uint8array":"array",d))},i.inherits(f,o),f.prototype.processChunk=function(d){var y=i.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var h=y;(y=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),y.set(h,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var g=function(x,w){var O;for((w=w||x.length)>x.length&&(w=x.length),O=w-1;0<=O&&(192&x[O])==128;)O--;return O<0||O===0?w:O+c[x[O]]>w?O:w}(y),v=y;g!==y.length&&(a.uint8array?(v=y.subarray(0,g),this.leftOver=y.subarray(g,y.length)):(v=y.slice(0,g),this.leftOver=y.slice(g,y.length))),this.push({data:t.utf8decode(v),meta:d.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=f,i.inherits(b,o),b.prototype.processChunk=function(d){this.push({data:t.utf8encode(d.data),meta:d.meta})},t.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,s,t){var i=n("./support"),a=n("./base64"),r=n("./nodejsUtils"),o=n("./external");function c(h){return h}function m(h,g){for(var v=0;v<h.length;++v)g[v]=255&h.charCodeAt(v);return g}n("setimmediate"),t.newBlob=function(h,g){t.checkSupport("blob");try{return new Blob([h],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(h),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(h,g,v){var x=[],w=0,O=h.length;if(O<=v)return String.fromCharCode.apply(null,h);for(;w<O;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,h.slice(w,Math.min(w+v,O)))):x.push(String.fromCharCode.apply(null,h.subarray(w,Math.min(w+v,O)))),w+=v;return x.join("")},stringifyByChar:function(h){for(var g="",v=0;v<h.length;v++)g+=String.fromCharCode(h[v]);return g},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function b(h){var g=65536,v=t.getTypeOf(h),x=!0;if(v==="uint8array"?x=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<g;)try{return f.stringifyByChunk(h,v,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(h)}function d(h,g){for(var v=0;v<h.length;v++)g[v]=h[v];return g}t.applyFromCharCode=b;var y={};y.string={string:c,array:function(h){return m(h,new Array(h.length))},arraybuffer:function(h){return y.string.uint8array(h).buffer},uint8array:function(h){return m(h,new Uint8Array(h.length))},nodebuffer:function(h){return m(h,r.allocBuffer(h.length))}},y.array={string:b,array:c,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return r.newBufferFrom(h)}},y.arraybuffer={string:function(h){return b(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:c,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return r.newBufferFrom(new Uint8Array(h))}},y.uint8array={string:b,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:c,nodebuffer:function(h){return r.newBufferFrom(h)}},y.nodebuffer={string:b,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return y.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:c},t.transformTo=function(h,g){if(g=g||"",!h)return g;t.checkSupport(h);var v=t.getTypeOf(g);return y[v][h](g)},t.resolve=function(h){for(var g=h.split("/"),v=[],x=0;x<g.length;x++){var w=g[x];w==="."||w===""&&x!==0&&x!==g.length-1||(w===".."?v.pop():v.push(w))}return v.join("/")},t.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(h){var g,v,x="";for(v=0;v<(h||"").length;v++)x+="\\x"+((g=h.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return x},t.delay=function(h,g,v){setImmediate(function(){h.apply(v||null,g||[])})},t.inherits=function(h,g){function v(){}v.prototype=g.prototype,h.prototype=new v},t.extend=function(){var h,g,v={};for(h=0;h<arguments.length;h++)for(g in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],g)&&v[g]===void 0&&(v[g]=arguments[h][g]);return v},t.prepareContent=function(h,g,v,x,w){return o.Promise.resolve(g).then(function(O){return i.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new o.Promise(function(I,E){var P=new FileReader;P.onload=function(D){I(D.target.result)},P.onerror=function(D){E(D.target.error)},P.readAsArrayBuffer(O)}):O}).then(function(O){var I=t.getTypeOf(O);return I?(I==="arraybuffer"?O=t.transformTo("uint8array",O):I==="string"&&(w?O=a.decode(O):v&&x!==!0&&(O=function(E){return m(E,i.uint8array?new Uint8Array(E.length):new Array(E.length))}(O))),O):o.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,s,t){var i=n("./reader/readerFor"),a=n("./utils"),r=n("./signature"),o=n("./zipEntry"),c=n("./support");function m(f){this.files=[],this.loadOptions=f}m.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(f)+")")}},isSignature:function(f,b){var d=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===b;return this.reader.setIndex(d),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),b=c.uint8array?"uint8array":"array",d=a.transformTo(b,f);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,b,d,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),b=this.reader.readInt(4),d=this.reader.readData(b),this.zip64ExtensibleData[f]={id:f,length:b,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,b;for(f=0;f<this.files.length;f++)b=this.files[f],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(f=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var b=f;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var y=b-d;if(0<y)this.isSignature(b,r.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,s,t){var i=n("./reader/readerFor"),a=n("./utils"),r=n("./compressedObject"),o=n("./crc32"),c=n("./utf8"),m=n("./compressions"),f=n("./support");function b(d,y){this.options=d,this.loadOptions=y}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var y,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(g){for(var v in m)if(Object.prototype.hasOwnProperty.call(m,v)&&m[v].magic===g)return m[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,y,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var y=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(y),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var y,h,g,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)y=d.readInt(2),h=d.readInt(2),g=d.readData(h),this.extraFields[y]={id:y,length:h,value:g};d.setIndex(v)},handleUTF8:function(){var d=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var h=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var y=i(d.value);return y.readInt(1)!==1||o(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var y=i(d.value);return y.readInt(1)!==1||o(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(d.length-5))}return null}},s.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,s,t){function i(y,h,g){this.name=y,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=h,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var a=n("./stream/StreamHelper"),r=n("./stream/DataWorker"),o=n("./utf8"),c=n("./compressedObject"),m=n("./stream/GenericWorker");i.prototype={internalStream:function(y){var h=null,g="string";try{if(!y)throw new Error("No output type specified.");var v=(g=y.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),h=this._decompressWorker();var x=!this._dataBinary;x&&!v&&(h=h.pipe(new o.Utf8EncodeWorker)),!x&&v&&(h=h.pipe(new o.Utf8DecodeWorker))}catch(w){(h=new m("error")).error(w)}return new a(h,g,"")},async:function(y,h){return this.internalStream(y).accumulate(h)},nodeStream:function(y,h){return this.internalStream(y||"nodebuffer").toNodejsStream(h)},_compressWorker:function(y,h){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new o.Utf8EncodeWorker)),c.createWorkerFrom(g,y,h)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof m?this._data:new r(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<f.length;d++)i.prototype[f[d]]=b;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,s,t){(function(i){var a,r,o=i.MutationObserver||i.WebKitMutationObserver;if(o){var c=0,m=new o(y),f=i.document.createTextNode("");m.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){y(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(y,0)};else{var b=new i.MessageChannel;b.port1.onmessage=y,a=function(){b.port2.postMessage(0)}}var d=[];function y(){var h,g;r=!0;for(var v=d.length;v;){for(g=d,d=[],h=-1;++h<v;)g[h]();v=d.length}r=!1}s.exports=function(h){d.push(h)!==1||r||a()}}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,s,t){var i=n("immediate");function a(){}var r={},o=["REJECTED"],c=["FULFILLED"],m=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,v!==a&&h(this,v)}function b(v,x,w){this.promise=v,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function d(v,x,w){i(function(){var O;try{O=x(w)}catch(I){return r.reject(v,I)}O===v?r.reject(v,new TypeError("Cannot resolve promise with itself")):r.resolve(v,O)})}function y(v){var x=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof x=="function")return function(){x.apply(v,arguments)}}function h(v,x){var w=!1;function O(P){w||(w=!0,r.reject(v,P))}function I(P){w||(w=!0,r.resolve(v,P))}var E=g(function(){x(I,O)});E.status==="error"&&O(E.value)}function g(v,x){var w={};try{w.value=v(x),w.status="success"}catch(O){w.status="error",w.value=O}return w}(s.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(v()).then(function(){return w})},function(w){return x.resolve(v()).then(function(){throw w})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,x){if(typeof v!="function"&&this.state===c||typeof x!="function"&&this.state===o)return this;var w=new this.constructor(a);return this.state!==m?d(w,this.state===c?v:x,this.outcome):this.queue.push(new b(w,v,x)),w},b.prototype.callFulfilled=function(v){r.resolve(this.promise,v)},b.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},b.prototype.callRejected=function(v){r.reject(this.promise,v)},b.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},r.resolve=function(v,x){var w=g(y,x);if(w.status==="error")return r.reject(v,w.value);var O=w.value;if(O)h(v,O);else{v.state=c,v.outcome=x;for(var I=-1,E=v.queue.length;++I<E;)v.queue[I].callFulfilled(x)}return v},r.reject=function(v,x){v.state=o,v.outcome=x;for(var w=-1,O=v.queue.length;++w<O;)v.queue[w].callRejected(x);return v},f.resolve=function(v){return v instanceof this?v:r.resolve(new this(a),v)},f.reject=function(v){var x=new this(a);return r.reject(x,v)},f.all=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=v.length,O=!1;if(!w)return this.resolve([]);for(var I=new Array(w),E=0,P=-1,D=new this(a);++P<w;)M(v[P],P);return D;function M(N,K){x.resolve(N).then(function(k){I[K]=k,++E!==w||O||(O=!0,r.resolve(D,I))},function(k){O||(O=!0,r.reject(D,k))})}},f.race=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=v.length,O=!1;if(!w)return this.resolve([]);for(var I=-1,E=new this(a);++I<w;)P=v[I],x.resolve(P).then(function(D){O||(O=!0,r.resolve(E,D))},function(D){O||(O=!0,r.reject(E,D))});var P;return E}},{immediate:36}],38:[function(n,s,t){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,s,t){var i=n("./zlib/deflate"),a=n("./utils/common"),r=n("./utils/strings"),o=n("./zlib/messages"),c=n("./zlib/zstream"),m=Object.prototype.toString,f=0,b=-1,d=0,y=8;function h(v){if(!(this instanceof h))return new h(v);this.options=a.assign({level:b,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(o[w]);if(x.header&&i.deflateSetHeader(this.strm,x.header),x.dictionary){var O;if(O=typeof x.dictionary=="string"?r.string2buf(x.dictionary):m.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=i.deflateSetDictionary(this.strm,O))!==f)throw new Error(o[w]);this._dict_set=!0}}function g(v,x){var w=new h(x);if(w.push(v,!0),w.err)throw w.msg||o[w.err];return w.result}h.prototype.push=function(v,x){var w,O,I=this.strm,E=this.options.chunkSize;if(this.ended)return!1;O=x===~~x?x:x===!0?4:0,typeof v=="string"?I.input=r.string2buf(v):m.call(v)==="[object ArrayBuffer]"?I.input=new Uint8Array(v):I.input=v,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(E),I.next_out=0,I.avail_out=E),(w=i.deflate(I,O))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(a.shrinkBuf(I.output,I.next_out))):this.onData(a.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&w!==1);return O===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):O!==2||(this.onEnd(f),!(I.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},t.Deflate=h,t.deflate=g,t.deflateRaw=function(v,x){return(x=x||{}).raw=!0,g(v,x)},t.gzip=function(v,x){return(x=x||{}).gzip=!0,g(v,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,s,t){var i=n("./zlib/inflate"),a=n("./utils/common"),r=n("./utils/strings"),o=n("./zlib/constants"),c=n("./zlib/messages"),m=n("./zlib/zstream"),f=n("./zlib/gzheader"),b=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},h||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||h&&h.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var v=i.inflateInit2(this.strm,g.windowBits);if(v!==o.Z_OK)throw new Error(c[v]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function y(h,g){var v=new d(g);if(v.push(h,!0),v.err)throw v.msg||c[v.err];return v.result}d.prototype.push=function(h,g){var v,x,w,O,I,E,P=this.strm,D=this.options.chunkSize,M=this.options.dictionary,N=!1;if(this.ended)return!1;x=g===~~g?g:g===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof h=="string"?P.input=r.binstring2buf(h):b.call(h)==="[object ArrayBuffer]"?P.input=new Uint8Array(h):P.input=h,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new a.Buf8(D),P.next_out=0,P.avail_out=D),(v=i.inflate(P,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&M&&(E=typeof M=="string"?r.string2buf(M):b.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,v=i.inflateSetDictionary(this.strm,E)),v===o.Z_BUF_ERROR&&N===!0&&(v=o.Z_OK,N=!1),v!==o.Z_STREAM_END&&v!==o.Z_OK)return this.onEnd(v),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&v!==o.Z_STREAM_END&&(P.avail_in!==0||x!==o.Z_FINISH&&x!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(P.output,P.next_out),O=P.next_out-w,I=r.buf2string(P.output,w),P.next_out=O,P.avail_out=D-O,O&&a.arraySet(P.output,P.output,w,O,0),this.onData(I)):this.onData(a.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(N=!0)}while((0<P.avail_in||P.avail_out===0)&&v!==o.Z_STREAM_END);return v===o.Z_STREAM_END&&(x=o.Z_FINISH),x===o.Z_FINISH?(v=i.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===o.Z_OK):x!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(P.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},t.Inflate=d,t.inflate=y,t.inflateRaw=function(h,g){return(g=g||{}).raw=!0,y(h,g)},t.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,s,t){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";t.assign=function(o){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var m=c.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var f in m)m.hasOwnProperty(f)&&(o[f]=m[f])}}return o},t.shrinkBuf=function(o,c){return o.length===c?o:o.subarray?o.subarray(0,c):(o.length=c,o)};var a={arraySet:function(o,c,m,f,b){if(c.subarray&&o.subarray)o.set(c.subarray(m,m+f),b);else for(var d=0;d<f;d++)o[b+d]=c[m+d]},flattenChunks:function(o){var c,m,f,b,d,y;for(c=f=0,m=o.length;c<m;c++)f+=o[c].length;for(y=new Uint8Array(f),c=b=0,m=o.length;c<m;c++)d=o[c],y.set(d,b),b+=d.length;return y}},r={arraySet:function(o,c,m,f,b){for(var d=0;d<f;d++)o[b+d]=c[m+d]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},{}],42:[function(n,s,t){var i=n("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var o=new i.Buf8(256),c=0;c<256;c++)o[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function m(f,b){if(b<65537&&(f.subarray&&r||!f.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(f,b));for(var d="",y=0;y<b;y++)d+=String.fromCharCode(f[y]);return d}o[254]=o[254]=1,t.string2buf=function(f){var b,d,y,h,g,v=f.length,x=0;for(h=0;h<v;h++)(64512&(d=f.charCodeAt(h)))==55296&&h+1<v&&(64512&(y=f.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(y-56320),h++),x+=d<128?1:d<2048?2:d<65536?3:4;for(b=new i.Buf8(x),h=g=0;g<x;h++)(64512&(d=f.charCodeAt(h)))==55296&&h+1<v&&(64512&(y=f.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(y-56320),h++),d<128?b[g++]=d:(d<2048?b[g++]=192|d>>>6:(d<65536?b[g++]=224|d>>>12:(b[g++]=240|d>>>18,b[g++]=128|d>>>12&63),b[g++]=128|d>>>6&63),b[g++]=128|63&d);return b},t.buf2binstring=function(f){return m(f,f.length)},t.binstring2buf=function(f){for(var b=new i.Buf8(f.length),d=0,y=b.length;d<y;d++)b[d]=f.charCodeAt(d);return b},t.buf2string=function(f,b){var d,y,h,g,v=b||f.length,x=new Array(2*v);for(d=y=0;d<v;)if((h=f[d++])<128)x[y++]=h;else if(4<(g=o[h]))x[y++]=65533,d+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&d<v;)h=h<<6|63&f[d++],g--;1<g?x[y++]=65533:h<65536?x[y++]=h:(h-=65536,x[y++]=55296|h>>10&1023,x[y++]=56320|1023&h)}return m(x,y)},t.utf8border=function(f,b){var d;for((b=b||f.length)>f.length&&(b=f.length),d=b-1;0<=d&&(192&f[d])==128;)d--;return d<0||d===0?b:d+o[f[d]]>b?d:b}},{"./common":41}],43:[function(n,s,t){s.exports=function(i,a,r,o){for(var c=65535&i|0,m=i>>>16&65535|0,f=0;r!==0;){for(r-=f=2e3<r?2e3:r;m=m+(c=c+a[o++]|0)|0,--f;);c%=65521,m%=65521}return c|m<<16|0}},{}],44:[function(n,s,t){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,s,t){var i=function(){for(var a,r=[],o=0;o<256;o++){a=o;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;r[o]=a}return r}();s.exports=function(a,r,o,c){var m=i,f=c+o;a^=-1;for(var b=c;b<f;b++)a=a>>>8^m[255&(a^r[b])];return-1^a}},{}],46:[function(n,s,t){var i,a=n("../utils/common"),r=n("./trees"),o=n("./adler32"),c=n("./crc32"),m=n("./messages"),f=0,b=4,d=0,y=-2,h=-1,g=4,v=2,x=8,w=9,O=286,I=30,E=19,P=2*O+1,D=15,M=3,N=258,K=N+M+1,k=42,L=113,p=1,B=2,ee=3,U=4;function te(u,$){return u.msg=m[$],$}function A(u){return(u<<1)-(4<u?9:0)}function J(u){for(var $=u.length;0<=--$;)u[$]=0}function F(u){var $=u.state,V=$.pending;V>u.avail_out&&(V=u.avail_out),V!==0&&(a.arraySet(u.output,$.pending_buf,$.pending_out,V,u.next_out),u.next_out+=V,$.pending_out+=V,u.total_out+=V,u.avail_out-=V,$.pending-=V,$.pending===0&&($.pending_out=0))}function z(u,$){r._tr_flush_block(u,0<=u.block_start?u.block_start:-1,u.strstart-u.block_start,$),u.block_start=u.strstart,F(u.strm)}function X(u,$){u.pending_buf[u.pending++]=$}function q(u,$){u.pending_buf[u.pending++]=$>>>8&255,u.pending_buf[u.pending++]=255&$}function Z(u,$){var V,C,S=u.max_chain_length,j=u.strstart,H=u.prev_length,W=u.nice_match,R=u.strstart>u.w_size-K?u.strstart-(u.w_size-K):0,G=u.window,Q=u.w_mask,Y=u.prev,ne=u.strstart+N,fe=G[j+H-1],ue=G[j+H];u.prev_length>=u.good_match&&(S>>=2),W>u.lookahead&&(W=u.lookahead);do if(G[(V=$)+H]===ue&&G[V+H-1]===fe&&G[V]===G[j]&&G[++V]===G[j+1]){j+=2,V++;do;while(G[++j]===G[++V]&&G[++j]===G[++V]&&G[++j]===G[++V]&&G[++j]===G[++V]&&G[++j]===G[++V]&&G[++j]===G[++V]&&G[++j]===G[++V]&&G[++j]===G[++V]&&j<ne);if(C=N-(ne-j),j=ne-N,H<C){if(u.match_start=$,W<=(H=C))break;fe=G[j+H-1],ue=G[j+H]}}while(($=Y[$&Q])>R&&--S!=0);return H<=u.lookahead?H:u.lookahead}function ce(u){var $,V,C,S,j,H,W,R,G,Q,Y=u.w_size;do{if(S=u.window_size-u.lookahead-u.strstart,u.strstart>=Y+(Y-K)){for(a.arraySet(u.window,u.window,Y,Y,0),u.match_start-=Y,u.strstart-=Y,u.block_start-=Y,$=V=u.hash_size;C=u.head[--$],u.head[$]=Y<=C?C-Y:0,--V;);for($=V=Y;C=u.prev[--$],u.prev[$]=Y<=C?C-Y:0,--V;);S+=Y}if(u.strm.avail_in===0)break;if(H=u.strm,W=u.window,R=u.strstart+u.lookahead,G=S,Q=void 0,Q=H.avail_in,G<Q&&(Q=G),V=Q===0?0:(H.avail_in-=Q,a.arraySet(W,H.input,H.next_in,Q,R),H.state.wrap===1?H.adler=o(H.adler,W,Q,R):H.state.wrap===2&&(H.adler=c(H.adler,W,Q,R)),H.next_in+=Q,H.total_in+=Q,Q),u.lookahead+=V,u.lookahead+u.insert>=M)for(j=u.strstart-u.insert,u.ins_h=u.window[j],u.ins_h=(u.ins_h<<u.hash_shift^u.window[j+1])&u.hash_mask;u.insert&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[j+M-1])&u.hash_mask,u.prev[j&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=j,j++,u.insert--,!(u.lookahead+u.insert<M)););}while(u.lookahead<K&&u.strm.avail_in!==0)}function he(u,$){for(var V,C;;){if(u.lookahead<K){if(ce(u),u.lookahead<K&&$===f)return p;if(u.lookahead===0)break}if(V=0,u.lookahead>=M&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+M-1])&u.hash_mask,V=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),V!==0&&u.strstart-V<=u.w_size-K&&(u.match_length=Z(u,V)),u.match_length>=M)if(C=r._tr_tally(u,u.strstart-u.match_start,u.match_length-M),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=M){for(u.match_length--;u.strstart++,u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+M-1])&u.hash_mask,V=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart,--u.match_length!=0;);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+1])&u.hash_mask;else C=r._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(C&&(z(u,!1),u.strm.avail_out===0))return p}return u.insert=u.strstart<M-1?u.strstart:M-1,$===b?(z(u,!0),u.strm.avail_out===0?ee:U):u.last_lit&&(z(u,!1),u.strm.avail_out===0)?p:B}function oe(u,$){for(var V,C,S;;){if(u.lookahead<K){if(ce(u),u.lookahead<K&&$===f)return p;if(u.lookahead===0)break}if(V=0,u.lookahead>=M&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+M-1])&u.hash_mask,V=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=M-1,V!==0&&u.prev_length<u.max_lazy_match&&u.strstart-V<=u.w_size-K&&(u.match_length=Z(u,V),u.match_length<=5&&(u.strategy===1||u.match_length===M&&4096<u.strstart-u.match_start)&&(u.match_length=M-1)),u.prev_length>=M&&u.match_length<=u.prev_length){for(S=u.strstart+u.lookahead-M,C=r._tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-M),u.lookahead-=u.prev_length-1,u.prev_length-=2;++u.strstart<=S&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+M-1])&u.hash_mask,V=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),--u.prev_length!=0;);if(u.match_available=0,u.match_length=M-1,u.strstart++,C&&(z(u,!1),u.strm.avail_out===0))return p}else if(u.match_available){if((C=r._tr_tally(u,0,u.window[u.strstart-1]))&&z(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return p}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(C=r._tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<M-1?u.strstart:M-1,$===b?(z(u,!0),u.strm.avail_out===0?ee:U):u.last_lit&&(z(u,!1),u.strm.avail_out===0)?p:B}function le(u,$,V,C,S){this.good_length=u,this.max_lazy=$,this.nice_length=V,this.max_chain=C,this.func=S}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*P),this.dyn_dtree=new a.Buf16(2*(2*I+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*O+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*O+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(u){var $;return u&&u.state?(u.total_in=u.total_out=0,u.data_type=v,($=u.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?k:L,u.adler=$.wrap===2?0:1,$.last_flush=f,r._tr_init($),d):te(u,y)}function _e(u){var $=pe(u);return $===d&&function(V){V.window_size=2*V.w_size,J(V.head),V.max_lazy_match=i[V.level].max_lazy,V.good_match=i[V.level].good_length,V.nice_match=i[V.level].nice_length,V.max_chain_length=i[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=M-1,V.match_available=0,V.ins_h=0}(u.state),$}function Ce(u,$,V,C,S,j){if(!u)return y;var H=1;if($===h&&($=6),C<0?(H=0,C=-C):15<C&&(H=2,C-=16),S<1||w<S||V!==x||C<8||15<C||$<0||9<$||j<0||g<j)return te(u,y);C===8&&(C=9);var W=new ge;return(u.state=W).strm=u,W.wrap=H,W.gzhead=null,W.w_bits=C,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=S+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+M-1)/M),W.window=new a.Buf8(2*W.w_size),W.head=new a.Buf16(W.hash_size),W.prev=new a.Buf16(W.w_size),W.lit_bufsize=1<<S+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new a.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=$,W.strategy=j,W.method=V,_e(u)}i=[new le(0,0,0,0,function(u,$){var V=65535;for(V>u.pending_buf_size-5&&(V=u.pending_buf_size-5);;){if(u.lookahead<=1){if(ce(u),u.lookahead===0&&$===f)return p;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;var C=u.block_start+V;if((u.strstart===0||u.strstart>=C)&&(u.lookahead=u.strstart-C,u.strstart=C,z(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-K&&(z(u,!1),u.strm.avail_out===0))return p}return u.insert=0,$===b?(z(u,!0),u.strm.avail_out===0?ee:U):(u.strstart>u.block_start&&(z(u,!1),u.strm.avail_out),p)}),new le(4,4,8,4,he),new le(4,5,16,8,he),new le(4,6,32,32,he),new le(4,4,16,16,oe),new le(8,16,32,32,oe),new le(8,16,128,128,oe),new le(8,32,128,256,oe),new le(32,128,258,1024,oe),new le(32,258,258,4096,oe)],t.deflateInit=function(u,$){return Ce(u,$,x,15,8,0)},t.deflateInit2=Ce,t.deflateReset=_e,t.deflateResetKeep=pe,t.deflateSetHeader=function(u,$){return u&&u.state?u.state.wrap!==2?y:(u.state.gzhead=$,d):y},t.deflate=function(u,$){var V,C,S,j;if(!u||!u.state||5<$||$<0)return u?te(u,y):y;if(C=u.state,!u.output||!u.input&&u.avail_in!==0||C.status===666&&$!==b)return te(u,u.avail_out===0?-5:y);if(C.strm=u,V=C.last_flush,C.last_flush=$,C.status===k)if(C.wrap===2)u.adler=0,X(C,31),X(C,139),X(C,8),C.gzhead?(X(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),X(C,255&C.gzhead.time),X(C,C.gzhead.time>>8&255),X(C,C.gzhead.time>>16&255),X(C,C.gzhead.time>>24&255),X(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),X(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(X(C,255&C.gzhead.extra.length),X(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(u.adler=c(u.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(X(C,0),X(C,0),X(C,0),X(C,0),X(C,0),X(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),X(C,3),C.status=L);else{var H=x+(C.w_bits-8<<4)<<8;H|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(H|=32),H+=31-H%31,C.status=L,q(C,H),C.strstart!==0&&(q(C,u.adler>>>16),q(C,65535&u.adler)),u.adler=1}if(C.status===69)if(C.gzhead.extra){for(S=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>S&&(u.adler=c(u.adler,C.pending_buf,C.pending-S,S)),F(u),S=C.pending,C.pending!==C.pending_buf_size));)X(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>S&&(u.adler=c(u.adler,C.pending_buf,C.pending-S,S)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){S=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>S&&(u.adler=c(u.adler,C.pending_buf,C.pending-S,S)),F(u),S=C.pending,C.pending===C.pending_buf_size)){j=1;break}j=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,X(C,j)}while(j!==0);C.gzhead.hcrc&&C.pending>S&&(u.adler=c(u.adler,C.pending_buf,C.pending-S,S)),j===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){S=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>S&&(u.adler=c(u.adler,C.pending_buf,C.pending-S,S)),F(u),S=C.pending,C.pending===C.pending_buf_size)){j=1;break}j=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,X(C,j)}while(j!==0);C.gzhead.hcrc&&C.pending>S&&(u.adler=c(u.adler,C.pending_buf,C.pending-S,S)),j===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&F(u),C.pending+2<=C.pending_buf_size&&(X(C,255&u.adler),X(C,u.adler>>8&255),u.adler=0,C.status=L)):C.status=L),C.pending!==0){if(F(u),u.avail_out===0)return C.last_flush=-1,d}else if(u.avail_in===0&&A($)<=A(V)&&$!==b)return te(u,-5);if(C.status===666&&u.avail_in!==0)return te(u,-5);if(u.avail_in!==0||C.lookahead!==0||$!==f&&C.status!==666){var W=C.strategy===2?function(R,G){for(var Q;;){if(R.lookahead===0&&(ce(R),R.lookahead===0)){if(G===f)return p;break}if(R.match_length=0,Q=r._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,Q&&(z(R,!1),R.strm.avail_out===0))return p}return R.insert=0,G===b?(z(R,!0),R.strm.avail_out===0?ee:U):R.last_lit&&(z(R,!1),R.strm.avail_out===0)?p:B}(C,$):C.strategy===3?function(R,G){for(var Q,Y,ne,fe,ue=R.window;;){if(R.lookahead<=N){if(ce(R),R.lookahead<=N&&G===f)return p;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=M&&0<R.strstart&&(Y=ue[ne=R.strstart-1])===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]){fe=R.strstart+N;do;while(Y===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]&&Y===ue[++ne]&&ne<fe);R.match_length=N-(fe-ne),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=M?(Q=r._tr_tally(R,1,R.match_length-M),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(Q=r._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),Q&&(z(R,!1),R.strm.avail_out===0))return p}return R.insert=0,G===b?(z(R,!0),R.strm.avail_out===0?ee:U):R.last_lit&&(z(R,!1),R.strm.avail_out===0)?p:B}(C,$):i[C.level].func(C,$);if(W!==ee&&W!==U||(C.status=666),W===p||W===ee)return u.avail_out===0&&(C.last_flush=-1),d;if(W===B&&($===1?r._tr_align(C):$!==5&&(r._tr_stored_block(C,0,0,!1),$===3&&(J(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),F(u),u.avail_out===0))return C.last_flush=-1,d}return $!==b?d:C.wrap<=0?1:(C.wrap===2?(X(C,255&u.adler),X(C,u.adler>>8&255),X(C,u.adler>>16&255),X(C,u.adler>>24&255),X(C,255&u.total_in),X(C,u.total_in>>8&255),X(C,u.total_in>>16&255),X(C,u.total_in>>24&255)):(q(C,u.adler>>>16),q(C,65535&u.adler)),F(u),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?d:1)},t.deflateEnd=function(u){var $;return u&&u.state?($=u.state.status)!==k&&$!==69&&$!==73&&$!==91&&$!==103&&$!==L&&$!==666?te(u,y):(u.state=null,$===L?te(u,-3):d):y},t.deflateSetDictionary=function(u,$){var V,C,S,j,H,W,R,G,Q=$.length;if(!u||!u.state||(j=(V=u.state).wrap)===2||j===1&&V.status!==k||V.lookahead)return y;for(j===1&&(u.adler=o(u.adler,$,Q,0)),V.wrap=0,Q>=V.w_size&&(j===0&&(J(V.head),V.strstart=0,V.block_start=0,V.insert=0),G=new a.Buf8(V.w_size),a.arraySet(G,$,Q-V.w_size,V.w_size,0),$=G,Q=V.w_size),H=u.avail_in,W=u.next_in,R=u.input,u.avail_in=Q,u.next_in=0,u.input=$,ce(V);V.lookahead>=M;){for(C=V.strstart,S=V.lookahead-(M-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[C+M-1])&V.hash_mask,V.prev[C&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=C,C++,--S;);V.strstart=C,V.lookahead=M-1,ce(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=M-1,V.match_available=0,u.next_in=W,u.input=R,u.avail_in=H,V.wrap=j,d},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,s,t){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,s,t){s.exports=function(i,a){var r,o,c,m,f,b,d,y,h,g,v,x,w,O,I,E,P,D,M,N,K,k,L,p,B;r=i.state,o=i.next_in,p=i.input,c=o+(i.avail_in-5),m=i.next_out,B=i.output,f=m-(a-i.avail_out),b=m+(i.avail_out-257),d=r.dmax,y=r.wsize,h=r.whave,g=r.wnext,v=r.window,x=r.hold,w=r.bits,O=r.lencode,I=r.distcode,E=(1<<r.lenbits)-1,P=(1<<r.distbits)-1;e:do{w<15&&(x+=p[o++]<<w,w+=8,x+=p[o++]<<w,w+=8),D=O[x&E];t:for(;;){if(x>>>=M=D>>>24,w-=M,(M=D>>>16&255)===0)B[m++]=65535&D;else{if(!(16&M)){if(!(64&M)){D=O[(65535&D)+(x&(1<<M)-1)];continue t}if(32&M){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}N=65535&D,(M&=15)&&(w<M&&(x+=p[o++]<<w,w+=8),N+=x&(1<<M)-1,x>>>=M,w-=M),w<15&&(x+=p[o++]<<w,w+=8,x+=p[o++]<<w,w+=8),D=I[x&P];n:for(;;){if(x>>>=M=D>>>24,w-=M,!(16&(M=D>>>16&255))){if(!(64&M)){D=I[(65535&D)+(x&(1<<M)-1)];continue n}i.msg="invalid distance code",r.mode=30;break e}if(K=65535&D,w<(M&=15)&&(x+=p[o++]<<w,(w+=8)<M&&(x+=p[o++]<<w,w+=8)),d<(K+=x&(1<<M)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(x>>>=M,w-=M,(M=m-f)<K){if(h<(M=K-M)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(L=v,(k=0)===g){if(k+=y-M,M<N){for(N-=M;B[m++]=v[k++],--M;);k=m-K,L=B}}else if(g<M){if(k+=y+g-M,(M-=g)<N){for(N-=M;B[m++]=v[k++],--M;);if(k=0,g<N){for(N-=M=g;B[m++]=v[k++],--M;);k=m-K,L=B}}}else if(k+=g-M,M<N){for(N-=M;B[m++]=v[k++],--M;);k=m-K,L=B}for(;2<N;)B[m++]=L[k++],B[m++]=L[k++],B[m++]=L[k++],N-=3;N&&(B[m++]=L[k++],1<N&&(B[m++]=L[k++]))}else{for(k=m-K;B[m++]=B[k++],B[m++]=B[k++],B[m++]=B[k++],2<(N-=3););N&&(B[m++]=B[k++],1<N&&(B[m++]=B[k++]))}break}}break}}while(o<c&&m<b);o-=N=w>>3,x&=(1<<(w-=N<<3))-1,i.next_in=o,i.next_out=m,i.avail_in=o<c?c-o+5:5-(o-c),i.avail_out=m<b?b-m+257:257-(m-b),r.hold=x,r.bits=w}},{}],49:[function(n,s,t){var i=n("../utils/common"),a=n("./adler32"),r=n("./crc32"),o=n("./inffast"),c=n("./inftrees"),m=1,f=2,b=0,d=-2,y=1,h=852,g=592;function v(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var L;return k&&k.state?(L=k.state,k.total_in=k.total_out=L.total=0,k.msg="",L.wrap&&(k.adler=1&L.wrap),L.mode=y,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new i.Buf32(h),L.distcode=L.distdyn=new i.Buf32(g),L.sane=1,L.back=-1,b):d}function O(k){var L;return k&&k.state?((L=k.state).wsize=0,L.whave=0,L.wnext=0,w(k)):d}function I(k,L){var p,B;return k&&k.state?(B=k.state,L<0?(p=0,L=-L):(p=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?d:(B.window!==null&&B.wbits!==L&&(B.window=null),B.wrap=p,B.wbits=L,O(k))):d}function E(k,L){var p,B;return k?(B=new x,(k.state=B).window=null,(p=I(k,L))!==b&&(k.state=null),p):d}var P,D,M=!0;function N(k){if(M){var L;for(P=new i.Buf32(512),D=new i.Buf32(32),L=0;L<144;)k.lens[L++]=8;for(;L<256;)k.lens[L++]=9;for(;L<280;)k.lens[L++]=7;for(;L<288;)k.lens[L++]=8;for(c(m,k.lens,0,288,P,0,k.work,{bits:9}),L=0;L<32;)k.lens[L++]=5;c(f,k.lens,0,32,D,0,k.work,{bits:5}),M=!1}k.lencode=P,k.lenbits=9,k.distcode=D,k.distbits=5}function K(k,L,p,B){var ee,U=k.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new i.Buf8(U.wsize)),B>=U.wsize?(i.arraySet(U.window,L,p-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(B<(ee=U.wsize-U.wnext)&&(ee=B),i.arraySet(U.window,L,p-B,ee,U.wnext),(B-=ee)?(i.arraySet(U.window,L,p-B,B,0),U.wnext=B,U.whave=U.wsize):(U.wnext+=ee,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=ee))),0}t.inflateReset=O,t.inflateReset2=I,t.inflateResetKeep=w,t.inflateInit=function(k){return E(k,15)},t.inflateInit2=E,t.inflate=function(k,L){var p,B,ee,U,te,A,J,F,z,X,q,Z,ce,he,oe,le,ge,pe,_e,Ce,u,$,V,C,S=0,j=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return d;(p=k.state).mode===12&&(p.mode=13),te=k.next_out,ee=k.output,J=k.avail_out,U=k.next_in,B=k.input,A=k.avail_in,F=p.hold,z=p.bits,X=A,q=J,$=b;e:for(;;)switch(p.mode){case y:if(p.wrap===0){p.mode=13;break}for(;z<16;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(2&p.wrap&&F===35615){j[p.check=0]=255&F,j[1]=F>>>8&255,p.check=r(p.check,j,2,0),z=F=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&F)<<8)+(F>>8))%31){k.msg="incorrect header check",p.mode=30;break}if((15&F)!=8){k.msg="unknown compression method",p.mode=30;break}if(z-=4,u=8+(15&(F>>>=4)),p.wbits===0)p.wbits=u;else if(u>p.wbits){k.msg="invalid window size",p.mode=30;break}p.dmax=1<<u,k.adler=p.check=1,p.mode=512&F?10:12,z=F=0;break;case 2:for(;z<16;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(p.flags=F,(255&p.flags)!=8){k.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){k.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=F>>8&1),512&p.flags&&(j[0]=255&F,j[1]=F>>>8&255,p.check=r(p.check,j,2,0)),z=F=0,p.mode=3;case 3:for(;z<32;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}p.head&&(p.head.time=F),512&p.flags&&(j[0]=255&F,j[1]=F>>>8&255,j[2]=F>>>16&255,j[3]=F>>>24&255,p.check=r(p.check,j,4,0)),z=F=0,p.mode=4;case 4:for(;z<16;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}p.head&&(p.head.xflags=255&F,p.head.os=F>>8),512&p.flags&&(j[0]=255&F,j[1]=F>>>8&255,p.check=r(p.check,j,2,0)),z=F=0,p.mode=5;case 5:if(1024&p.flags){for(;z<16;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}p.length=F,p.head&&(p.head.extra_len=F),512&p.flags&&(j[0]=255&F,j[1]=F>>>8&255,p.check=r(p.check,j,2,0)),z=F=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(A<(Z=p.length)&&(Z=A),Z&&(p.head&&(u=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),i.arraySet(p.head.extra,B,U,Z,u)),512&p.flags&&(p.check=r(p.check,B,Z,U)),A-=Z,U+=Z,p.length-=Z),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(A===0)break e;for(Z=0;u=B[U+Z++],p.head&&u&&p.length<65536&&(p.head.name+=String.fromCharCode(u)),u&&Z<A;);if(512&p.flags&&(p.check=r(p.check,B,Z,U)),A-=Z,U+=Z,u)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(A===0)break e;for(Z=0;u=B[U+Z++],p.head&&u&&p.length<65536&&(p.head.comment+=String.fromCharCode(u)),u&&Z<A;);if(512&p.flags&&(p.check=r(p.check,B,Z,U)),A-=Z,U+=Z,u)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;z<16;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(F!==(65535&p.check)){k.msg="header crc mismatch",p.mode=30;break}z=F=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),k.adler=p.check=0,p.mode=12;break;case 10:for(;z<32;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}k.adler=p.check=v(F),z=F=0,p.mode=11;case 11:if(p.havedict===0)return k.next_out=te,k.avail_out=J,k.next_in=U,k.avail_in=A,p.hold=F,p.bits=z,2;k.adler=p.check=1,p.mode=12;case 12:if(L===5||L===6)break e;case 13:if(p.last){F>>>=7&z,z-=7&z,p.mode=27;break}for(;z<3;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}switch(p.last=1&F,z-=1,3&(F>>>=1)){case 0:p.mode=14;break;case 1:if(N(p),p.mode=20,L!==6)break;F>>>=2,z-=2;break e;case 2:p.mode=17;break;case 3:k.msg="invalid block type",p.mode=30}F>>>=2,z-=2;break;case 14:for(F>>>=7&z,z-=7&z;z<32;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if((65535&F)!=(F>>>16^65535)){k.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&F,z=F=0,p.mode=15,L===6)break e;case 15:p.mode=16;case 16:if(Z=p.length){if(A<Z&&(Z=A),J<Z&&(Z=J),Z===0)break e;i.arraySet(ee,B,U,Z,te),A-=Z,U+=Z,J-=Z,te+=Z,p.length-=Z;break}p.mode=12;break;case 17:for(;z<14;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(p.nlen=257+(31&F),F>>>=5,z-=5,p.ndist=1+(31&F),F>>>=5,z-=5,p.ncode=4+(15&F),F>>>=4,z-=4,286<p.nlen||30<p.ndist){k.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;z<3;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}p.lens[H[p.have++]]=7&F,F>>>=3,z-=3}for(;p.have<19;)p.lens[H[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,V={bits:p.lenbits},$=c(0,p.lens,0,19,p.lencode,0,p.work,V),p.lenbits=V.bits,$){k.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;le=(S=p.lencode[F&(1<<p.lenbits)-1])>>>16&255,ge=65535&S,!((oe=S>>>24)<=z);){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(ge<16)F>>>=oe,z-=oe,p.lens[p.have++]=ge;else{if(ge===16){for(C=oe+2;z<C;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(F>>>=oe,z-=oe,p.have===0){k.msg="invalid bit length repeat",p.mode=30;break}u=p.lens[p.have-1],Z=3+(3&F),F>>>=2,z-=2}else if(ge===17){for(C=oe+3;z<C;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}z-=oe,u=0,Z=3+(7&(F>>>=oe)),F>>>=3,z-=3}else{for(C=oe+7;z<C;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}z-=oe,u=0,Z=11+(127&(F>>>=oe)),F>>>=7,z-=7}if(p.have+Z>p.nlen+p.ndist){k.msg="invalid bit length repeat",p.mode=30;break}for(;Z--;)p.lens[p.have++]=u}}if(p.mode===30)break;if(p.lens[256]===0){k.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,V={bits:p.lenbits},$=c(m,p.lens,0,p.nlen,p.lencode,0,p.work,V),p.lenbits=V.bits,$){k.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,V={bits:p.distbits},$=c(f,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,V),p.distbits=V.bits,$){k.msg="invalid distances set",p.mode=30;break}if(p.mode=20,L===6)break e;case 20:p.mode=21;case 21:if(6<=A&&258<=J){k.next_out=te,k.avail_out=J,k.next_in=U,k.avail_in=A,p.hold=F,p.bits=z,o(k,q),te=k.next_out,ee=k.output,J=k.avail_out,U=k.next_in,B=k.input,A=k.avail_in,F=p.hold,z=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;le=(S=p.lencode[F&(1<<p.lenbits)-1])>>>16&255,ge=65535&S,!((oe=S>>>24)<=z);){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(le&&!(240&le)){for(pe=oe,_e=le,Ce=ge;le=(S=p.lencode[Ce+((F&(1<<pe+_e)-1)>>pe)])>>>16&255,ge=65535&S,!(pe+(oe=S>>>24)<=z);){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}F>>>=pe,z-=pe,p.back+=pe}if(F>>>=oe,z-=oe,p.back+=oe,p.length=ge,le===0){p.mode=26;break}if(32&le){p.back=-1,p.mode=12;break}if(64&le){k.msg="invalid literal/length code",p.mode=30;break}p.extra=15&le,p.mode=22;case 22:if(p.extra){for(C=p.extra;z<C;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}p.length+=F&(1<<p.extra)-1,F>>>=p.extra,z-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;le=(S=p.distcode[F&(1<<p.distbits)-1])>>>16&255,ge=65535&S,!((oe=S>>>24)<=z);){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(!(240&le)){for(pe=oe,_e=le,Ce=ge;le=(S=p.distcode[Ce+((F&(1<<pe+_e)-1)>>pe)])>>>16&255,ge=65535&S,!(pe+(oe=S>>>24)<=z);){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}F>>>=pe,z-=pe,p.back+=pe}if(F>>>=oe,z-=oe,p.back+=oe,64&le){k.msg="invalid distance code",p.mode=30;break}p.offset=ge,p.extra=15&le,p.mode=24;case 24:if(p.extra){for(C=p.extra;z<C;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}p.offset+=F&(1<<p.extra)-1,F>>>=p.extra,z-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){k.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(J===0)break e;if(Z=q-J,p.offset>Z){if((Z=p.offset-Z)>p.whave&&p.sane){k.msg="invalid distance too far back",p.mode=30;break}ce=Z>p.wnext?(Z-=p.wnext,p.wsize-Z):p.wnext-Z,Z>p.length&&(Z=p.length),he=p.window}else he=ee,ce=te-p.offset,Z=p.length;for(J<Z&&(Z=J),J-=Z,p.length-=Z;ee[te++]=he[ce++],--Z;);p.length===0&&(p.mode=21);break;case 26:if(J===0)break e;ee[te++]=p.length,J--,p.mode=21;break;case 27:if(p.wrap){for(;z<32;){if(A===0)break e;A--,F|=B[U++]<<z,z+=8}if(q-=J,k.total_out+=q,p.total+=q,q&&(k.adler=p.check=p.flags?r(p.check,ee,q,te-q):a(p.check,ee,q,te-q)),q=J,(p.flags?F:v(F))!==p.check){k.msg="incorrect data check",p.mode=30;break}z=F=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;z<32;){if(A===0)break e;A--,F+=B[U++]<<z,z+=8}if(F!==(4294967295&p.total)){k.msg="incorrect length check",p.mode=30;break}z=F=0}p.mode=29;case 29:$=1;break e;case 30:$=-3;break e;case 31:return-4;case 32:default:return d}return k.next_out=te,k.avail_out=J,k.next_in=U,k.avail_in=A,p.hold=F,p.bits=z,(p.wsize||q!==k.avail_out&&p.mode<30&&(p.mode<27||L!==4))&&K(k,k.output,k.next_out,q-k.avail_out)?(p.mode=31,-4):(X-=k.avail_in,q-=k.avail_out,k.total_in+=X,k.total_out+=q,p.total+=q,p.wrap&&q&&(k.adler=p.check=p.flags?r(p.check,ee,q,k.next_out-q):a(p.check,ee,q,k.next_out-q)),k.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(X==0&&q===0||L===4)&&$===b&&($=-5),$)},t.inflateEnd=function(k){if(!k||!k.state)return d;var L=k.state;return L.window&&(L.window=null),k.state=null,b},t.inflateGetHeader=function(k,L){var p;return k&&k.state&&2&(p=k.state).wrap?((p.head=L).done=!1,b):d},t.inflateSetDictionary=function(k,L){var p,B=L.length;return k&&k.state?(p=k.state).wrap!==0&&p.mode!==11?d:p.mode===11&&a(1,L,B,0)!==p.check?-3:K(k,L,B,B)?(p.mode=31,-4):(p.havedict=1,b):d},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,s,t){var i=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(m,f,b,d,y,h,g,v){var x,w,O,I,E,P,D,M,N,K=v.bits,k=0,L=0,p=0,B=0,ee=0,U=0,te=0,A=0,J=0,F=0,z=null,X=0,q=new i.Buf16(16),Z=new i.Buf16(16),ce=null,he=0;for(k=0;k<=15;k++)q[k]=0;for(L=0;L<d;L++)q[f[b+L]]++;for(ee=K,B=15;1<=B&&q[B]===0;B--);if(B<ee&&(ee=B),B===0)return y[h++]=20971520,y[h++]=20971520,v.bits=1,0;for(p=1;p<B&&q[p]===0;p++);for(ee<p&&(ee=p),k=A=1;k<=15;k++)if(A<<=1,(A-=q[k])<0)return-1;if(0<A&&(m===0||B!==1))return-1;for(Z[1]=0,k=1;k<15;k++)Z[k+1]=Z[k]+q[k];for(L=0;L<d;L++)f[b+L]!==0&&(g[Z[f[b+L]]++]=L);if(P=m===0?(z=ce=g,19):m===1?(z=a,X-=257,ce=r,he-=257,256):(z=o,ce=c,-1),k=p,E=h,te=L=F=0,O=-1,I=(J=1<<(U=ee))-1,m===1&&852<J||m===2&&592<J)return 1;for(;;){for(D=k-te,N=g[L]<P?(M=0,g[L]):g[L]>P?(M=ce[he+g[L]],z[X+g[L]]):(M=96,0),x=1<<k-te,p=w=1<<U;y[E+(F>>te)+(w-=x)]=D<<24|M<<16|N|0,w!==0;);for(x=1<<k-1;F&x;)x>>=1;if(x!==0?(F&=x-1,F+=x):F=0,L++,--q[k]==0){if(k===B)break;k=f[b+g[L]]}if(ee<k&&(F&I)!==O){for(te===0&&(te=ee),E+=p,A=1<<(U=k-te);U+te<B&&!((A-=q[U+te])<=0);)U++,A<<=1;if(J+=1<<U,m===1&&852<J||m===2&&592<J)return 1;y[O=F&I]=ee<<24|U<<16|E-h|0}}return F!==0&&(y[E+F]=k-te<<24|64<<16|0),v.bits=ee,0}},{"../utils/common":41}],51:[function(n,s,t){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,s,t){var i=n("../utils/common"),a=0,r=1;function o(S){for(var j=S.length;0<=--j;)S[j]=0}var c=0,m=29,f=256,b=f+1+m,d=30,y=19,h=2*b+1,g=15,v=16,x=7,w=256,O=16,I=17,E=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(b+2));o(K);var k=new Array(2*d);o(k);var L=new Array(512);o(L);var p=new Array(256);o(p);var B=new Array(m);o(B);var ee,U,te,A=new Array(d);function J(S,j,H,W,R){this.static_tree=S,this.extra_bits=j,this.extra_base=H,this.elems=W,this.max_length=R,this.has_stree=S&&S.length}function F(S,j){this.dyn_tree=S,this.max_code=0,this.stat_desc=j}function z(S){return S<256?L[S]:L[256+(S>>>7)]}function X(S,j){S.pending_buf[S.pending++]=255&j,S.pending_buf[S.pending++]=j>>>8&255}function q(S,j,H){S.bi_valid>v-H?(S.bi_buf|=j<<S.bi_valid&65535,X(S,S.bi_buf),S.bi_buf=j>>v-S.bi_valid,S.bi_valid+=H-v):(S.bi_buf|=j<<S.bi_valid&65535,S.bi_valid+=H)}function Z(S,j,H){q(S,H[2*j],H[2*j+1])}function ce(S,j){for(var H=0;H|=1&S,S>>>=1,H<<=1,0<--j;);return H>>>1}function he(S,j,H){var W,R,G=new Array(g+1),Q=0;for(W=1;W<=g;W++)G[W]=Q=Q+H[W-1]<<1;for(R=0;R<=j;R++){var Y=S[2*R+1];Y!==0&&(S[2*R]=ce(G[Y]++,Y))}}function oe(S){var j;for(j=0;j<b;j++)S.dyn_ltree[2*j]=0;for(j=0;j<d;j++)S.dyn_dtree[2*j]=0;for(j=0;j<y;j++)S.bl_tree[2*j]=0;S.dyn_ltree[2*w]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function le(S){8<S.bi_valid?X(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function ge(S,j,H,W){var R=2*j,G=2*H;return S[R]<S[G]||S[R]===S[G]&&W[j]<=W[H]}function pe(S,j,H){for(var W=S.heap[H],R=H<<1;R<=S.heap_len&&(R<S.heap_len&&ge(j,S.heap[R+1],S.heap[R],S.depth)&&R++,!ge(j,W,S.heap[R],S.depth));)S.heap[H]=S.heap[R],H=R,R<<=1;S.heap[H]=W}function _e(S,j,H){var W,R,G,Q,Y=0;if(S.last_lit!==0)for(;W=S.pending_buf[S.d_buf+2*Y]<<8|S.pending_buf[S.d_buf+2*Y+1],R=S.pending_buf[S.l_buf+Y],Y++,W===0?Z(S,R,j):(Z(S,(G=p[R])+f+1,j),(Q=P[G])!==0&&q(S,R-=B[G],Q),Z(S,G=z(--W),H),(Q=D[G])!==0&&q(S,W-=A[G],Q)),Y<S.last_lit;);Z(S,w,j)}function Ce(S,j){var H,W,R,G=j.dyn_tree,Q=j.stat_desc.static_tree,Y=j.stat_desc.has_stree,ne=j.stat_desc.elems,fe=-1;for(S.heap_len=0,S.heap_max=h,H=0;H<ne;H++)G[2*H]!==0?(S.heap[++S.heap_len]=fe=H,S.depth[H]=0):G[2*H+1]=0;for(;S.heap_len<2;)G[2*(R=S.heap[++S.heap_len]=fe<2?++fe:0)]=1,S.depth[R]=0,S.opt_len--,Y&&(S.static_len-=Q[2*R+1]);for(j.max_code=fe,H=S.heap_len>>1;1<=H;H--)pe(S,G,H);for(R=ne;H=S.heap[1],S.heap[1]=S.heap[S.heap_len--],pe(S,G,1),W=S.heap[1],S.heap[--S.heap_max]=H,S.heap[--S.heap_max]=W,G[2*R]=G[2*H]+G[2*W],S.depth[R]=(S.depth[H]>=S.depth[W]?S.depth[H]:S.depth[W])+1,G[2*H+1]=G[2*W+1]=R,S.heap[1]=R++,pe(S,G,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(ue,ke){var $e,je,Ue,ve,ot,It,ze=ke.dyn_tree,un=ke.max_code,Pr=ke.stat_desc.static_tree,Mr=ke.stat_desc.has_stree,jr=ke.stat_desc.extra_bits,cn=ke.stat_desc.extra_base,He=ke.stat_desc.max_length,lt=0;for(ve=0;ve<=g;ve++)ue.bl_count[ve]=0;for(ze[2*ue.heap[ue.heap_max]+1]=0,$e=ue.heap_max+1;$e<h;$e++)He<(ve=ze[2*ze[2*(je=ue.heap[$e])+1]+1]+1)&&(ve=He,lt++),ze[2*je+1]=ve,un<je||(ue.bl_count[ve]++,ot=0,cn<=je&&(ot=jr[je-cn]),It=ze[2*je],ue.opt_len+=It*(ve+ot),Mr&&(ue.static_len+=It*(Pr[2*je+1]+ot)));if(lt!==0){do{for(ve=He-1;ue.bl_count[ve]===0;)ve--;ue.bl_count[ve]--,ue.bl_count[ve+1]+=2,ue.bl_count[He]--,lt-=2}while(0<lt);for(ve=He;ve!==0;ve--)for(je=ue.bl_count[ve];je!==0;)un<(Ue=ue.heap[--$e])||(ze[2*Ue+1]!==ve&&(ue.opt_len+=(ve-ze[2*Ue+1])*ze[2*Ue],ze[2*Ue+1]=ve),je--)}}(S,j),he(G,fe,S.bl_count)}function u(S,j,H){var W,R,G=-1,Q=j[1],Y=0,ne=7,fe=4;for(Q===0&&(ne=138,fe=3),j[2*(H+1)+1]=65535,W=0;W<=H;W++)R=Q,Q=j[2*(W+1)+1],++Y<ne&&R===Q||(Y<fe?S.bl_tree[2*R]+=Y:R!==0?(R!==G&&S.bl_tree[2*R]++,S.bl_tree[2*O]++):Y<=10?S.bl_tree[2*I]++:S.bl_tree[2*E]++,G=R,fe=(Y=0)===Q?(ne=138,3):R===Q?(ne=6,3):(ne=7,4))}function $(S,j,H){var W,R,G=-1,Q=j[1],Y=0,ne=7,fe=4;for(Q===0&&(ne=138,fe=3),W=0;W<=H;W++)if(R=Q,Q=j[2*(W+1)+1],!(++Y<ne&&R===Q)){if(Y<fe)for(;Z(S,R,S.bl_tree),--Y!=0;);else R!==0?(R!==G&&(Z(S,R,S.bl_tree),Y--),Z(S,O,S.bl_tree),q(S,Y-3,2)):Y<=10?(Z(S,I,S.bl_tree),q(S,Y-3,3)):(Z(S,E,S.bl_tree),q(S,Y-11,7));G=R,fe=(Y=0)===Q?(ne=138,3):R===Q?(ne=6,3):(ne=7,4)}}o(A);var V=!1;function C(S,j,H,W){q(S,(c<<1)+(W?1:0),3),function(R,G,Q,Y){le(R),Y&&(X(R,Q),X(R,~Q)),i.arraySet(R.pending_buf,R.window,G,Q,R.pending),R.pending+=Q}(S,j,H,!0)}t._tr_init=function(S){V||(function(){var j,H,W,R,G,Q=new Array(g+1);for(R=W=0;R<m-1;R++)for(B[R]=W,j=0;j<1<<P[R];j++)p[W++]=R;for(p[W-1]=R,R=G=0;R<16;R++)for(A[R]=G,j=0;j<1<<D[R];j++)L[G++]=R;for(G>>=7;R<d;R++)for(A[R]=G<<7,j=0;j<1<<D[R]-7;j++)L[256+G++]=R;for(H=0;H<=g;H++)Q[H]=0;for(j=0;j<=143;)K[2*j+1]=8,j++,Q[8]++;for(;j<=255;)K[2*j+1]=9,j++,Q[9]++;for(;j<=279;)K[2*j+1]=7,j++,Q[7]++;for(;j<=287;)K[2*j+1]=8,j++,Q[8]++;for(he(K,b+1,Q),j=0;j<d;j++)k[2*j+1]=5,k[2*j]=ce(j,5);ee=new J(K,P,f+1,b,g),U=new J(k,D,0,d,g),te=new J(new Array(0),M,0,y,x)}(),V=!0),S.l_desc=new F(S.dyn_ltree,ee),S.d_desc=new F(S.dyn_dtree,U),S.bl_desc=new F(S.bl_tree,te),S.bi_buf=0,S.bi_valid=0,oe(S)},t._tr_stored_block=C,t._tr_flush_block=function(S,j,H,W){var R,G,Q=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(Y){var ne,fe=4093624447;for(ne=0;ne<=31;ne++,fe>>>=1)if(1&fe&&Y.dyn_ltree[2*ne]!==0)return a;if(Y.dyn_ltree[18]!==0||Y.dyn_ltree[20]!==0||Y.dyn_ltree[26]!==0)return r;for(ne=32;ne<f;ne++)if(Y.dyn_ltree[2*ne]!==0)return r;return a}(S)),Ce(S,S.l_desc),Ce(S,S.d_desc),Q=function(Y){var ne;for(u(Y,Y.dyn_ltree,Y.l_desc.max_code),u(Y,Y.dyn_dtree,Y.d_desc.max_code),Ce(Y,Y.bl_desc),ne=y-1;3<=ne&&Y.bl_tree[2*N[ne]+1]===0;ne--);return Y.opt_len+=3*(ne+1)+5+5+4,ne}(S),R=S.opt_len+3+7>>>3,(G=S.static_len+3+7>>>3)<=R&&(R=G)):R=G=H+5,H+4<=R&&j!==-1?C(S,j,H,W):S.strategy===4||G===R?(q(S,2+(W?1:0),3),_e(S,K,k)):(q(S,4+(W?1:0),3),function(Y,ne,fe,ue){var ke;for(q(Y,ne-257,5),q(Y,fe-1,5),q(Y,ue-4,4),ke=0;ke<ue;ke++)q(Y,Y.bl_tree[2*N[ke]+1],3);$(Y,Y.dyn_ltree,ne-1),$(Y,Y.dyn_dtree,fe-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,Q+1),_e(S,S.dyn_ltree,S.dyn_dtree)),oe(S),W&&le(S)},t._tr_tally=function(S,j,H){return S.pending_buf[S.d_buf+2*S.last_lit]=j>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&j,S.pending_buf[S.l_buf+S.last_lit]=255&H,S.last_lit++,j===0?S.dyn_ltree[2*H]++:(S.matches++,j--,S.dyn_ltree[2*(p[H]+f+1)]++,S.dyn_dtree[2*z(j)]++),S.last_lit===S.lit_bufsize-1},t._tr_align=function(S){q(S,2,3),Z(S,w,K),function(j){j.bi_valid===16?(X(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(n,s,t){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,s,t){(function(i){(function(a,r){if(!a.setImmediate){var o,c,m,f,b=1,d={},y=!1,h=a.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(a);g=g&&g.setTimeout?g:a,o={}.toString.call(a.process)==="[object process]"?function(O){process.nextTick(function(){x(O)})}:function(){if(a.postMessage&&!a.importScripts){var O=!0,I=a.onmessage;return a.onmessage=function(){O=!1},a.postMessage("","*"),a.onmessage=I,O}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(O){a.postMessage(f+O,"*")}):a.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){x(O.data)},function(O){m.port2.postMessage(O)}):h&&"onreadystatechange"in h.createElement("script")?(c=h.documentElement,function(O){var I=h.createElement("script");I.onreadystatechange=function(){x(O),I.onreadystatechange=null,c.removeChild(I),I=null},c.appendChild(I)}):function(O){setTimeout(x,0,O)},g.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var I=new Array(arguments.length-1),E=0;E<I.length;E++)I[E]=arguments[E+1];var P={callback:O,args:I};return d[b]=P,o(b),b++},g.clearImmediate=v}function v(O){delete d[O]}function x(O){if(y)setTimeout(x,0,O);else{var I=d[O];if(I){y=!0;try{(function(E){var P=E.callback,D=E.args;switch(D.length){case 0:P();break;case 1:P(D[0]);break;case 2:P(D[0],D[1]);break;case 3:P(D[0],D[1],D[2]);break;default:P.apply(r,D)}})(I)}finally{v(O),y=!1}}}}function w(O){O.source===a&&typeof O.data=="string"&&O.data.indexOf(f)===0&&x(+O.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Er);var Cl=Er.exports;const kl=Vr(Cl);function Ol(l){const{multipleState:e,changeMultipleState:n,selectedKeys:s,isSelectedAll:t,batchOperationCallback:i}=l,a=()=>{const o=Hn().filter(b=>s.includes(b.id)),c=`ComfyUI workflow ${Kt(Date.now())}`,m=new kl,f=m.folder(c);o.forEach(b=>{f&&f.file(`${b.name}.json`,b.json)}),m.generateAsync({type:"blob"}).then(function(b){const d=document.createElement("a");d.href=window.URL.createObjectURL(b),d.download=`${c}.zip`,document.body.appendChild(d),d.click(),document.body.removeChild(d)})},r=s.length===0;return _.jsx(ye,{spacing:2,wrap:"wrap",mb:0,children:e?_.jsxs(_.Fragment,{children:[_.jsx(Gn,{isChecked:t,onChange:o=>{i("selectAll",o.target.checked)}}),_.jsx(Ae,{hasArrow:!0,label:"Download Zip",placement:"bottom",children:_.jsx(xe,{isDisabled:r,"aria-label":"Batch export",size:"sm",icon:_.jsx(Gr,{size:21}),onClick:a})}),_.jsx(Ae,{hasArrow:!0,label:"Batch deletion",children:_.jsx(Or,{isDisabled:r,variant:"solid",promptMessage:`Are you sure you want to delete these ${s.length} checked workflows?`,tooltipText:"Delete selected",onDelete:()=>{Yr(s),i("batchDelete")}})}),s.length>0&&_.jsx(Se,{fontWeight:600,children:`Selected ${s.length}`}),_.jsx(Ae,{hasArrow:!0,label:"Exit multi-select",children:_.jsx(xe,{"aria-label":"Close multi-select operation",size:"sm",icon:_.jsx(Xt,{}),onClick:()=>{n(!1)}})})]}):_.jsx(Ae,{hasArrow:!0,label:"Select multiple",placement:"bottom-start",children:_.jsx(xe,{"aria-label":"Start multi-select operation",size:"sm",variant:"outline",icon:_.jsx(_i,{size:21}),onClick:()=>{n(!0)}})})})}function Il(l,e){var O,I;const n=JSON.parse(l),s=n.nodes,t=n.links,i=LiteGraph.LLink;let a={},r=app.graph.last_node_id;for(let E=0;E<s.length;E++)r++,a[s[E].id]=r;let o={},c=app.graph.last_link_id;for(let E=0;E<n.links.length;E++)c++,o[n.links[E][0]]=c;if(t&&t.constructor===Array){for(var m=[],f=0;f<t.length;++f){const E=t[f];let P=[...E];P[0]=o[E[0]],P[1]=a[E[1]],P[3]=a[E[3]];var b=new i;b.configure(P),m[b.id]=b,app.graph.links[b.id]=b}app.graph.last_link_id=c}for(var d=!1,y=!1,f=0;f<n.nodes.length;++f)d?(d[0]>n.nodes[f].pos[0]&&(d[0]=n.nodes[f].pos[0],y[0]=f),d[1]>n.nodes[f].pos[1]&&(d[1]=n.nodes[f].pos[1],y[1]=f)):(d=[n.nodes[f].pos[0],n.nodes[f].pos[1]],y=[f,f]);for(var h=[],g={},f=0;f<s.length;++f){var v=s[f],x={...v};x.id=a[v.id],(O=x.inputs)==null||O.forEach(D=>{D.link=o[D.link]}),(I=x.outputs)==null||I.forEach(D=>{var M;D.links=(M=D.links)==null?void 0:M.map(N=>o[N])});let P=e?[e[0]-11,e[1]-11]:app.canvas.graph_mouse;x.pos[0]+=P[0]-d[0],x.pos[1]+=P[1]-d[1];var w=LiteGraph.createNode(x.type);w||(LiteGraph.debug&&console.log("Node not found or has errors: "+x.type),w=new LGraphNode,w.last_serialization=x,w.has_errors=!0),w.id=x.id,app.graph.add(w,!0),h.push(w),g[w.id]=x}h.forEach(E=>{E.configure(g[E.id])})}function El({folder:l,onclose:e}){const[n,s]=T.useState(l.name),[t,i]=T.useState(""),{onRefreshFilesList:a}=T.useContext(Ve),r=c=>{s(c.target.value),t&&i("")},o=()=>{var f,b,d;const c=n.trim();if(s(c),c===l.name)return e();(((b=(f=rt)==null?void 0:f.listAll())==null?void 0:b.map(y=>y.name))??[]).includes(c)?i("The name is duplicated, please modify it and submit again."):((d=rt)==null||d.update({id:l.id,name:c}),a&&a(),e())};return _.jsxs(qe,{isOpen:!0,onClose:e,children:[_.jsx(Xe,{}),_.jsxs(Je,{children:[_.jsx(Qe,{children:"Edit folder name"}),_.jsx(et,{}),_.jsx(tt,{children:_.jsxs(pi,{isInvalid:!!t,children:[_.jsx(mi,{children:"Folder name"}),_.jsx(at,{value:n,onChange:r,autoFocus:!0,onKeyUp:c=>{c.code==="Enter"&&!t&&o()}}),t&&_.jsx(vi,{children:t})]})}),_.jsxs(Br,{children:[_.jsx(be,{colorScheme:"teal",mr:3,onClick:o,isDisabled:!n||!!t,children:"Save"}),_.jsx(be,{onClick:e,children:"Cancel"})]})]})]})}function Pl({menuPosition:l,isopen:e,folder:n,onClose:s}){const[t,i]=T.useState(!1),[a,r]=T.useState(!1),{onRefreshFilesList:o}=T.useContext(Ve);return _.jsxs(_.Fragment,{children:[_.jsx(de,{position:"absolute",top:l.y,left:l.x,children:_.jsx(st,{isOpen:e,onClose:s,isLazy:!0,children:_.jsxs(kt,{children:[_.jsx(Le,{onClick:c=>{console.log("onclick rename"),c.preventDefault(),i(!0)},children:"Rename"}),_.jsx(Le,{onClick:()=>r(!0),children:"Delete"})]})})}),t&&_.jsx(El,{folder:n,onclose:()=>i(!1)}),a&&_.jsxs(Jt,{returnFocusOnClose:!1,isOpen:!0,onClose:()=>r(!1),closeOnBlur:!1,children:[_.jsx(Qt,{children:_.jsx("div",{})}),_.jsxs(en,{children:[_.jsx(tn,{}),_.jsx(nn,{}),_.jsxs(rn,{textAlign:"left",children:[_.jsxs(Se,{mb:2,children:["Are you sure you want to delete this folder,",_.jsxs("b",{children:[" ",n.name]}),"?"]}),_.jsx(Se,{color:"GrayText",mb:5,children:"This will NOT delete any files in the folder. The files will be moved to the root folder."}),_.jsx(be,{colorScheme:"red",size:"sm",onClick:()=>{var c;r(!1),s(),(c=rt)==null||c.delete(n.id),o&&o()},children:"Yes, delete"})]})]})]})]})}const Ml=T.memo(function l({folder:e}){const[n,s]=T.useState(!1),[t,i]=T.useState(e.isCollapse??!1),[a,r]=T.useState(()=>Ft(e.id)),[o,c]=T.useState({x:0,y:0}),[m,f]=T.useState(!1),{colorMode:b}=Zt(),{draggingFile:d,refreshFolderStamp:y,onRefreshFilesList:h}=T.useContext(Ve),g=b==="light"?{backgroundColor:"#E2E8F0"}:{backgroundColor:"#4A5568"};T.useEffect(()=>{r(Ft(e.id,window.localStorage.getItem(At)))},[e.id,y]);const v=x=>{x.preventDefault(),c({x:x.clientX,y:x.clientY}),f(!0)};return T.useEffect(()=>{var x;e.isCollapse!==t&&((x=rt)==null||x.update({id:e.id,isCollapse:t}))},[t]),_.jsxs(it,{children:[_.jsxs(ye,{w:"100%",as:"button",py:1,onClick:()=>{i(!t)},onContextMenu:v,onDragOver:x=>{x.preventDefault(),s(!0)},onDragLeave:()=>{s(!1)},onDrop:()=>{d&&!nt(d)&&(qt(d.id,{parentFolderID:e.id}),h&&h()),s(!1)},_hover:g,style:n||m?g:void 0,children:[_.jsxs(ye,{gap:1,children:[t?_.jsx(bi,{size:20}):_.jsx(Tt,{size:20}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#EFC54D",style:{width:"1.2rem",height:"1.2rem"},children:_.jsx("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"})})]}),_.jsx(Se,{children:e.name}),_.jsx(Pl,{isopen:m,menuPosition:o,onClose:()=>f(!1),folder:e})]}),!t&&_.jsx(it,{ml:4,gap:0,children:a.map(x=>nt(x)?_.jsx(l,{folder:x}):_.jsx(Ir,{workflow:x}))})]})}),jl=(l,e)=>{const[n,s]=T.useState(l);return T.useEffect(()=>{const t=setTimeout(()=>{s(l)},e);return()=>{clearTimeout(t)}},[l,e]),n},Dl={position:"absolute",marginLeft:"10px",width:"20px",height:"20px",top:"50%",color:"#A0AEC0",transform:"translateY(-50%)"};function zl(l){const{searchValue:e,onUpdateSearchValue:n}=l,s=e!=="";return _.jsxs(de,{style:{position:"relative"},mb:2,children:[_.jsx(Oi,{style:Dl}),s&&_.jsx(xe,{size:"xs",position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",background:"none",zIndex:"100",icon:_.jsx(Xt,{width:15,height:15}),onClick:()=>n(""),"aria-label":"clear input button"}),_.jsx(at,{placeholder:"Search",size:"sm",paddingLeft:"35px",paddingBlock:"5px",value:e,onChange:({target:t})=>n(t.value)})]})}const An=6;function Bl({onClose:l,onClickNewFlow:e}){var U,te;const[n,s]=T.useState([]),t=T.useRef([]),i=T.useRef([]),[a,r]=T.useState(),[o,c]=T.useState(!1),[m,f]=T.useState(!1),[b,d]=T.useState([]),[y,h]=T.useState(0),[g,v]=T.useState(""),x=jl(g,400),w=T.useRef(null),[O,I]=T.useState(null),E=T.useRef(window.localStorage.getItem(At)??fn.RECENTLY_MODIFIED),P=()=>{const A=Ft();t.current=A,i.current=Hn(),M(),h(Date.now())},D=!!a||!!x,M=()=>{if(D){const A=i.current.filter(J=>{var X;let F=!0,z=!0;return a&&(F=!!((X=J.tags)!=null&&X.includes(a))),x&&(z=!!J.name.toLocaleLowerCase().includes(x.toLocaleLowerCase())),F&&z});s(Et(A,E.current))}else s(Et(t.current,E.current))},N=A=>{s(Et(n,A)),E.current=A,window.localStorage.setItem(At,A),!D&&h(Date.now())};T.useEffect(()=>{M()},[x,a]);const K=T.useCallback(A=>{qr(A),P()},[a,x]);T.useEffect(()=>{P();const A=J=>{pn&&w.current&&Il(pn[w.current].json,[J.canvasX,J.canvasY])};return ct.canvasEl.addEventListener("drop",A),ct.canvasEl.addEventListener("click",l),()=>{ct.canvasEl.removeEventListener("drop",A),ct.canvasEl.removeEventListener("click",l)}},[]);const k=T.useCallback((A,J)=>{d(F=>{const z=[...F];return J?z.push(A):z.splice(z.indexOf(A),1),z})},[]),L=(A,J)=>{switch(A){case"batchDelete":P(),f(!1),d([]);return;case"selectAll":d(J?i.current.map(F=>F.id):[]);return}},p=A=>{I(A),nt(A)||(w.current=A.id)},B=A=>{v(A)},ee=440;return _.jsx(Ve.Provider,{value:{onRefreshFilesList:P,draggingFile:O??void 0,setDraggingFile:p,isMultiSelecting:m,onMultiSelectFlow:k,multiSelectedFlowsID:b,onDeleteFlow:K,refreshFolderStamp:y,setRefreshFolderStamp:h},children:_.jsx(de,{style:{width:ee},children:_.jsxs(gi,{width:ee,height:"100vh",pl:4,pr:5,pt:4,gap:4,position:"absolute",top:0,left:0,shadow:"xl",zIndex:1e3,children:[_.jsxs(Ye,{alignItems:"center",justifyContent:"space-between",children:[_.jsxs(ye,{gap:4,children:[_.jsx(ye,{gap:2,children:_.jsx(Se,{fontSize:19,fontWeight:600,children:"☕️Workspace"})}),_.jsx(_l,{}),_.jsx(Ae,{label:"Open workspace save directory",children:_.jsx(xe,{"aria-label":"Open workspace save directory",size:"sm",icon:_.jsx(Nn,{}),variant:"outline",colorScheme:"teal",onClick:()=>Kr()})}),_.jsx(Ae,{label:"New workflow",children:_.jsx(xe,{"aria-label":"New workflow",size:"sm",icon:_.jsx($n,{}),variant:"outline",colorScheme:"teal",onClick:e})})]}),_.jsx(ye,{alignItems:"center",children:_.jsx(zi,{})})]}),_.jsxs(Ye,{direction:"column",h:"calc(100% - 64px)",children:[_.jsxs(ye,{spacing:2,wrap:"wrap",mb:0,children:[a!=null&&_.jsx(xe,{"aria-label":"Close",size:"sm",icon:_.jsx(Xt,{}),onClick:()=>{r(void 0)}}),(U=De)==null?void 0:U.listAll().slice(0,o?void 0:An).map(A=>_.jsx(be,{variant:"solid",width:"auto",flexShrink:0,size:"sm",borderRadius:15,py:4,onClick:()=>{r(A.name)},isActive:a===A.name,children:A.name})),(((te=De)==null?void 0:te.listAll().length)??0)>An&&_.jsx(xe,{"aria-label":"Show-all-tags",size:"sm",icon:o?_.jsx(yi,{}):_.jsx(Tt,{}),onClick:()=>c(!o)})]}),_.jsxs(ye,{mb:2,mt:2,p:0,justifyContent:"space-between",children:[_.jsxs(ye,{children:[i.current.length>0?_.jsx(Ol,{multipleState:m,changeMultipleState:A=>{f(A),!A&&d([])},selectedKeys:b,isSelectedAll:b.length===i.current.length,batchOperationCallback:L}):_.jsx(de,{}),!m&&_.jsx(Ae,{hasArrow:!0,label:"New folder",placement:"bottom-start",children:_.jsx(xe,{size:"sm",variant:"outline",icon:_.jsx(wi,{size:21}),onClick:()=>{var A;(A=rt)==null||A.create({name:"New Folder"}),P()},"aria-label":"new folder button"})})]}),_.jsxs(st,{closeOnSelect:!0,children:[_.jsx(Zn,{as:be,variant:"ghost",size:"xs",pr:0,rightIcon:_.jsx(Tt,{size:"16"}),children:_.jsxs(ye,{children:[_.jsx(Se,{children:"Sort by:"}),_.jsx(Se,{display:"inline-block",children:E.current})]})}),_.jsx(kt,{children:_.jsx(oi,{value:E.current,type:"radio",onChange:A=>N(A),children:Object.values(fn).map((A,J)=>_.jsx(li,{value:A,children:A},J))})})]})]}),_.jsx(zl,{searchValue:g,onUpdateSearchValue:B}),_.jsx(Ye,{overflowY:"auto",overflowX:"hidden",direction:"column",children:n.map(A=>nt(A)?_.jsx(Ml,{folder:A},A.id):_.jsx(Ir,{workflow:A},A.id))})]})]})})})}export{Bl as default};
